ARM GAS  /tmp/cchFjZSQ.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_ll_usb.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USB_CoreInit,"ax",%progbits
  18              		.align	1
  19              		.global	USB_CoreInit
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	USB_CoreInit:
  26              	.LFB130:
  27              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * <h2><center>&copy; Copyright (c) 2016 STMicroelectronics.
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * All rights reserved.</center></h2>
  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
ARM GAS  /tmp/cchFjZSQ.s 			page 2


  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * the "License"; You may not use this file except in compliance with the
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * License. You may obtain a copy of the License at:
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *                        opensource.org/licenses/BSD-3-Clause
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *  @brief    Initialization and Configuration functions
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  28              		.loc 1 83 0
  29              		.cfi_startproc
  30              		@ args = 56, pretend = 16, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 84B0     		sub	sp, sp, #16
ARM GAS  /tmp/cchFjZSQ.s 			page 3


  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35 0002 80B5     		push	{r7, lr}
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 7, -24
  39              		.cfi_offset 14, -20
  40 0004 84B0     		sub	sp, sp, #16
  41              	.LCFI2:
  42              		.cfi_def_cfa_offset 40
  43 0006 00AF     		add	r7, sp, #0
  44              	.LCFI3:
  45              		.cfi_def_cfa_register 7
  46 0008 7860     		str	r0, [r7, #4]
  47 000a 07F11C00 		add	r0, r7, #28
  48 000e 80E80E00 		stm	r0, {r1, r2, r3}
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  49              		.loc 1 86 0
  50 0012 3B6B     		ldr	r3, [r7, #48]
  51 0014 012B     		cmp	r3, #1
  52 0016 22D1     		bne	.L2
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  53              		.loc 1 88 0
  54 0018 7B68     		ldr	r3, [r7, #4]
  55 001a 9B6B     		ldr	r3, [r3, #56]
  56 001c 23F48032 		bic	r2, r3, #65536
  57 0020 7B68     		ldr	r3, [r7, #4]
  58 0022 9A63     		str	r2, [r3, #56]
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  59              		.loc 1 91 0
  60 0024 7B68     		ldr	r3, [r7, #4]
  61 0026 DB68     		ldr	r3, [r3, #12]
  62 0028 23F48403 		bic	r3, r3, #4325376
  63 002c 23F04003 		bic	r3, r3, #64
  64 0030 7A68     		ldr	r2, [r7, #4]
  65 0032 D360     		str	r3, [r2, #12]
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  66              		.loc 1 94 0
  67 0034 7B68     		ldr	r3, [r7, #4]
  68 0036 DB68     		ldr	r3, [r3, #12]
  69 0038 23F44012 		bic	r2, r3, #3145728
  70 003c 7B68     		ldr	r3, [r7, #4]
  71 003e DA60     		str	r2, [r3, #12]
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.use_external_vbus == 1U)
  72              		.loc 1 95 0
  73 0040 FB6C     		ldr	r3, [r7, #76]
  74 0042 012B     		cmp	r3, #1
  75 0044 05D1     		bne	.L3
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
ARM GAS  /tmp/cchFjZSQ.s 			page 4


  76              		.loc 1 97 0
  77 0046 7B68     		ldr	r3, [r7, #4]
  78 0048 DB68     		ldr	r3, [r3, #12]
  79 004a 43F48012 		orr	r2, r3, #1048576
  80 004e 7B68     		ldr	r3, [r7, #4]
  81 0050 DA60     		str	r2, [r3, #12]
  82              	.L3:
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select  */
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  83              		.loc 1 100 0
  84 0052 7868     		ldr	r0, [r7, #4]
  85 0054 FFF7FEFF 		bl	USB_CoreReset
  86 0058 0346     		mov	r3, r0
  87 005a FB73     		strb	r3, [r7, #15]
  88 005c 1AE0     		b	.L4
  89              	.L2:
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  90              		.loc 1 105 0
  91 005e 7B68     		ldr	r3, [r7, #4]
  92 0060 DB68     		ldr	r3, [r3, #12]
  93 0062 43F04002 		orr	r2, r3, #64
  94 0066 7B68     		ldr	r3, [r7, #4]
  95 0068 DA60     		str	r2, [r3, #12]
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select and set Host mode */
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  96              		.loc 1 108 0
  97 006a 7868     		ldr	r0, [r7, #4]
  98 006c FFF7FEFF 		bl	USB_CoreReset
  99 0070 0346     		mov	r3, r0
 100 0072 FB73     		strb	r3, [r7, #15]
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.battery_charging_enable == 0U)
 101              		.loc 1 110 0
 102 0074 3B6C     		ldr	r3, [r7, #64]
 103 0076 002B     		cmp	r3, #0
 104 0078 06D1     		bne	.L5
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Activate the USB Transceiver */
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
 105              		.loc 1 113 0
 106 007a 7B68     		ldr	r3, [r7, #4]
 107 007c 9B6B     		ldr	r3, [r3, #56]
 108 007e 43F48032 		orr	r2, r3, #65536
 109 0082 7B68     		ldr	r3, [r7, #4]
 110 0084 9A63     		str	r2, [r3, #56]
 111 0086 05E0     		b	.L4
 112              	.L5:
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Deactivate the USB Transceiver */
ARM GAS  /tmp/cchFjZSQ.s 			page 5


 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 113              		.loc 1 118 0
 114 0088 7B68     		ldr	r3, [r7, #4]
 115 008a 9B6B     		ldr	r3, [r3, #56]
 116 008c 23F48032 		bic	r2, r3, #65536
 117 0090 7B68     		ldr	r3, [r7, #4]
 118 0092 9A63     		str	r2, [r3, #56]
 119              	.L4:
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 120              		.loc 1 122 0
 121 0094 BB6A     		ldr	r3, [r7, #40]
 122 0096 012B     		cmp	r3, #1
 123 0098 0BD1     		bne	.L6
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 124              		.loc 1 124 0
 125 009a 7B68     		ldr	r3, [r7, #4]
 126 009c 9B68     		ldr	r3, [r3, #8]
 127 009e 43F00602 		orr	r2, r3, #6
 128 00a2 7B68     		ldr	r3, [r7, #4]
 129 00a4 9A60     		str	r2, [r3, #8]
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 130              		.loc 1 125 0
 131 00a6 7B68     		ldr	r3, [r7, #4]
 132 00a8 9B68     		ldr	r3, [r3, #8]
 133 00aa 43F02002 		orr	r2, r3, #32
 134 00ae 7B68     		ldr	r3, [r7, #4]
 135 00b0 9A60     		str	r2, [r3, #8]
 136              	.L6:
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 137              		.loc 1 128 0
 138 00b2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 139              		.loc 1 129 0
 140 00b4 1846     		mov	r0, r3
 141 00b6 1037     		adds	r7, r7, #16
 142              	.LCFI4:
 143              		.cfi_def_cfa_offset 24
 144 00b8 BD46     		mov	sp, r7
 145              	.LCFI5:
 146              		.cfi_def_cfa_register 13
 147              		@ sp needed
 148 00ba BDE88040 		pop	{r7, lr}
 149              	.LCFI6:
 150              		.cfi_restore 14
 151              		.cfi_restore 7
 152              		.cfi_def_cfa_offset 16
 153 00be 04B0     		add	sp, sp, #16
 154              	.LCFI7:
 155              		.cfi_def_cfa_offset 0
 156 00c0 7047     		bx	lr
 157              		.cfi_endproc
ARM GAS  /tmp/cchFjZSQ.s 			page 6


 158              	.LFE130:
 160              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 161              		.align	1
 162              		.global	USB_SetTurnaroundTime
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 166              		.fpu fpv4-sp-d16
 168              	USB_SetTurnaroundTime:
 169              	.LFB131:
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 170              		.loc 1 140 0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 24
 173              		@ frame_needed = 1, uses_anonymous_args = 0
 174              		@ link register save eliminated.
 175 0000 80B4     		push	{r7}
 176              	.LCFI8:
 177              		.cfi_def_cfa_offset 4
 178              		.cfi_offset 7, -4
 179 0002 87B0     		sub	sp, sp, #28
 180              	.LCFI9:
 181              		.cfi_def_cfa_offset 32
 182 0004 00AF     		add	r7, sp, #0
 183              	.LCFI10:
 184              		.cfi_def_cfa_register 7
 185 0006 F860     		str	r0, [r7, #12]
 186 0008 B960     		str	r1, [r7, #8]
 187 000a 1346     		mov	r3, r2
 188 000c FB71     		strb	r3, [r7, #7]
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t UsbTrd;
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   latency to the Data FIFO */
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 189              		.loc 1 147 0
 190 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 191 0010 022B     		cmp	r3, #2
 192 0012 65D1     		bne	.L9
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 193              		.loc 1 149 0
 194 0014 BB68     		ldr	r3, [r7, #8]
 195 0016 414A     		ldr	r2, .L23
 196 0018 9342     		cmp	r3, r2
ARM GAS  /tmp/cchFjZSQ.s 			page 7


 197 001a 06D9     		bls	.L10
 198              		.loc 1 149 0 is_stmt 0 discriminator 1
 199 001c BB68     		ldr	r3, [r7, #8]
 200 001e 404A     		ldr	r2, .L23+4
 201 0020 9342     		cmp	r3, r2
 202 0022 02D8     		bhi	.L10
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xFU;
 203              		.loc 1 152 0 is_stmt 1
 204 0024 0F23     		movs	r3, #15
 205 0026 7B61     		str	r3, [r7, #20]
 206 0028 62E0     		b	.L20
 207              	.L10:
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 208              		.loc 1 154 0
 209 002a BB68     		ldr	r3, [r7, #8]
 210 002c 3C4A     		ldr	r2, .L23+4
 211 002e 9342     		cmp	r3, r2
 212 0030 06D9     		bls	.L12
 213              		.loc 1 154 0 is_stmt 0 discriminator 1
 214 0032 BB68     		ldr	r3, [r7, #8]
 215 0034 3B4A     		ldr	r2, .L23+8
 216 0036 9342     		cmp	r3, r2
 217 0038 02D8     		bhi	.L12
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xEU;
 218              		.loc 1 157 0 is_stmt 1
 219 003a 0E23     		movs	r3, #14
 220 003c 7B61     		str	r3, [r7, #20]
 221 003e 57E0     		b	.L20
 222              	.L12:
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 223              		.loc 1 159 0
 224 0040 BB68     		ldr	r3, [r7, #8]
 225 0042 384A     		ldr	r2, .L23+8
 226 0044 9342     		cmp	r3, r2
 227 0046 06D9     		bls	.L13
 228              		.loc 1 159 0 is_stmt 0 discriminator 1
 229 0048 BB68     		ldr	r3, [r7, #8]
 230 004a 374A     		ldr	r2, .L23+12
 231 004c 9342     		cmp	r3, r2
 232 004e 02D8     		bhi	.L13
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xDU;
 233              		.loc 1 162 0 is_stmt 1
 234 0050 0D23     		movs	r3, #13
 235 0052 7B61     		str	r3, [r7, #20]
 236 0054 4CE0     		b	.L20
 237              	.L13:
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 238              		.loc 1 164 0
ARM GAS  /tmp/cchFjZSQ.s 			page 8


 239 0056 BB68     		ldr	r3, [r7, #8]
 240 0058 334A     		ldr	r2, .L23+12
 241 005a 9342     		cmp	r3, r2
 242 005c 06D9     		bls	.L14
 243              		.loc 1 164 0 is_stmt 0 discriminator 1
 244 005e BB68     		ldr	r3, [r7, #8]
 245 0060 324A     		ldr	r2, .L23+16
 246 0062 9342     		cmp	r3, r2
 247 0064 02D8     		bhi	.L14
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xCU;
 248              		.loc 1 167 0 is_stmt 1
 249 0066 0C23     		movs	r3, #12
 250 0068 7B61     		str	r3, [r7, #20]
 251 006a 41E0     		b	.L20
 252              	.L14:
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 253              		.loc 1 169 0
 254 006c BB68     		ldr	r3, [r7, #8]
 255 006e 2F4A     		ldr	r2, .L23+16
 256 0070 9342     		cmp	r3, r2
 257 0072 06D9     		bls	.L15
 258              		.loc 1 169 0 is_stmt 0 discriminator 1
 259 0074 BB68     		ldr	r3, [r7, #8]
 260 0076 2E4A     		ldr	r2, .L23+20
 261 0078 9342     		cmp	r3, r2
 262 007a 02D8     		bhi	.L15
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xBU;
 263              		.loc 1 172 0 is_stmt 1
 264 007c 0B23     		movs	r3, #11
 265 007e 7B61     		str	r3, [r7, #20]
 266 0080 36E0     		b	.L20
 267              	.L15:
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 268              		.loc 1 174 0
 269 0082 BB68     		ldr	r3, [r7, #8]
 270 0084 2A4A     		ldr	r2, .L23+20
 271 0086 9342     		cmp	r3, r2
 272 0088 06D9     		bls	.L16
 273              		.loc 1 174 0 is_stmt 0 discriminator 1
 274 008a BB68     		ldr	r3, [r7, #8]
 275 008c 294A     		ldr	r2, .L23+24
 276 008e 9342     		cmp	r3, r2
 277 0090 02D8     		bhi	.L16
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xAU;
 278              		.loc 1 177 0 is_stmt 1
 279 0092 0A23     		movs	r3, #10
 280 0094 7B61     		str	r3, [r7, #20]
 281 0096 2BE0     		b	.L20
 282              	.L16:
ARM GAS  /tmp/cchFjZSQ.s 			page 9


 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 283              		.loc 1 179 0
 284 0098 BB68     		ldr	r3, [r7, #8]
 285 009a 264A     		ldr	r2, .L23+24
 286 009c 9342     		cmp	r3, r2
 287 009e 06D9     		bls	.L17
 288              		.loc 1 179 0 is_stmt 0 discriminator 1
 289 00a0 BB68     		ldr	r3, [r7, #8]
 290 00a2 254A     		ldr	r2, .L23+28
 291 00a4 9342     		cmp	r3, r2
 292 00a6 02D8     		bhi	.L17
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x9U;
 293              		.loc 1 182 0 is_stmt 1
 294 00a8 0923     		movs	r3, #9
 295 00aa 7B61     		str	r3, [r7, #20]
 296 00ac 20E0     		b	.L20
 297              	.L17:
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 298              		.loc 1 184 0
 299 00ae BB68     		ldr	r3, [r7, #8]
 300 00b0 214A     		ldr	r2, .L23+28
 301 00b2 9342     		cmp	r3, r2
 302 00b4 06D9     		bls	.L18
 303              		.loc 1 184 0 is_stmt 0 discriminator 1
 304 00b6 BB68     		ldr	r3, [r7, #8]
 305 00b8 204A     		ldr	r2, .L23+32
 306 00ba 9342     		cmp	r3, r2
 307 00bc 02D8     		bhi	.L18
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x8U;
 308              		.loc 1 187 0 is_stmt 1
 309 00be 0823     		movs	r3, #8
 310 00c0 7B61     		str	r3, [r7, #20]
 311 00c2 15E0     		b	.L20
 312              	.L18:
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 313              		.loc 1 189 0
 314 00c4 BB68     		ldr	r3, [r7, #8]
 315 00c6 1D4A     		ldr	r2, .L23+32
 316 00c8 9342     		cmp	r3, r2
 317 00ca 06D9     		bls	.L19
 318              		.loc 1 189 0 is_stmt 0 discriminator 1
 319 00cc BB68     		ldr	r3, [r7, #8]
 320 00ce 1C4A     		ldr	r2, .L23+36
 321 00d0 9342     		cmp	r3, r2
 322 00d2 02D8     		bhi	.L19
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x7U;
 323              		.loc 1 192 0 is_stmt 1
 324 00d4 0723     		movs	r3, #7
ARM GAS  /tmp/cchFjZSQ.s 			page 10


 325 00d6 7B61     		str	r3, [r7, #20]
 326 00d8 0AE0     		b	.L20
 327              	.L19:
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x6U;
 328              		.loc 1 197 0
 329 00da 0623     		movs	r3, #6
 330 00dc 7B61     		str	r3, [r7, #20]
 331 00de 07E0     		b	.L20
 332              	.L9:
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (speed == USBD_HS_SPEED)
 333              		.loc 1 200 0
 334 00e0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 335 00e2 002B     		cmp	r3, #0
 336 00e4 02D1     		bne	.L21
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_HS_TRDT_VALUE;
 337              		.loc 1 202 0
 338 00e6 0923     		movs	r3, #9
 339 00e8 7B61     		str	r3, [r7, #20]
 340 00ea 01E0     		b	.L20
 341              	.L21:
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 342              		.loc 1 206 0
 343 00ec 0923     		movs	r3, #9
 344 00ee 7B61     		str	r3, [r7, #20]
 345              	.L20:
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 346              		.loc 1 209 0
 347 00f0 FB68     		ldr	r3, [r7, #12]
 348 00f2 DB68     		ldr	r3, [r3, #12]
 349 00f4 23F47052 		bic	r2, r3, #15360
 350 00f8 FB68     		ldr	r3, [r7, #12]
 351 00fa DA60     		str	r2, [r3, #12]
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 352              		.loc 1 210 0
 353 00fc FB68     		ldr	r3, [r7, #12]
 354 00fe DA68     		ldr	r2, [r3, #12]
 355 0100 7B69     		ldr	r3, [r7, #20]
 356 0102 9B02     		lsls	r3, r3, #10
 357 0104 03F47053 		and	r3, r3, #15360
 358 0108 1A43     		orrs	r2, r2, r3
 359 010a FB68     		ldr	r3, [r7, #12]
 360 010c DA60     		str	r2, [r3, #12]
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 361              		.loc 1 212 0
ARM GAS  /tmp/cchFjZSQ.s 			page 11


 362 010e 0023     		movs	r3, #0
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 363              		.loc 1 213 0
 364 0110 1846     		mov	r0, r3
 365 0112 1C37     		adds	r7, r7, #28
 366              	.LCFI11:
 367              		.cfi_def_cfa_offset 4
 368 0114 BD46     		mov	sp, r7
 369              	.LCFI12:
 370              		.cfi_def_cfa_register 13
 371              		@ sp needed
 372 0116 5DF8047B 		ldr	r7, [sp], #4
 373              	.LCFI13:
 374              		.cfi_restore 7
 375              		.cfi_def_cfa_offset 0
 376 011a 7047     		bx	lr
 377              	.L24:
 378              		.align	2
 379              	.L23:
 380 011c BFACD800 		.word	14199999
 381 0120 BFE1E400 		.word	14999999
 382 0124 FF23F400 		.word	15999999
 383 0128 7F730601 		.word	17199999
 384 012c 9F491A01 		.word	18499999
 385 0130 FF2C3101 		.word	19999999
 386 0134 3FA44C01 		.word	21799999
 387 0138 FF356E01 		.word	23999999
 388 013c 1FABA601 		.word	27699999
 389 0140 FF47E801 		.word	31999999
 390              		.cfi_endproc
 391              	.LFE131:
 393              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 394              		.align	1
 395              		.global	USB_EnableGlobalInt
 396              		.syntax unified
 397              		.thumb
 398              		.thumb_func
 399              		.fpu fpv4-sp-d16
 401              	USB_EnableGlobalInt:
 402              	.LFB132:
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 403              		.loc 1 222 0
 404              		.cfi_startproc
 405              		@ args = 0, pretend = 0, frame = 8
 406              		@ frame_needed = 1, uses_anonymous_args = 0
 407              		@ link register save eliminated.
 408 0000 80B4     		push	{r7}
 409              	.LCFI14:
 410              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/cchFjZSQ.s 			page 12


 411              		.cfi_offset 7, -4
 412 0002 83B0     		sub	sp, sp, #12
 413              	.LCFI15:
 414              		.cfi_def_cfa_offset 16
 415 0004 00AF     		add	r7, sp, #0
 416              	.LCFI16:
 417              		.cfi_def_cfa_register 7
 418 0006 7860     		str	r0, [r7, #4]
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 419              		.loc 1 223 0
 420 0008 7B68     		ldr	r3, [r7, #4]
 421 000a 9B68     		ldr	r3, [r3, #8]
 422 000c 43F00102 		orr	r2, r3, #1
 423 0010 7B68     		ldr	r3, [r7, #4]
 424 0012 9A60     		str	r2, [r3, #8]
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 425              		.loc 1 224 0
 426 0014 0023     		movs	r3, #0
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 427              		.loc 1 225 0
 428 0016 1846     		mov	r0, r3
 429 0018 0C37     		adds	r7, r7, #12
 430              	.LCFI17:
 431              		.cfi_def_cfa_offset 4
 432 001a BD46     		mov	sp, r7
 433              	.LCFI18:
 434              		.cfi_def_cfa_register 13
 435              		@ sp needed
 436 001c 5DF8047B 		ldr	r7, [sp], #4
 437              	.LCFI19:
 438              		.cfi_restore 7
 439              		.cfi_def_cfa_offset 0
 440 0020 7047     		bx	lr
 441              		.cfi_endproc
 442              	.LFE132:
 444              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 445              		.align	1
 446              		.global	USB_DisableGlobalInt
 447              		.syntax unified
 448              		.thumb
 449              		.thumb_func
 450              		.fpu fpv4-sp-d16
 452              	USB_DisableGlobalInt:
 453              	.LFB133:
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 454              		.loc 1 234 0
 455              		.cfi_startproc
 456              		@ args = 0, pretend = 0, frame = 8
 457              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/cchFjZSQ.s 			page 13


 458              		@ link register save eliminated.
 459 0000 80B4     		push	{r7}
 460              	.LCFI20:
 461              		.cfi_def_cfa_offset 4
 462              		.cfi_offset 7, -4
 463 0002 83B0     		sub	sp, sp, #12
 464              	.LCFI21:
 465              		.cfi_def_cfa_offset 16
 466 0004 00AF     		add	r7, sp, #0
 467              	.LCFI22:
 468              		.cfi_def_cfa_register 7
 469 0006 7860     		str	r0, [r7, #4]
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 470              		.loc 1 235 0
 471 0008 7B68     		ldr	r3, [r7, #4]
 472 000a 9B68     		ldr	r3, [r3, #8]
 473 000c 23F00102 		bic	r2, r3, #1
 474 0010 7B68     		ldr	r3, [r7, #4]
 475 0012 9A60     		str	r2, [r3, #8]
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 476              		.loc 1 236 0
 477 0014 0023     		movs	r3, #0
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 478              		.loc 1 237 0
 479 0016 1846     		mov	r0, r3
 480 0018 0C37     		adds	r7, r7, #12
 481              	.LCFI23:
 482              		.cfi_def_cfa_offset 4
 483 001a BD46     		mov	sp, r7
 484              	.LCFI24:
 485              		.cfi_def_cfa_register 13
 486              		@ sp needed
 487 001c 5DF8047B 		ldr	r7, [sp], #4
 488              	.LCFI25:
 489              		.cfi_restore 7
 490              		.cfi_def_cfa_offset 0
 491 0020 7047     		bx	lr
 492              		.cfi_endproc
 493              	.LFE133:
 495              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 496              		.align	1
 497              		.global	USB_SetCurrentMode
 498              		.syntax unified
 499              		.thumb
 500              		.thumb_func
 501              		.fpu fpv4-sp-d16
 503              	USB_SetCurrentMode:
 504              	.LFB134:
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode : Set functional mode
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode   current core mode
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE: Peripheral mode
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_HOST_MODE: Host mode
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DRD_MODE: Dual Role Device mode
ARM GAS  /tmp/cchFjZSQ.s 			page 14


 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_OTG_ModeTypeDef mode)
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 505              		.loc 1 250 0
 506              		.cfi_startproc
 507              		@ args = 0, pretend = 0, frame = 8
 508              		@ frame_needed = 1, uses_anonymous_args = 0
 509 0000 80B5     		push	{r7, lr}
 510              	.LCFI26:
 511              		.cfi_def_cfa_offset 8
 512              		.cfi_offset 7, -8
 513              		.cfi_offset 14, -4
 514 0002 82B0     		sub	sp, sp, #8
 515              	.LCFI27:
 516              		.cfi_def_cfa_offset 16
 517 0004 00AF     		add	r7, sp, #0
 518              	.LCFI28:
 519              		.cfi_def_cfa_register 7
 520 0006 7860     		str	r0, [r7, #4]
 521 0008 0B46     		mov	r3, r1
 522 000a FB70     		strb	r3, [r7, #3]
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 523              		.loc 1 251 0
 524 000c 7B68     		ldr	r3, [r7, #4]
 525 000e DB68     		ldr	r3, [r3, #12]
 526 0010 23F0C042 		bic	r2, r3, #1610612736
 527 0014 7B68     		ldr	r3, [r7, #4]
 528 0016 DA60     		str	r2, [r3, #12]
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 529              		.loc 1 253 0
 530 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 531 001a 012B     		cmp	r3, #1
 532 001c 06D1     		bne	.L30
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 533              		.loc 1 255 0
 534 001e 7B68     		ldr	r3, [r7, #4]
 535 0020 DB68     		ldr	r3, [r3, #12]
 536 0022 43F00052 		orr	r2, r3, #536870912
 537 0026 7B68     		ldr	r3, [r7, #4]
 538 0028 DA60     		str	r2, [r3, #12]
 539 002a 0BE0     		b	.L31
 540              	.L30:
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 541              		.loc 1 257 0
 542 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 543 002e 002B     		cmp	r3, #0
 544 0030 06D1     		bne	.L32
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 545              		.loc 1 259 0
 546 0032 7B68     		ldr	r3, [r7, #4]
 547 0034 DB68     		ldr	r3, [r3, #12]
 548 0036 43F08042 		orr	r2, r3, #1073741824
ARM GAS  /tmp/cchFjZSQ.s 			page 15


 549 003a 7B68     		ldr	r3, [r7, #4]
 550 003c DA60     		str	r2, [r3, #12]
 551 003e 01E0     		b	.L31
 552              	.L32:
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 553              		.loc 1 263 0
 554 0040 0123     		movs	r3, #1
 555 0042 03E0     		b	.L33
 556              	.L31:
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(50U);
 557              		.loc 1 265 0
 558 0044 3220     		movs	r0, #50
 559 0046 FFF7FEFF 		bl	HAL_Delay
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 560              		.loc 1 267 0
 561 004a 0023     		movs	r3, #0
 562              	.L33:
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 563              		.loc 1 268 0
 564 004c 1846     		mov	r0, r3
 565 004e 0837     		adds	r7, r7, #8
 566              	.LCFI29:
 567              		.cfi_def_cfa_offset 8
 568 0050 BD46     		mov	sp, r7
 569              	.LCFI30:
 570              		.cfi_def_cfa_register 13
 571              		@ sp needed
 572 0052 80BD     		pop	{r7, pc}
 573              		.cfi_endproc
 574              	.LFE134:
 576              		.section	.text.USB_DevInit,"ax",%progbits
 577              		.align	1
 578              		.global	USB_DevInit
 579              		.syntax unified
 580              		.thumb
 581              		.thumb_func
 582              		.fpu fpv4-sp-d16
 584              	USB_DevInit:
 585              	.LFB135:
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit : Initializes the USB_OTG controller registers
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 586              		.loc 1 279 0
 587              		.cfi_startproc
ARM GAS  /tmp/cchFjZSQ.s 			page 16


 588              		@ args = 56, pretend = 16, frame = 24
 589              		@ frame_needed = 1, uses_anonymous_args = 0
 590 0000 84B0     		sub	sp, sp, #16
 591              	.LCFI31:
 592              		.cfi_def_cfa_offset 16
 593 0002 80B5     		push	{r7, lr}
 594              	.LCFI32:
 595              		.cfi_def_cfa_offset 24
 596              		.cfi_offset 7, -24
 597              		.cfi_offset 14, -20
 598 0004 86B0     		sub	sp, sp, #24
 599              	.LCFI33:
 600              		.cfi_def_cfa_offset 48
 601 0006 00AF     		add	r7, sp, #0
 602              	.LCFI34:
 603              		.cfi_def_cfa_register 7
 604 0008 7860     		str	r0, [r7, #4]
 605 000a 07F12400 		add	r0, r7, #36
 606 000e 80E80E00 		stm	r0, {r1, r2, r3}
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 607              		.loc 1 280 0
 608 0012 0023     		movs	r3, #0
 609 0014 FB75     		strb	r3, [r7, #23]
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 610              		.loc 1 281 0
 611 0016 7B68     		ldr	r3, [r7, #4]
 612 0018 FB60     		str	r3, [r7, #12]
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 613              		.loc 1 284 0
 614 001a 0023     		movs	r3, #0
 615 001c 3B61     		str	r3, [r7, #16]
 616 001e 09E0     		b	.L35
 617              	.L36:
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 618              		.loc 1 286 0 discriminator 3
 619 0020 7A68     		ldr	r2, [r7, #4]
 620 0022 3B69     		ldr	r3, [r7, #16]
 621 0024 4033     		adds	r3, r3, #64
 622 0026 9B00     		lsls	r3, r3, #2
 623 0028 1344     		add	r3, r3, r2
 624 002a 0022     		movs	r2, #0
 625 002c 5A60     		str	r2, [r3, #4]
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 626              		.loc 1 284 0 discriminator 3
 627 002e 3B69     		ldr	r3, [r7, #16]
 628 0030 0133     		adds	r3, r3, #1
 629 0032 3B61     		str	r3, [r7, #16]
 630              	.L35:
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 631              		.loc 1 284 0 is_stmt 0 discriminator 1
 632 0034 3B69     		ldr	r3, [r7, #16]
 633 0036 0E2B     		cmp	r3, #14
 634 0038 F2D9     		bls	.L36
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/cchFjZSQ.s 			page 17


 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 635              		.loc 1 307 0 is_stmt 1
 636 003a FB6C     		ldr	r3, [r7, #76]
 637 003c 002B     		cmp	r3, #0
 638 003e 12D1     		bne	.L37
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * Disable HW VBUS sensing. VBUS is internally considered to be always
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * at VBUS-Valid level (5V).
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      */
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 639              		.loc 1 313 0
 640 0040 7B68     		ldr	r3, [r7, #4]
 641 0042 9B6B     		ldr	r3, [r3, #56]
 642 0044 43F40012 		orr	r2, r3, #2097152
 643 0048 7B68     		ldr	r3, [r7, #4]
 644 004a 9A63     		str	r2, [r3, #56]
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 645              		.loc 1 314 0
 646 004c 7B68     		ldr	r3, [r7, #4]
 647 004e 9B6B     		ldr	r3, [r3, #56]
 648 0050 23F40022 		bic	r2, r3, #524288
 649 0054 7B68     		ldr	r3, [r7, #4]
 650 0056 9A63     		str	r2, [r3, #56]
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 651              		.loc 1 315 0
 652 0058 7B68     		ldr	r3, [r7, #4]
 653 005a 9B6B     		ldr	r3, [r3, #56]
 654 005c 23F48022 		bic	r2, r3, #262144
 655 0060 7B68     		ldr	r3, [r7, #4]
 656 0062 9A63     		str	r2, [r3, #56]
 657 0064 0BE0     		b	.L38
 658              	.L37:
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL &= ~USB_OTG_GCCFG_NOVBUSSENS;
ARM GAS  /tmp/cchFjZSQ.s 			page 18


 659              		.loc 1 320 0
 660 0066 7B68     		ldr	r3, [r7, #4]
 661 0068 1B68     		ldr	r3, [r3]
 662 006a 23F40012 		bic	r2, r3, #2097152
 663 006e 7B68     		ldr	r3, [r7, #4]
 664 0070 1A60     		str	r2, [r3]
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 665              		.loc 1 321 0
 666 0072 7B68     		ldr	r3, [r7, #4]
 667 0074 9B6B     		ldr	r3, [r3, #56]
 668 0076 43F40022 		orr	r2, r3, #524288
 669 007a 7B68     		ldr	r3, [r7, #4]
 670 007c 9A63     		str	r2, [r3, #56]
 671              	.L38:
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 672              		.loc 1 326 0
 673 007e FB68     		ldr	r3, [r7, #12]
 674 0080 03F56063 		add	r3, r3, #3584
 675 0084 1A46     		mov	r2, r3
 676 0086 0023     		movs	r3, #0
 677 0088 1360     		str	r3, [r2]
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 678              		.loc 1 329 0
 679 008a FB68     		ldr	r3, [r7, #12]
 680 008c 03F50063 		add	r3, r3, #2048
 681 0090 1946     		mov	r1, r3
 682 0092 FB68     		ldr	r3, [r7, #12]
 683 0094 03F50063 		add	r3, r3, #2048
 684 0098 1A46     		mov	r2, r3
 685 009a 0B68     		ldr	r3, [r1]
 686 009c 1360     		str	r3, [r2]
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
 687              		.loc 1 331 0
 688 009e BB6B     		ldr	r3, [r7, #56]
 689 00a0 012B     		cmp	r3, #1
 690 00a2 0CD1     		bne	.L39
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBD_HS_SPEED)
 691              		.loc 1 333 0
 692 00a4 FB6A     		ldr	r3, [r7, #44]
 693 00a6 002B     		cmp	r3, #0
 694 00a8 04D1     		bne	.L40
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to High speed mode */
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH);
 695              		.loc 1 336 0
 696 00aa 0021     		movs	r1, #0
 697 00ac 7868     		ldr	r0, [r7, #4]
 698 00ae FFF7FEFF 		bl	USB_SetDevSpeed
 699 00b2 08E0     		b	.L42
ARM GAS  /tmp/cchFjZSQ.s 			page 19


 700              	.L40:
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to Full speed mode */
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH_IN_FULL);
 701              		.loc 1 341 0
 702 00b4 0121     		movs	r1, #1
 703 00b6 7868     		ldr	r0, [r7, #4]
 704 00b8 FFF7FEFF 		bl	USB_SetDevSpeed
 705 00bc 03E0     		b	.L42
 706              	.L39:
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Core speed to Full speed mode */
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 707              		.loc 1 347 0
 708 00be 0321     		movs	r1, #3
 709 00c0 7868     		ldr	r0, [r7, #4]
 710 00c2 FFF7FEFF 		bl	USB_SetDevSpeed
 711              	.L42:
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 712              		.loc 1 351 0
 713 00c6 1021     		movs	r1, #16
 714 00c8 7868     		ldr	r0, [r7, #4]
 715 00ca FFF7FEFF 		bl	USB_FlushTxFifo
 716 00ce 0346     		mov	r3, r0
 717 00d0 002B     		cmp	r3, #0
 718 00d2 01D0     		beq	.L43
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 719              		.loc 1 353 0
 720 00d4 0123     		movs	r3, #1
 721 00d6 FB75     		strb	r3, [r7, #23]
 722              	.L43:
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 723              		.loc 1 356 0
 724 00d8 7868     		ldr	r0, [r7, #4]
 725 00da FFF7FEFF 		bl	USB_FlushRxFifo
 726 00de 0346     		mov	r3, r0
 727 00e0 002B     		cmp	r3, #0
 728 00e2 01D0     		beq	.L44
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 729              		.loc 1 358 0
 730 00e4 0123     		movs	r3, #1
 731 00e6 FB75     		strb	r3, [r7, #23]
 732              	.L44:
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/cchFjZSQ.s 			page 20


 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 733              		.loc 1 362 0
 734 00e8 FB68     		ldr	r3, [r7, #12]
 735 00ea 03F50063 		add	r3, r3, #2048
 736 00ee 1A46     		mov	r2, r3
 737 00f0 0023     		movs	r3, #0
 738 00f2 1361     		str	r3, [r2, #16]
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 739              		.loc 1 363 0
 740 00f4 FB68     		ldr	r3, [r7, #12]
 741 00f6 03F50063 		add	r3, r3, #2048
 742 00fa 1A46     		mov	r2, r3
 743 00fc 0023     		movs	r3, #0
 744 00fe 5361     		str	r3, [r2, #20]
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 745              		.loc 1 364 0
 746 0100 FB68     		ldr	r3, [r7, #12]
 747 0102 03F50063 		add	r3, r3, #2048
 748 0106 1A46     		mov	r2, r3
 749 0108 0023     		movs	r3, #0
 750 010a D361     		str	r3, [r2, #28]
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 751              		.loc 1 366 0
 752 010c 0023     		movs	r3, #0
 753 010e 3B61     		str	r3, [r7, #16]
 754 0110 43E0     		b	.L45
 755              	.L50:
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 756              		.loc 1 368 0
 757 0112 3B69     		ldr	r3, [r7, #16]
 758 0114 5A01     		lsls	r2, r3, #5
 759 0116 FB68     		ldr	r3, [r7, #12]
 760 0118 1344     		add	r3, r3, r2
 761 011a 03F51063 		add	r3, r3, #2304
 762 011e 1B68     		ldr	r3, [r3]
 763 0120 03F00043 		and	r3, r3, #-2147483648
 764 0124 B3F1004F 		cmp	r3, #-2147483648
 765 0128 18D1     		bne	.L46
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 766              		.loc 1 370 0
 767 012a 3B69     		ldr	r3, [r7, #16]
 768 012c 002B     		cmp	r3, #0
 769 012e 0AD1     		bne	.L47
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 770              		.loc 1 372 0
 771 0130 3B69     		ldr	r3, [r7, #16]
 772 0132 5A01     		lsls	r2, r3, #5
 773 0134 FB68     		ldr	r3, [r7, #12]
 774 0136 1344     		add	r3, r3, r2
 775 0138 03F51063 		add	r3, r3, #2304
 776 013c 1A46     		mov	r2, r3
 777 013e 4FF00063 		mov	r3, #134217728
ARM GAS  /tmp/cchFjZSQ.s 			page 21


 778 0142 1360     		str	r3, [r2]
 779 0144 13E0     		b	.L49
 780              	.L47:
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 781              		.loc 1 376 0
 782 0146 3B69     		ldr	r3, [r7, #16]
 783 0148 5A01     		lsls	r2, r3, #5
 784 014a FB68     		ldr	r3, [r7, #12]
 785 014c 1344     		add	r3, r3, r2
 786 014e 03F51063 		add	r3, r3, #2304
 787 0152 1A46     		mov	r2, r3
 788 0154 4FF09043 		mov	r3, #1207959552
 789 0158 1360     		str	r3, [r2]
 790 015a 08E0     		b	.L49
 791              	.L46:
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 792              		.loc 1 381 0
 793 015c 3B69     		ldr	r3, [r7, #16]
 794 015e 5A01     		lsls	r2, r3, #5
 795 0160 FB68     		ldr	r3, [r7, #12]
 796 0162 1344     		add	r3, r3, r2
 797 0164 03F51063 		add	r3, r3, #2304
 798 0168 1A46     		mov	r2, r3
 799 016a 0023     		movs	r3, #0
 800 016c 1360     		str	r3, [r2]
 801              	.L49:
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 802              		.loc 1 384 0 discriminator 2
 803 016e 3B69     		ldr	r3, [r7, #16]
 804 0170 5A01     		lsls	r2, r3, #5
 805 0172 FB68     		ldr	r3, [r7, #12]
 806 0174 1344     		add	r3, r3, r2
 807 0176 03F51063 		add	r3, r3, #2304
 808 017a 1A46     		mov	r2, r3
 809 017c 0023     		movs	r3, #0
 810 017e 1361     		str	r3, [r2, #16]
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 811              		.loc 1 385 0 discriminator 2
 812 0180 3B69     		ldr	r3, [r7, #16]
 813 0182 5A01     		lsls	r2, r3, #5
 814 0184 FB68     		ldr	r3, [r7, #12]
 815 0186 1344     		add	r3, r3, r2
 816 0188 03F51063 		add	r3, r3, #2304
 817 018c 1A46     		mov	r2, r3
 818 018e 4FF67F33 		movw	r3, #64383
 819 0192 9360     		str	r3, [r2, #8]
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 820              		.loc 1 366 0 discriminator 2
ARM GAS  /tmp/cchFjZSQ.s 			page 22


 821 0194 3B69     		ldr	r3, [r7, #16]
 822 0196 0133     		adds	r3, r3, #1
 823 0198 3B61     		str	r3, [r7, #16]
 824              	.L45:
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 825              		.loc 1 366 0 is_stmt 0 discriminator 1
 826 019a 7B6A     		ldr	r3, [r7, #36]
 827 019c 3A69     		ldr	r2, [r7, #16]
 828 019e 9A42     		cmp	r2, r3
 829 01a0 B7D3     		bcc	.L50
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 830              		.loc 1 388 0 is_stmt 1
 831 01a2 0023     		movs	r3, #0
 832 01a4 3B61     		str	r3, [r7, #16]
 833 01a6 43E0     		b	.L51
 834              	.L56:
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 835              		.loc 1 390 0
 836 01a8 3B69     		ldr	r3, [r7, #16]
 837 01aa 5A01     		lsls	r2, r3, #5
 838 01ac FB68     		ldr	r3, [r7, #12]
 839 01ae 1344     		add	r3, r3, r2
 840 01b0 03F53063 		add	r3, r3, #2816
 841 01b4 1B68     		ldr	r3, [r3]
 842 01b6 03F00043 		and	r3, r3, #-2147483648
 843 01ba B3F1004F 		cmp	r3, #-2147483648
 844 01be 18D1     		bne	.L52
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 845              		.loc 1 392 0
 846 01c0 3B69     		ldr	r3, [r7, #16]
 847 01c2 002B     		cmp	r3, #0
 848 01c4 0AD1     		bne	.L53
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 849              		.loc 1 394 0
 850 01c6 3B69     		ldr	r3, [r7, #16]
 851 01c8 5A01     		lsls	r2, r3, #5
 852 01ca FB68     		ldr	r3, [r7, #12]
 853 01cc 1344     		add	r3, r3, r2
 854 01ce 03F53063 		add	r3, r3, #2816
 855 01d2 1A46     		mov	r2, r3
 856 01d4 4FF00063 		mov	r3, #134217728
 857 01d8 1360     		str	r3, [r2]
 858 01da 13E0     		b	.L55
 859              	.L53:
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 860              		.loc 1 398 0
 861 01dc 3B69     		ldr	r3, [r7, #16]
 862 01de 5A01     		lsls	r2, r3, #5
 863 01e0 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cchFjZSQ.s 			page 23


 864 01e2 1344     		add	r3, r3, r2
 865 01e4 03F53063 		add	r3, r3, #2816
 866 01e8 1A46     		mov	r2, r3
 867 01ea 4FF09043 		mov	r3, #1207959552
 868 01ee 1360     		str	r3, [r2]
 869 01f0 08E0     		b	.L55
 870              	.L52:
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 871              		.loc 1 403 0
 872 01f2 3B69     		ldr	r3, [r7, #16]
 873 01f4 5A01     		lsls	r2, r3, #5
 874 01f6 FB68     		ldr	r3, [r7, #12]
 875 01f8 1344     		add	r3, r3, r2
 876 01fa 03F53063 		add	r3, r3, #2816
 877 01fe 1A46     		mov	r2, r3
 878 0200 0023     		movs	r3, #0
 879 0202 1360     		str	r3, [r2]
 880              	.L55:
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 881              		.loc 1 406 0 discriminator 2
 882 0204 3B69     		ldr	r3, [r7, #16]
 883 0206 5A01     		lsls	r2, r3, #5
 884 0208 FB68     		ldr	r3, [r7, #12]
 885 020a 1344     		add	r3, r3, r2
 886 020c 03F53063 		add	r3, r3, #2816
 887 0210 1A46     		mov	r2, r3
 888 0212 0023     		movs	r3, #0
 889 0214 1361     		str	r3, [r2, #16]
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 890              		.loc 1 407 0 discriminator 2
 891 0216 3B69     		ldr	r3, [r7, #16]
 892 0218 5A01     		lsls	r2, r3, #5
 893 021a FB68     		ldr	r3, [r7, #12]
 894 021c 1344     		add	r3, r3, r2
 895 021e 03F53063 		add	r3, r3, #2816
 896 0222 1A46     		mov	r2, r3
 897 0224 4FF67F33 		movw	r3, #64383
 898 0228 9360     		str	r3, [r2, #8]
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 899              		.loc 1 388 0 discriminator 2
 900 022a 3B69     		ldr	r3, [r7, #16]
 901 022c 0133     		adds	r3, r3, #1
 902 022e 3B61     		str	r3, [r7, #16]
 903              	.L51:
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 904              		.loc 1 388 0 is_stmt 0 discriminator 1
 905 0230 7B6A     		ldr	r3, [r7, #36]
 906 0232 3A69     		ldr	r2, [r7, #16]
 907 0234 9A42     		cmp	r2, r3
 908 0236 B7D3     		bcc	.L56
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/cchFjZSQ.s 			page 24


 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 909              		.loc 1 410 0 is_stmt 1
 910 0238 FB68     		ldr	r3, [r7, #12]
 911 023a 03F50063 		add	r3, r3, #2048
 912 023e 1B69     		ldr	r3, [r3, #16]
 913 0240 FA68     		ldr	r2, [r7, #12]
 914 0242 02F50062 		add	r2, r2, #2048
 915 0246 23F48073 		bic	r3, r3, #256
 916 024a 1361     		str	r3, [r2, #16]
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 917              		.loc 1 412 0
 918 024c 3B6B     		ldr	r3, [r7, #48]
 919 024e 012B     		cmp	r3, #1
 920 0250 11D1     		bne	.L57
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Set threshold parameters */
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL = USB_OTG_DTHRCTL_TXTHRLEN_6 |
 921              		.loc 1 415 0
 922 0252 FB68     		ldr	r3, [r7, #12]
 923 0254 03F50063 		add	r3, r3, #2048
 924 0258 1A46     		mov	r2, r3
 925 025a 204B     		ldr	r3, .L62
 926 025c 1363     		str	r3, [r2, #48]
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                            USB_OTG_DTHRCTL_RXTHRLEN_6;
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL |= USB_OTG_DTHRCTL_RXTHREN |
 927              		.loc 1 418 0
 928 025e FB68     		ldr	r3, [r7, #12]
 929 0260 03F50063 		add	r3, r3, #2048
 930 0264 1B6B     		ldr	r3, [r3, #48]
 931 0266 FA68     		ldr	r2, [r7, #12]
 932 0268 02F50062 		add	r2, r2, #2048
 933 026c 43F48033 		orr	r3, r3, #65536
 934 0270 43F00303 		orr	r3, r3, #3
 935 0274 1363     		str	r3, [r2, #48]
 936              	.L57:
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             USB_OTG_DTHRCTL_ISOTHREN |
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             USB_OTG_DTHRCTL_NONISOTHREN;
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 937              		.loc 1 424 0
 938 0276 7B68     		ldr	r3, [r7, #4]
 939 0278 0022     		movs	r2, #0
 940 027a 9A61     		str	r2, [r3, #24]
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 941              		.loc 1 427 0
 942 027c 7B68     		ldr	r3, [r7, #4]
 943 027e 6FF08042 		mvn	r2, #1073741824
 944 0282 5A61     		str	r2, [r3, #20]
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
ARM GAS  /tmp/cchFjZSQ.s 			page 25


 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 945              		.loc 1 430 0
 946 0284 3B6B     		ldr	r3, [r7, #48]
 947 0286 002B     		cmp	r3, #0
 948 0288 05D1     		bne	.L58
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 949              		.loc 1 432 0
 950 028a 7B68     		ldr	r3, [r7, #4]
 951 028c 9B69     		ldr	r3, [r3, #24]
 952 028e 43F01002 		orr	r2, r3, #16
 953 0292 7B68     		ldr	r3, [r7, #4]
 954 0294 9A61     		str	r2, [r3, #24]
 955              	.L58:
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 956              		.loc 1 436 0
 957 0296 7B68     		ldr	r3, [r7, #4]
 958 0298 9A69     		ldr	r2, [r3, #24]
 959 029a 114B     		ldr	r3, .L62+4
 960 029c 1343     		orrs	r3, r3, r2
 961 029e 7A68     		ldr	r2, [r7, #4]
 962 02a0 9361     		str	r3, [r2, #24]
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 963              		.loc 1 441 0
 964 02a2 FB6B     		ldr	r3, [r7, #60]
 965 02a4 002B     		cmp	r3, #0
 966 02a6 05D0     		beq	.L59
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 967              		.loc 1 443 0
 968 02a8 7B68     		ldr	r3, [r7, #4]
 969 02aa 9B69     		ldr	r3, [r3, #24]
 970 02ac 43F00802 		orr	r2, r3, #8
 971 02b0 7B68     		ldr	r3, [r7, #4]
 972 02b2 9A61     		str	r2, [r3, #24]
 973              	.L59:
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 974              		.loc 1 446 0
 975 02b4 FB6C     		ldr	r3, [r7, #76]
 976 02b6 012B     		cmp	r3, #1
 977 02b8 07D1     		bne	.L60
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 978              		.loc 1 448 0
 979 02ba 7B68     		ldr	r3, [r7, #4]
 980 02bc 9B69     		ldr	r3, [r3, #24]
 981 02be 43F08043 		orr	r3, r3, #1073741824
 982 02c2 43F00403 		orr	r3, r3, #4
ARM GAS  /tmp/cchFjZSQ.s 			page 26


 983 02c6 7A68     		ldr	r2, [r7, #4]
 984 02c8 9361     		str	r3, [r2, #24]
 985              	.L60:
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 986              		.loc 1 451 0
 987 02ca FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 988              		.loc 1 452 0
 989 02cc 1846     		mov	r0, r3
 990 02ce 1837     		adds	r7, r7, #24
 991              	.LCFI35:
 992              		.cfi_def_cfa_offset 24
 993 02d0 BD46     		mov	sp, r7
 994              	.LCFI36:
 995              		.cfi_def_cfa_register 13
 996              		@ sp needed
 997 02d2 BDE88040 		pop	{r7, lr}
 998              	.LCFI37:
 999              		.cfi_restore 14
 1000              		.cfi_restore 7
 1001              		.cfi_def_cfa_offset 16
 1002 02d6 04B0     		add	sp, sp, #16
 1003              	.LCFI38:
 1004              		.cfi_def_cfa_offset 0
 1005 02d8 7047     		bx	lr
 1006              	.L63:
 1007 02da 00BF     		.align	2
 1008              	.L62:
 1009 02dc 00018000 		.word	8388864
 1010 02e0 00383C80 		.word	-2143537152
 1011              		.cfi_endproc
 1012              	.LFE135:
 1014              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 1015              		.align	1
 1016              		.global	USB_FlushTxFifo
 1017              		.syntax unified
 1018              		.thumb
 1019              		.thumb_func
 1020              		.fpu fpv4-sp-d16
 1022              	USB_FlushTxFifo:
 1023              	.LFB136:
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_FlushTxFifo : Flush a Tx FIFO
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num  FIFO number
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1024              		.loc 1 463 0
 1025              		.cfi_startproc
 1026              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/cchFjZSQ.s 			page 27


 1027              		@ frame_needed = 1, uses_anonymous_args = 0
 1028              		@ link register save eliminated.
 1029 0000 80B4     		push	{r7}
 1030              	.LCFI39:
 1031              		.cfi_def_cfa_offset 4
 1032              		.cfi_offset 7, -4
 1033 0002 85B0     		sub	sp, sp, #20
 1034              	.LCFI40:
 1035              		.cfi_def_cfa_offset 24
 1036 0004 00AF     		add	r7, sp, #0
 1037              	.LCFI41:
 1038              		.cfi_def_cfa_register 7
 1039 0006 7860     		str	r0, [r7, #4]
 1040 0008 3960     		str	r1, [r7]
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 1041              		.loc 1 464 0
 1042 000a 0023     		movs	r3, #0
 1043 000c FB60     		str	r3, [r7, #12]
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 1044              		.loc 1 466 0
 1045 000e 3B68     		ldr	r3, [r7]
 1046 0010 9B01     		lsls	r3, r3, #6
 1047 0012 43F02002 		orr	r2, r3, #32
 1048 0016 7B68     		ldr	r3, [r7, #4]
 1049 0018 1A61     		str	r2, [r3, #16]
 1050              	.L67:
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 1051              		.loc 1 470 0
 1052 001a FB68     		ldr	r3, [r7, #12]
 1053 001c 0133     		adds	r3, r3, #1
 1054 001e FB60     		str	r3, [r7, #12]
 1055 0020 FB68     		ldr	r3, [r7, #12]
 1056 0022 094A     		ldr	r2, .L68
 1057 0024 9342     		cmp	r3, r2
 1058 0026 01D9     		bls	.L65
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1059              		.loc 1 472 0
 1060 0028 0323     		movs	r3, #3
 1061 002a 06E0     		b	.L66
 1062              	.L65:
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1063              		.loc 1 475 0
 1064 002c 7B68     		ldr	r3, [r7, #4]
 1065 002e 1B69     		ldr	r3, [r3, #16]
 1066 0030 03F02003 		and	r3, r3, #32
 1067 0034 202B     		cmp	r3, #32
 1068 0036 F0D0     		beq	.L67
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1069              		.loc 1 477 0
ARM GAS  /tmp/cchFjZSQ.s 			page 28


 1070 0038 0023     		movs	r3, #0
 1071              	.L66:
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1072              		.loc 1 478 0
 1073 003a 1846     		mov	r0, r3
 1074 003c 1437     		adds	r7, r7, #20
 1075              	.LCFI42:
 1076              		.cfi_def_cfa_offset 4
 1077 003e BD46     		mov	sp, r7
 1078              	.LCFI43:
 1079              		.cfi_def_cfa_register 13
 1080              		@ sp needed
 1081 0040 5DF8047B 		ldr	r7, [sp], #4
 1082              	.LCFI44:
 1083              		.cfi_restore 7
 1084              		.cfi_def_cfa_offset 0
 1085 0044 7047     		bx	lr
 1086              	.L69:
 1087 0046 00BF     		.align	2
 1088              	.L68:
 1089 0048 400D0300 		.word	200000
 1090              		.cfi_endproc
 1091              	.LFE136:
 1093              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1094              		.align	1
 1095              		.global	USB_FlushRxFifo
 1096              		.syntax unified
 1097              		.thumb
 1098              		.thumb_func
 1099              		.fpu fpv4-sp-d16
 1101              	USB_FlushRxFifo:
 1102              	.LFB137:
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1103              		.loc 1 486 0
 1104              		.cfi_startproc
 1105              		@ args = 0, pretend = 0, frame = 16
 1106              		@ frame_needed = 1, uses_anonymous_args = 0
 1107              		@ link register save eliminated.
 1108 0000 80B4     		push	{r7}
 1109              	.LCFI45:
 1110              		.cfi_def_cfa_offset 4
 1111              		.cfi_offset 7, -4
 1112 0002 85B0     		sub	sp, sp, #20
 1113              	.LCFI46:
 1114              		.cfi_def_cfa_offset 24
 1115 0004 00AF     		add	r7, sp, #0
 1116              	.LCFI47:
 1117              		.cfi_def_cfa_register 7
 1118 0006 7860     		str	r0, [r7, #4]
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
ARM GAS  /tmp/cchFjZSQ.s 			page 29


 1119              		.loc 1 487 0
 1120 0008 0023     		movs	r3, #0
 1121 000a FB60     		str	r3, [r7, #12]
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 1122              		.loc 1 489 0
 1123 000c 7B68     		ldr	r3, [r7, #4]
 1124 000e 1022     		movs	r2, #16
 1125 0010 1A61     		str	r2, [r3, #16]
 1126              	.L73:
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 1127              		.loc 1 493 0
 1128 0012 FB68     		ldr	r3, [r7, #12]
 1129 0014 0133     		adds	r3, r3, #1
 1130 0016 FB60     		str	r3, [r7, #12]
 1131 0018 FB68     		ldr	r3, [r7, #12]
 1132 001a 094A     		ldr	r2, .L74
 1133 001c 9342     		cmp	r3, r2
 1134 001e 01D9     		bls	.L71
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1135              		.loc 1 495 0
 1136 0020 0323     		movs	r3, #3
 1137 0022 06E0     		b	.L72
 1138              	.L71:
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 1139              		.loc 1 498 0
 1140 0024 7B68     		ldr	r3, [r7, #4]
 1141 0026 1B69     		ldr	r3, [r3, #16]
 1142 0028 03F01003 		and	r3, r3, #16
 1143 002c 102B     		cmp	r3, #16
 1144 002e F0D0     		beq	.L73
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1145              		.loc 1 500 0
 1146 0030 0023     		movs	r3, #0
 1147              	.L72:
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1148              		.loc 1 501 0
 1149 0032 1846     		mov	r0, r3
 1150 0034 1437     		adds	r7, r7, #20
 1151              	.LCFI48:
 1152              		.cfi_def_cfa_offset 4
 1153 0036 BD46     		mov	sp, r7
 1154              	.LCFI49:
 1155              		.cfi_def_cfa_register 13
 1156              		@ sp needed
 1157 0038 5DF8047B 		ldr	r7, [sp], #4
 1158              	.LCFI50:
 1159              		.cfi_restore 7
 1160              		.cfi_def_cfa_offset 0
 1161 003c 7047     		bx	lr
ARM GAS  /tmp/cchFjZSQ.s 			page 30


 1162              	.L75:
 1163 003e 00BF     		.align	2
 1164              	.L74:
 1165 0040 400D0300 		.word	200000
 1166              		.cfi_endproc
 1167              	.LFE137:
 1169              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1170              		.align	1
 1171              		.global	USB_SetDevSpeed
 1172              		.syntax unified
 1173              		.thumb
 1174              		.thumb_func
 1175              		.fpu fpv4-sp-d16
 1177              	USB_SetDevSpeed:
 1178              	.LFB138:
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  device speed
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1179              		.loc 1 515 0
 1180              		.cfi_startproc
 1181              		@ args = 0, pretend = 0, frame = 16
 1182              		@ frame_needed = 1, uses_anonymous_args = 0
 1183              		@ link register save eliminated.
 1184 0000 80B4     		push	{r7}
 1185              	.LCFI51:
 1186              		.cfi_def_cfa_offset 4
 1187              		.cfi_offset 7, -4
 1188 0002 85B0     		sub	sp, sp, #20
 1189              	.LCFI52:
 1190              		.cfi_def_cfa_offset 24
 1191 0004 00AF     		add	r7, sp, #0
 1192              	.LCFI53:
 1193              		.cfi_def_cfa_register 7
 1194 0006 7860     		str	r0, [r7, #4]
 1195 0008 0B46     		mov	r3, r1
 1196 000a FB70     		strb	r3, [r7, #3]
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1197              		.loc 1 516 0
 1198 000c 7B68     		ldr	r3, [r7, #4]
 1199 000e FB60     		str	r3, [r7, #12]
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1200              		.loc 1 518 0
 1201 0010 FB68     		ldr	r3, [r7, #12]
 1202 0012 03F50063 		add	r3, r3, #2048
 1203 0016 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/cchFjZSQ.s 			page 31


 1204 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1205 001a F968     		ldr	r1, [r7, #12]
 1206 001c 01F50061 		add	r1, r1, #2048
 1207 0020 1343     		orrs	r3, r3, r2
 1208 0022 0B60     		str	r3, [r1]
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1209              		.loc 1 519 0
 1210 0024 0023     		movs	r3, #0
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1211              		.loc 1 520 0
 1212 0026 1846     		mov	r0, r3
 1213 0028 1437     		adds	r7, r7, #20
 1214              	.LCFI54:
 1215              		.cfi_def_cfa_offset 4
 1216 002a BD46     		mov	sp, r7
 1217              	.LCFI55:
 1218              		.cfi_def_cfa_register 13
 1219              		@ sp needed
 1220 002c 5DF8047B 		ldr	r7, [sp], #4
 1221              	.LCFI56:
 1222              		.cfi_restore 7
 1223              		.cfi_def_cfa_offset 0
 1224 0030 7047     		bx	lr
 1225              		.cfi_endproc
 1226              	.LFE138:
 1228              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1229              		.align	1
 1230              		.global	USB_GetDevSpeed
 1231              		.syntax unified
 1232              		.thumb
 1233              		.thumb_func
 1234              		.fpu fpv4-sp-d16
 1236              	USB_GetDevSpeed:
 1237              	.LFB139:
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed  device speed
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg PCD_SPEED_HIGH: High speed mode
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg PCD_SPEED_FULL: Full speed mode
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1238              		.loc 1 531 0
 1239              		.cfi_startproc
 1240              		@ args = 0, pretend = 0, frame = 24
 1241              		@ frame_needed = 1, uses_anonymous_args = 0
 1242              		@ link register save eliminated.
 1243 0000 80B4     		push	{r7}
 1244              	.LCFI57:
 1245              		.cfi_def_cfa_offset 4
 1246              		.cfi_offset 7, -4
 1247 0002 87B0     		sub	sp, sp, #28
 1248              	.LCFI58:
 1249              		.cfi_def_cfa_offset 32
ARM GAS  /tmp/cchFjZSQ.s 			page 32


 1250 0004 00AF     		add	r7, sp, #0
 1251              	.LCFI59:
 1252              		.cfi_def_cfa_register 7
 1253 0006 7860     		str	r0, [r7, #4]
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1254              		.loc 1 532 0
 1255 0008 7B68     		ldr	r3, [r7, #4]
 1256 000a 3B61     		str	r3, [r7, #16]
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed;
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1257              		.loc 1 534 0
 1258 000c 3B69     		ldr	r3, [r7, #16]
 1259 000e 03F50063 		add	r3, r3, #2048
 1260 0012 9B68     		ldr	r3, [r3, #8]
 1261 0014 03F00603 		and	r3, r3, #6
 1262 0018 FB60     		str	r3, [r7, #12]
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (DevEnumSpeed == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 1263              		.loc 1 536 0
 1264 001a FB68     		ldr	r3, [r7, #12]
 1265 001c 002B     		cmp	r3, #0
 1266 001e 02D1     		bne	.L79
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_HS_SPEED;
 1267              		.loc 1 538 0
 1268 0020 0023     		movs	r3, #0
 1269 0022 FB75     		strb	r3, [r7, #23]
 1270 0024 0AE0     		b	.L80
 1271              	.L79:
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1272              		.loc 1 540 0
 1273 0026 FB68     		ldr	r3, [r7, #12]
 1274 0028 022B     		cmp	r3, #2
 1275 002a 02D0     		beq	.L81
 1276              		.loc 1 540 0 is_stmt 0 discriminator 1
 1277 002c FB68     		ldr	r3, [r7, #12]
 1278 002e 062B     		cmp	r3, #6
 1279 0030 02D1     		bne	.L82
 1280              	.L81:
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1281              		.loc 1 543 0 is_stmt 1
 1282 0032 0223     		movs	r3, #2
 1283 0034 FB75     		strb	r3, [r7, #23]
 1284 0036 01E0     		b	.L80
 1285              	.L82:
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = 0xFU;
 1286              		.loc 1 547 0
 1287 0038 0F23     		movs	r3, #15
 1288 003a FB75     		strb	r3, [r7, #23]
 1289              	.L80:
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/cchFjZSQ.s 			page 33


 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 1290              		.loc 1 550 0
 1291 003c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1292              		.loc 1 551 0
 1293 003e 1846     		mov	r0, r3
 1294 0040 1C37     		adds	r7, r7, #28
 1295              	.LCFI60:
 1296              		.cfi_def_cfa_offset 4
 1297 0042 BD46     		mov	sp, r7
 1298              	.LCFI61:
 1299              		.cfi_def_cfa_register 13
 1300              		@ sp needed
 1301 0044 5DF8047B 		ldr	r7, [sp], #4
 1302              	.LCFI62:
 1303              		.cfi_restore 7
 1304              		.cfi_def_cfa_offset 0
 1305 0048 7047     		bx	lr
 1306              		.cfi_endproc
 1307              	.LFE139:
 1309              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1310              		.align	1
 1311              		.global	USB_ActivateEndpoint
 1312              		.syntax unified
 1313              		.thumb
 1314              		.thumb_func
 1315              		.fpu fpv4-sp-d16
 1317              	USB_ActivateEndpoint:
 1318              	.LFB140:
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1319              		.loc 1 560 0
 1320              		.cfi_startproc
 1321              		@ args = 0, pretend = 0, frame = 16
 1322              		@ frame_needed = 1, uses_anonymous_args = 0
 1323              		@ link register save eliminated.
 1324 0000 80B4     		push	{r7}
 1325              	.LCFI63:
 1326              		.cfi_def_cfa_offset 4
 1327              		.cfi_offset 7, -4
 1328 0002 85B0     		sub	sp, sp, #20
 1329              	.LCFI64:
 1330              		.cfi_def_cfa_offset 24
 1331 0004 00AF     		add	r7, sp, #0
 1332              	.LCFI65:
 1333              		.cfi_def_cfa_register 7
 1334 0006 7860     		str	r0, [r7, #4]
 1335 0008 3960     		str	r1, [r7]
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  /tmp/cchFjZSQ.s 			page 34


 1336              		.loc 1 561 0
 1337 000a 7B68     		ldr	r3, [r7, #4]
 1338 000c FB60     		str	r3, [r7, #12]
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1339              		.loc 1 562 0
 1340 000e 3B68     		ldr	r3, [r7]
 1341 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1342 0012 BB60     		str	r3, [r7, #8]
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1343              		.loc 1 564 0
 1344 0014 3B68     		ldr	r3, [r7]
 1345 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1346 0018 012B     		cmp	r3, #1
 1347 001a 3AD1     		bne	.L85
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1348              		.loc 1 566 0
 1349 001c FB68     		ldr	r3, [r7, #12]
 1350 001e 03F50063 		add	r3, r3, #2048
 1351 0022 DA69     		ldr	r2, [r3, #28]
 1352 0024 3B68     		ldr	r3, [r7]
 1353 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1354 0028 03F00F03 		and	r3, r3, #15
 1355 002c 0121     		movs	r1, #1
 1356 002e 01FA03F3 		lsl	r3, r1, r3
 1357 0032 9BB2     		uxth	r3, r3
 1358 0034 F968     		ldr	r1, [r7, #12]
 1359 0036 01F50061 		add	r1, r1, #2048
 1360 003a 1343     		orrs	r3, r3, r2
 1361 003c CB61     		str	r3, [r1, #28]
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1362              		.loc 1 568 0
 1363 003e BB68     		ldr	r3, [r7, #8]
 1364 0040 5A01     		lsls	r2, r3, #5
 1365 0042 FB68     		ldr	r3, [r7, #12]
 1366 0044 1344     		add	r3, r3, r2
 1367 0046 03F51063 		add	r3, r3, #2304
 1368 004a 1B68     		ldr	r3, [r3]
 1369 004c 03F40043 		and	r3, r3, #32768
 1370 0050 002B     		cmp	r3, #0
 1371 0052 55D1     		bne	.L87
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1372              		.loc 1 570 0
 1373 0054 BB68     		ldr	r3, [r7, #8]
 1374 0056 5A01     		lsls	r2, r3, #5
 1375 0058 FB68     		ldr	r3, [r7, #12]
 1376 005a 1344     		add	r3, r3, r2
 1377 005c 03F51063 		add	r3, r3, #2304
 1378 0060 1A68     		ldr	r2, [r3]
 1379 0062 3B68     		ldr	r3, [r7]
 1380 0064 9B68     		ldr	r3, [r3, #8]
 1381 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1382              		.loc 1 571 0
ARM GAS  /tmp/cchFjZSQ.s 			page 35


 1383 006a 3B68     		ldr	r3, [r7]
 1384 006c DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1385 006e 9B04     		lsls	r3, r3, #18
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1386              		.loc 1 570 0
 1387 0070 1943     		orrs	r1, r1, r3
 1388              		.loc 1 571 0
 1389 0072 BB68     		ldr	r3, [r7, #8]
 1390 0074 9B05     		lsls	r3, r3, #22
 1391 0076 0B43     		orrs	r3, r3, r1
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1392              		.loc 1 570 0
 1393 0078 1343     		orrs	r3, r3, r2
 1394 007a BA68     		ldr	r2, [r7, #8]
 1395 007c 5101     		lsls	r1, r2, #5
 1396 007e FA68     		ldr	r2, [r7, #12]
 1397 0080 0A44     		add	r2, r2, r1
 1398 0082 02F51062 		add	r2, r2, #2304
 1399 0086 43F08053 		orr	r3, r3, #268435456
 1400 008a 43F40043 		orr	r3, r3, #32768
 1401 008e 1360     		str	r3, [r2]
 1402 0090 36E0     		b	.L87
 1403              	.L85:
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1404              		.loc 1 578 0
 1405 0092 FB68     		ldr	r3, [r7, #12]
 1406 0094 03F50063 		add	r3, r3, #2048
 1407 0098 DA69     		ldr	r2, [r3, #28]
 1408 009a 3B68     		ldr	r3, [r7]
 1409 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1410 009e 03F00F03 		and	r3, r3, #15
 1411 00a2 0121     		movs	r1, #1
 1412 00a4 01FA03F3 		lsl	r3, r1, r3
 1413 00a8 1B04     		lsls	r3, r3, #16
 1414 00aa F968     		ldr	r1, [r7, #12]
 1415 00ac 01F50061 		add	r1, r1, #2048
 1416 00b0 1343     		orrs	r3, r3, r2
 1417 00b2 CB61     		str	r3, [r1, #28]
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1418              		.loc 1 580 0
 1419 00b4 BB68     		ldr	r3, [r7, #8]
 1420 00b6 5A01     		lsls	r2, r3, #5
 1421 00b8 FB68     		ldr	r3, [r7, #12]
 1422 00ba 1344     		add	r3, r3, r2
 1423 00bc 03F53063 		add	r3, r3, #2816
 1424 00c0 1B68     		ldr	r3, [r3]
 1425 00c2 03F40043 		and	r3, r3, #32768
 1426 00c6 002B     		cmp	r3, #0
 1427 00c8 1AD1     		bne	.L87
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/cchFjZSQ.s 			page 36


 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1428              		.loc 1 582 0
 1429 00ca BB68     		ldr	r3, [r7, #8]
 1430 00cc 5A01     		lsls	r2, r3, #5
 1431 00ce FB68     		ldr	r3, [r7, #12]
 1432 00d0 1344     		add	r3, r3, r2
 1433 00d2 03F53063 		add	r3, r3, #2816
 1434 00d6 1A68     		ldr	r2, [r3]
 1435 00d8 3B68     		ldr	r3, [r7]
 1436 00da 9B68     		ldr	r3, [r3, #8]
 1437 00dc C3F30A01 		ubfx	r1, r3, #0, #11
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1438              		.loc 1 583 0
 1439 00e0 3B68     		ldr	r3, [r7]
 1440 00e2 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1441 00e4 9B04     		lsls	r3, r3, #18
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1442              		.loc 1 582 0
 1443 00e6 0B43     		orrs	r3, r3, r1
 1444 00e8 1343     		orrs	r3, r3, r2
 1445 00ea BA68     		ldr	r2, [r7, #8]
 1446 00ec 5101     		lsls	r1, r2, #5
 1447 00ee FA68     		ldr	r2, [r7, #12]
 1448 00f0 0A44     		add	r2, r2, r1
 1449 00f2 02F53062 		add	r2, r2, #2816
 1450 00f6 43F08053 		orr	r3, r3, #268435456
 1451 00fa 43F40043 		orr	r3, r3, #32768
 1452 00fe 1360     		str	r3, [r2]
 1453              	.L87:
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1454              		.loc 1 588 0
 1455 0100 0023     		movs	r3, #0
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1456              		.loc 1 589 0
 1457 0102 1846     		mov	r0, r3
 1458 0104 1437     		adds	r7, r7, #20
 1459              	.LCFI66:
 1460              		.cfi_def_cfa_offset 4
 1461 0106 BD46     		mov	sp, r7
 1462              	.LCFI67:
 1463              		.cfi_def_cfa_register 13
 1464              		@ sp needed
 1465 0108 5DF8047B 		ldr	r7, [sp], #4
 1466              	.LCFI68:
 1467              		.cfi_restore 7
 1468              		.cfi_def_cfa_offset 0
 1469 010c 7047     		bx	lr
 1470              		.cfi_endproc
 1471              	.LFE140:
 1473              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1474              		.align	1
 1475              		.global	USB_ActivateDedicatedEndpoint
 1476              		.syntax unified
ARM GAS  /tmp/cchFjZSQ.s 			page 37


 1477              		.thumb
 1478              		.thumb_func
 1479              		.fpu fpv4-sp-d16
 1481              	USB_ActivateDedicatedEndpoint:
 1482              	.LFB141:
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1483              		.loc 1 598 0
 1484              		.cfi_startproc
 1485              		@ args = 0, pretend = 0, frame = 16
 1486              		@ frame_needed = 1, uses_anonymous_args = 0
 1487              		@ link register save eliminated.
 1488 0000 80B4     		push	{r7}
 1489              	.LCFI69:
 1490              		.cfi_def_cfa_offset 4
 1491              		.cfi_offset 7, -4
 1492 0002 85B0     		sub	sp, sp, #20
 1493              	.LCFI70:
 1494              		.cfi_def_cfa_offset 24
 1495 0004 00AF     		add	r7, sp, #0
 1496              	.LCFI71:
 1497              		.cfi_def_cfa_register 7
 1498 0006 7860     		str	r0, [r7, #4]
 1499 0008 3960     		str	r1, [r7]
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1500              		.loc 1 599 0
 1501 000a 7B68     		ldr	r3, [r7, #4]
 1502 000c FB60     		str	r3, [r7, #12]
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1503              		.loc 1 600 0
 1504 000e 3B68     		ldr	r3, [r7]
 1505 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1506 0012 BB60     		str	r3, [r7, #8]
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1507              		.loc 1 603 0
 1508 0014 3B68     		ldr	r3, [r7]
 1509 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1510 0018 012B     		cmp	r3, #1
 1511 001a 3AD1     		bne	.L90
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1512              		.loc 1 605 0
 1513 001c BB68     		ldr	r3, [r7, #8]
 1514 001e 5A01     		lsls	r2, r3, #5
 1515 0020 FB68     		ldr	r3, [r7, #12]
 1516 0022 1344     		add	r3, r3, r2
 1517 0024 03F51063 		add	r3, r3, #2304
 1518 0028 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/cchFjZSQ.s 			page 38


 1519 002a 03F40043 		and	r3, r3, #32768
 1520 002e 002B     		cmp	r3, #0
 1521 0030 1DD1     		bne	.L91
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1522              		.loc 1 607 0
 1523 0032 BB68     		ldr	r3, [r7, #8]
 1524 0034 5A01     		lsls	r2, r3, #5
 1525 0036 FB68     		ldr	r3, [r7, #12]
 1526 0038 1344     		add	r3, r3, r2
 1527 003a 03F51063 		add	r3, r3, #2304
 1528 003e 1A68     		ldr	r2, [r3]
 1529 0040 3B68     		ldr	r3, [r7]
 1530 0042 9B68     		ldr	r3, [r3, #8]
 1531 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1532              		.loc 1 608 0
 1533 0048 3B68     		ldr	r3, [r7]
 1534 004a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1535 004c 9B04     		lsls	r3, r3, #18
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1536              		.loc 1 607 0
 1537 004e 1943     		orrs	r1, r1, r3
 1538              		.loc 1 608 0
 1539 0050 BB68     		ldr	r3, [r7, #8]
 1540 0052 9B05     		lsls	r3, r3, #22
 1541 0054 0B43     		orrs	r3, r3, r1
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1542              		.loc 1 607 0
 1543 0056 1343     		orrs	r3, r3, r2
 1544 0058 BA68     		ldr	r2, [r7, #8]
 1545 005a 5101     		lsls	r1, r2, #5
 1546 005c FA68     		ldr	r2, [r7, #12]
 1547 005e 0A44     		add	r2, r2, r1
 1548 0060 02F51062 		add	r2, r2, #2304
 1549 0064 43F08053 		orr	r3, r3, #268435456
 1550 0068 43F40043 		orr	r3, r3, #32768
 1551 006c 1360     		str	r3, [r2]
 1552              	.L91:
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1553              		.loc 1 613 0
 1554 006e FB68     		ldr	r3, [r7, #12]
 1555 0070 03F50063 		add	r3, r3, #2048
 1556 0074 DA6B     		ldr	r2, [r3, #60]
 1557 0076 3B68     		ldr	r3, [r7]
 1558 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1559 007a 03F00F03 		and	r3, r3, #15
 1560 007e 0121     		movs	r1, #1
 1561 0080 01FA03F3 		lsl	r3, r1, r3
 1562 0084 9BB2     		uxth	r3, r3
 1563 0086 F968     		ldr	r1, [r7, #12]
 1564 0088 01F50061 		add	r1, r1, #2048
 1565 008c 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/cchFjZSQ.s 			page 39


 1566 008e CB63     		str	r3, [r1, #60]
 1567 0090 37E0     		b	.L92
 1568              	.L90:
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1569              		.loc 1 617 0
 1570 0092 BB68     		ldr	r3, [r7, #8]
 1571 0094 5A01     		lsls	r2, r3, #5
 1572 0096 FB68     		ldr	r3, [r7, #12]
 1573 0098 1344     		add	r3, r3, r2
 1574 009a 03F53063 		add	r3, r3, #2816
 1575 009e 1B68     		ldr	r3, [r3]
 1576 00a0 03F40043 		and	r3, r3, #32768
 1577 00a4 002B     		cmp	r3, #0
 1578 00a6 1BD1     		bne	.L93
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1579              		.loc 1 619 0
 1580 00a8 BB68     		ldr	r3, [r7, #8]
 1581 00aa 5A01     		lsls	r2, r3, #5
 1582 00ac FB68     		ldr	r3, [r7, #12]
 1583 00ae 1344     		add	r3, r3, r2
 1584 00b0 03F53063 		add	r3, r3, #2816
 1585 00b4 1A68     		ldr	r2, [r3]
 1586 00b6 3B68     		ldr	r3, [r7]
 1587 00b8 9B68     		ldr	r3, [r3, #8]
 1588 00ba C3F30A01 		ubfx	r1, r3, #0, #11
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1589              		.loc 1 620 0
 1590 00be 3B68     		ldr	r3, [r7]
 1591 00c0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1592 00c2 9B04     		lsls	r3, r3, #18
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1593              		.loc 1 619 0
 1594 00c4 1943     		orrs	r1, r1, r3
 1595              		.loc 1 620 0
 1596 00c6 BB68     		ldr	r3, [r7, #8]
 1597 00c8 9B05     		lsls	r3, r3, #22
 1598 00ca 0B43     		orrs	r3, r3, r1
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1599              		.loc 1 619 0
 1600 00cc 1343     		orrs	r3, r3, r2
 1601 00ce BA68     		ldr	r2, [r7, #8]
 1602 00d0 5101     		lsls	r1, r2, #5
 1603 00d2 FA68     		ldr	r2, [r7, #12]
 1604 00d4 0A44     		add	r2, r2, r1
 1605 00d6 02F53062 		add	r2, r2, #2816
 1606 00da 43F40043 		orr	r3, r3, #32768
 1607 00de 1360     		str	r3, [r2]
 1608              	.L93:
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1609              		.loc 1 624 0
ARM GAS  /tmp/cchFjZSQ.s 			page 40


 1610 00e0 FB68     		ldr	r3, [r7, #12]
 1611 00e2 03F50063 		add	r3, r3, #2048
 1612 00e6 DA6B     		ldr	r2, [r3, #60]
 1613 00e8 3B68     		ldr	r3, [r7]
 1614 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1615 00ec 03F00F03 		and	r3, r3, #15
 1616 00f0 0121     		movs	r1, #1
 1617 00f2 01FA03F3 		lsl	r3, r1, r3
 1618 00f6 1B04     		lsls	r3, r3, #16
 1619 00f8 F968     		ldr	r1, [r7, #12]
 1620 00fa 01F50061 		add	r1, r1, #2048
 1621 00fe 1343     		orrs	r3, r3, r2
 1622 0100 CB63     		str	r3, [r1, #60]
 1623              	.L92:
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1624              		.loc 1 627 0
 1625 0102 0023     		movs	r3, #0
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1626              		.loc 1 628 0
 1627 0104 1846     		mov	r0, r3
 1628 0106 1437     		adds	r7, r7, #20
 1629              	.LCFI72:
 1630              		.cfi_def_cfa_offset 4
 1631 0108 BD46     		mov	sp, r7
 1632              	.LCFI73:
 1633              		.cfi_def_cfa_register 13
 1634              		@ sp needed
 1635 010a 5DF8047B 		ldr	r7, [sp], #4
 1636              	.LCFI74:
 1637              		.cfi_restore 7
 1638              		.cfi_def_cfa_offset 0
 1639 010e 7047     		bx	lr
 1640              		.cfi_endproc
 1641              	.LFE141:
 1643              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1644              		.align	1
 1645              		.global	USB_DeactivateEndpoint
 1646              		.syntax unified
 1647              		.thumb
 1648              		.thumb_func
 1649              		.fpu fpv4-sp-d16
 1651              	USB_DeactivateEndpoint:
 1652              	.LFB142:
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1653              		.loc 1 637 0
 1654              		.cfi_startproc
 1655              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/cchFjZSQ.s 			page 41


 1656              		@ frame_needed = 1, uses_anonymous_args = 0
 1657              		@ link register save eliminated.
 1658 0000 80B4     		push	{r7}
 1659              	.LCFI75:
 1660              		.cfi_def_cfa_offset 4
 1661              		.cfi_offset 7, -4
 1662 0002 85B0     		sub	sp, sp, #20
 1663              	.LCFI76:
 1664              		.cfi_def_cfa_offset 24
 1665 0004 00AF     		add	r7, sp, #0
 1666              	.LCFI77:
 1667              		.cfi_def_cfa_register 7
 1668 0006 7860     		str	r0, [r7, #4]
 1669 0008 3960     		str	r1, [r7]
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1670              		.loc 1 638 0
 1671 000a 7B68     		ldr	r3, [r7, #4]
 1672 000c FB60     		str	r3, [r7, #12]
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1673              		.loc 1 639 0
 1674 000e 3B68     		ldr	r3, [r7]
 1675 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1676 0012 BB60     		str	r3, [r7, #8]
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1677              		.loc 1 642 0
 1678 0014 3B68     		ldr	r3, [r7]
 1679 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1680 0018 012B     		cmp	r3, #1
 1681 001a 35D1     		bne	.L96
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1682              		.loc 1 644 0
 1683 001c FB68     		ldr	r3, [r7, #12]
 1684 001e 03F50063 		add	r3, r3, #2048
 1685 0022 DA6B     		ldr	r2, [r3, #60]
 1686 0024 3B68     		ldr	r3, [r7]
 1687 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1688 0028 03F00F03 		and	r3, r3, #15
 1689 002c 0121     		movs	r1, #1
 1690 002e 01FA03F3 		lsl	r3, r1, r3
 1691 0032 9BB2     		uxth	r3, r3
 1692 0034 DB43     		mvns	r3, r3
 1693 0036 F968     		ldr	r1, [r7, #12]
 1694 0038 01F50061 		add	r1, r1, #2048
 1695 003c 1340     		ands	r3, r3, r2
 1696 003e CB63     		str	r3, [r1, #60]
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1697              		.loc 1 645 0
 1698 0040 FB68     		ldr	r3, [r7, #12]
 1699 0042 03F50063 		add	r3, r3, #2048
 1700 0046 DA69     		ldr	r2, [r3, #28]
 1701 0048 3B68     		ldr	r3, [r7]
 1702 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1703 004c 03F00F03 		and	r3, r3, #15
 1704 0050 0121     		movs	r1, #1
ARM GAS  /tmp/cchFjZSQ.s 			page 42


 1705 0052 01FA03F3 		lsl	r3, r1, r3
 1706 0056 9BB2     		uxth	r3, r3
 1707 0058 DB43     		mvns	r3, r3
 1708 005a F968     		ldr	r1, [r7, #12]
 1709 005c 01F50061 		add	r1, r1, #2048
 1710 0060 1340     		ands	r3, r3, r2
 1711 0062 CB61     		str	r3, [r1, #28]
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 1712              		.loc 1 646 0
 1713 0064 BB68     		ldr	r3, [r7, #8]
 1714 0066 5A01     		lsls	r2, r3, #5
 1715 0068 FB68     		ldr	r3, [r7, #12]
 1716 006a 1344     		add	r3, r3, r2
 1717 006c 03F51063 		add	r3, r3, #2304
 1718 0070 1A68     		ldr	r2, [r3]
 1719 0072 BB68     		ldr	r3, [r7, #8]
 1720 0074 5901     		lsls	r1, r3, #5
 1721 0076 FB68     		ldr	r3, [r7, #12]
 1722 0078 0B44     		add	r3, r3, r1
 1723 007a 03F51063 		add	r3, r3, #2304
 1724 007e 1946     		mov	r1, r3
 1725 0080 1F4B     		ldr	r3, .L99
 1726 0082 1340     		ands	r3, r3, r2
 1727 0084 0B60     		str	r3, [r1]
 1728 0086 34E0     		b	.L97
 1729              	.L96:
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1730              		.loc 1 654 0
 1731 0088 FB68     		ldr	r3, [r7, #12]
 1732 008a 03F50063 		add	r3, r3, #2048
 1733 008e DA6B     		ldr	r2, [r3, #60]
 1734 0090 3B68     		ldr	r3, [r7]
 1735 0092 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1736 0094 03F00F03 		and	r3, r3, #15
 1737 0098 0121     		movs	r1, #1
 1738 009a 01FA03F3 		lsl	r3, r1, r3
 1739 009e 1B04     		lsls	r3, r3, #16
 1740 00a0 DB43     		mvns	r3, r3
 1741 00a2 F968     		ldr	r1, [r7, #12]
 1742 00a4 01F50061 		add	r1, r1, #2048
 1743 00a8 1340     		ands	r3, r3, r2
 1744 00aa CB63     		str	r3, [r1, #60]
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1745              		.loc 1 655 0
 1746 00ac FB68     		ldr	r3, [r7, #12]
 1747 00ae 03F50063 		add	r3, r3, #2048
 1748 00b2 DA69     		ldr	r2, [r3, #28]
 1749 00b4 3B68     		ldr	r3, [r7]
 1750 00b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1751 00b8 03F00F03 		and	r3, r3, #15
ARM GAS  /tmp/cchFjZSQ.s 			page 43


 1752 00bc 0121     		movs	r1, #1
 1753 00be 01FA03F3 		lsl	r3, r1, r3
 1754 00c2 1B04     		lsls	r3, r3, #16
 1755 00c4 DB43     		mvns	r3, r3
 1756 00c6 F968     		ldr	r1, [r7, #12]
 1757 00c8 01F50061 		add	r1, r1, #2048
 1758 00cc 1340     		ands	r3, r3, r2
 1759 00ce CB61     		str	r3, [r1, #28]
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 1760              		.loc 1 656 0
 1761 00d0 BB68     		ldr	r3, [r7, #8]
 1762 00d2 5A01     		lsls	r2, r3, #5
 1763 00d4 FB68     		ldr	r3, [r7, #12]
 1764 00d6 1344     		add	r3, r3, r2
 1765 00d8 03F53063 		add	r3, r3, #2816
 1766 00dc 1A68     		ldr	r2, [r3]
 1767 00de BB68     		ldr	r3, [r7, #8]
 1768 00e0 5901     		lsls	r1, r3, #5
 1769 00e2 FB68     		ldr	r3, [r7, #12]
 1770 00e4 0B44     		add	r3, r3, r1
 1771 00e6 03F53063 		add	r3, r3, #2816
 1772 00ea 1946     		mov	r1, r3
 1773 00ec 054B     		ldr	r3, .L99+4
 1774 00ee 1340     		ands	r3, r3, r2
 1775 00f0 0B60     		str	r3, [r1]
 1776              	.L97:
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1777              		.loc 1 662 0
 1778 00f2 0023     		movs	r3, #0
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1779              		.loc 1 663 0
 1780 00f4 1846     		mov	r0, r3
 1781 00f6 1437     		adds	r7, r7, #20
 1782              	.LCFI78:
 1783              		.cfi_def_cfa_offset 4
 1784 00f8 BD46     		mov	sp, r7
 1785              	.LCFI79:
 1786              		.cfi_def_cfa_register 13
 1787              		@ sp needed
 1788 00fa 5DF8047B 		ldr	r7, [sp], #4
 1789              	.LCFI80:
 1790              		.cfi_restore 7
 1791              		.cfi_def_cfa_offset 0
 1792 00fe 7047     		bx	lr
 1793              	.L100:
 1794              		.align	2
 1795              	.L99:
 1796 0100 007833EC 		.word	-332171264
 1797 0104 0078F3EF 		.word	-269256704
 1798              		.cfi_endproc
 1799              	.LFE142:
 1801              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
ARM GAS  /tmp/cchFjZSQ.s 			page 44


 1802              		.align	1
 1803              		.global	USB_DeactivateDedicatedEndpoint
 1804              		.syntax unified
 1805              		.thumb
 1806              		.thumb_func
 1807              		.fpu fpv4-sp-d16
 1809              	USB_DeactivateDedicatedEndpoint:
 1810              	.LFB143:
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1811              		.loc 1 672 0
 1812              		.cfi_startproc
 1813              		@ args = 0, pretend = 0, frame = 16
 1814              		@ frame_needed = 1, uses_anonymous_args = 0
 1815              		@ link register save eliminated.
 1816 0000 80B4     		push	{r7}
 1817              	.LCFI81:
 1818              		.cfi_def_cfa_offset 4
 1819              		.cfi_offset 7, -4
 1820 0002 85B0     		sub	sp, sp, #20
 1821              	.LCFI82:
 1822              		.cfi_def_cfa_offset 24
 1823 0004 00AF     		add	r7, sp, #0
 1824              	.LCFI83:
 1825              		.cfi_def_cfa_register 7
 1826 0006 7860     		str	r0, [r7, #4]
 1827 0008 3960     		str	r1, [r7]
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1828              		.loc 1 673 0
 1829 000a 7B68     		ldr	r3, [r7, #4]
 1830 000c FB60     		str	r3, [r7, #12]
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1831              		.loc 1 674 0
 1832 000e 3B68     		ldr	r3, [r7]
 1833 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1834 0012 BB60     		str	r3, [r7, #8]
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1835              		.loc 1 677 0
 1836 0014 3B68     		ldr	r3, [r7]
 1837 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1838 0018 012B     		cmp	r3, #1
 1839 001a 22D1     		bne	.L102
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 1840              		.loc 1 679 0
 1841 001c BB68     		ldr	r3, [r7, #8]
 1842 001e 5A01     		lsls	r2, r3, #5
 1843 0020 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cchFjZSQ.s 			page 45


 1844 0022 1344     		add	r3, r3, r2
 1845 0024 03F51063 		add	r3, r3, #2304
 1846 0028 1B68     		ldr	r3, [r3]
 1847 002a BA68     		ldr	r2, [r7, #8]
 1848 002c 5101     		lsls	r1, r2, #5
 1849 002e FA68     		ldr	r2, [r7, #12]
 1850 0030 0A44     		add	r2, r2, r1
 1851 0032 02F51062 		add	r2, r2, #2304
 1852 0036 23F40043 		bic	r3, r3, #32768
 1853 003a 1360     		str	r3, [r2]
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1854              		.loc 1 680 0
 1855 003c FB68     		ldr	r3, [r7, #12]
 1856 003e 03F50063 		add	r3, r3, #2048
 1857 0042 DA69     		ldr	r2, [r3, #28]
 1858 0044 3B68     		ldr	r3, [r7]
 1859 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1860 0048 03F00F03 		and	r3, r3, #15
 1861 004c 0121     		movs	r1, #1
 1862 004e 01FA03F3 		lsl	r3, r1, r3
 1863 0052 9BB2     		uxth	r3, r3
 1864 0054 DB43     		mvns	r3, r3
 1865 0056 F968     		ldr	r1, [r7, #12]
 1866 0058 01F50061 		add	r1, r1, #2048
 1867 005c 1340     		ands	r3, r3, r2
 1868 005e CB61     		str	r3, [r1, #28]
 1869 0060 21E0     		b	.L103
 1870              	.L102:
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 1871              		.loc 1 684 0
 1872 0062 BB68     		ldr	r3, [r7, #8]
 1873 0064 5A01     		lsls	r2, r3, #5
 1874 0066 FB68     		ldr	r3, [r7, #12]
 1875 0068 1344     		add	r3, r3, r2
 1876 006a 03F53063 		add	r3, r3, #2816
 1877 006e 1B68     		ldr	r3, [r3]
 1878 0070 BA68     		ldr	r2, [r7, #8]
 1879 0072 5101     		lsls	r1, r2, #5
 1880 0074 FA68     		ldr	r2, [r7, #12]
 1881 0076 0A44     		add	r2, r2, r1
 1882 0078 02F53062 		add	r2, r2, #2816
 1883 007c 23F40043 		bic	r3, r3, #32768
 1884 0080 1360     		str	r3, [r2]
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1885              		.loc 1 685 0
 1886 0082 FB68     		ldr	r3, [r7, #12]
 1887 0084 03F50063 		add	r3, r3, #2048
 1888 0088 DA69     		ldr	r2, [r3, #28]
 1889 008a 3B68     		ldr	r3, [r7]
 1890 008c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1891 008e 03F00F03 		and	r3, r3, #15
 1892 0092 0121     		movs	r1, #1
 1893 0094 01FA03F3 		lsl	r3, r1, r3
 1894 0098 1B04     		lsls	r3, r3, #16
ARM GAS  /tmp/cchFjZSQ.s 			page 46


 1895 009a DB43     		mvns	r3, r3
 1896 009c F968     		ldr	r1, [r7, #12]
 1897 009e 01F50061 		add	r1, r1, #2048
 1898 00a2 1340     		ands	r3, r3, r2
 1899 00a4 CB61     		str	r3, [r1, #28]
 1900              	.L103:
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1901              		.loc 1 688 0
 1902 00a6 0023     		movs	r3, #0
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1903              		.loc 1 689 0
 1904 00a8 1846     		mov	r0, r3
 1905 00aa 1437     		adds	r7, r7, #20
 1906              	.LCFI84:
 1907              		.cfi_def_cfa_offset 4
 1908 00ac BD46     		mov	sp, r7
 1909              	.LCFI85:
 1910              		.cfi_def_cfa_register 13
 1911              		@ sp needed
 1912 00ae 5DF8047B 		ldr	r7, [sp], #4
 1913              	.LCFI86:
 1914              		.cfi_restore 7
 1915              		.cfi_def_cfa_offset 0
 1916 00b2 7047     		bx	lr
 1917              		.cfi_endproc
 1918              	.LFE143:
 1920              		.section	.text.USB_EPStartXfer,"ax",%progbits
 1921              		.align	1
 1922              		.global	USB_EPStartXfer
 1923              		.syntax unified
 1924              		.thumb
 1925              		.thumb_func
 1926              		.fpu fpv4-sp-d16
 1928              	USB_EPStartXfer:
 1929              	.LFB144:
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1930              		.loc 1 702 0
 1931              		.cfi_startproc
 1932              		@ args = 0, pretend = 0, frame = 32
 1933              		@ frame_needed = 1, uses_anonymous_args = 0
 1934 0000 80B5     		push	{r7, lr}
 1935              	.LCFI87:
 1936              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cchFjZSQ.s 			page 47


 1937              		.cfi_offset 7, -8
 1938              		.cfi_offset 14, -4
 1939 0002 8AB0     		sub	sp, sp, #40
 1940              	.LCFI88:
 1941              		.cfi_def_cfa_offset 48
 1942 0004 02AF     		add	r7, sp, #8
 1943              	.LCFI89:
 1944              		.cfi_def_cfa 7, 40
 1945 0006 F860     		str	r0, [r7, #12]
 1946 0008 B960     		str	r1, [r7, #8]
 1947 000a 1346     		mov	r3, r2
 1948 000c FB71     		strb	r3, [r7, #7]
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1949              		.loc 1 703 0
 1950 000e FB68     		ldr	r3, [r7, #12]
 1951 0010 FB61     		str	r3, [r7, #28]
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1952              		.loc 1 704 0
 1953 0012 BB68     		ldr	r3, [r7, #8]
 1954 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1955 0016 BB61     		str	r3, [r7, #24]
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt;
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1956              		.loc 1 708 0
 1957 0018 BB68     		ldr	r3, [r7, #8]
 1958 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1959 001c 012B     		cmp	r3, #1
 1960 001e 40F05C81 		bne	.L106
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 1961              		.loc 1 711 0
 1962 0022 BB68     		ldr	r3, [r7, #8]
 1963 0024 5B69     		ldr	r3, [r3, #20]
 1964 0026 002B     		cmp	r3, #0
 1965 0028 32D1     		bne	.L107
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 1966              		.loc 1 713 0
 1967 002a BB69     		ldr	r3, [r7, #24]
 1968 002c 5A01     		lsls	r2, r3, #5
 1969 002e FB69     		ldr	r3, [r7, #28]
 1970 0030 1344     		add	r3, r3, r2
 1971 0032 03F51063 		add	r3, r3, #2304
 1972 0036 1B69     		ldr	r3, [r3, #16]
 1973 0038 BA69     		ldr	r2, [r7, #24]
 1974 003a 5101     		lsls	r1, r2, #5
 1975 003c FA69     		ldr	r2, [r7, #28]
 1976 003e 0A44     		add	r2, r2, r1
 1977 0040 02F51062 		add	r2, r2, #2304
 1978 0044 23F0FF53 		bic	r3, r3, #534773760
 1979 0048 23F4C013 		bic	r3, r3, #1572864
 1980 004c 1361     		str	r3, [r2, #16]
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 1981              		.loc 1 714 0
ARM GAS  /tmp/cchFjZSQ.s 			page 48


 1982 004e BB69     		ldr	r3, [r7, #24]
 1983 0050 5A01     		lsls	r2, r3, #5
 1984 0052 FB69     		ldr	r3, [r7, #28]
 1985 0054 1344     		add	r3, r3, r2
 1986 0056 03F51063 		add	r3, r3, #2304
 1987 005a 1B69     		ldr	r3, [r3, #16]
 1988 005c BA69     		ldr	r2, [r7, #24]
 1989 005e 5101     		lsls	r1, r2, #5
 1990 0060 FA69     		ldr	r2, [r7, #28]
 1991 0062 0A44     		add	r2, r2, r1
 1992 0064 02F51062 		add	r2, r2, #2304
 1993 0068 43F40023 		orr	r3, r3, #524288
 1994 006c 1361     		str	r3, [r2, #16]
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 1995              		.loc 1 715 0
 1996 006e BB69     		ldr	r3, [r7, #24]
 1997 0070 5A01     		lsls	r2, r3, #5
 1998 0072 FB69     		ldr	r3, [r7, #28]
 1999 0074 1344     		add	r3, r3, r2
 2000 0076 03F51063 		add	r3, r3, #2304
 2001 007a 1B69     		ldr	r3, [r3, #16]
 2002 007c BA69     		ldr	r2, [r7, #24]
 2003 007e 5101     		lsls	r1, r2, #5
 2004 0080 FA69     		ldr	r2, [r7, #28]
 2005 0082 0A44     		add	r2, r2, r1
 2006 0084 02F51062 		add	r2, r2, #2304
 2007 0088 DB0C     		lsrs	r3, r3, #19
 2008 008a DB04     		lsls	r3, r3, #19
 2009 008c 1361     		str	r3, [r2, #16]
 2010 008e 74E0     		b	.L108
 2011              	.L107:
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2012              		.loc 1 724 0
 2013 0090 BB69     		ldr	r3, [r7, #24]
 2014 0092 5A01     		lsls	r2, r3, #5
 2015 0094 FB69     		ldr	r3, [r7, #28]
 2016 0096 1344     		add	r3, r3, r2
 2017 0098 03F51063 		add	r3, r3, #2304
 2018 009c 1B69     		ldr	r3, [r3, #16]
 2019 009e BA69     		ldr	r2, [r7, #24]
 2020 00a0 5101     		lsls	r1, r2, #5
 2021 00a2 FA69     		ldr	r2, [r7, #28]
 2022 00a4 0A44     		add	r2, r2, r1
 2023 00a6 02F51062 		add	r2, r2, #2304
 2024 00aa DB0C     		lsrs	r3, r3, #19
 2025 00ac DB04     		lsls	r3, r3, #19
 2026 00ae 1361     		str	r3, [r2, #16]
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2027              		.loc 1 725 0
ARM GAS  /tmp/cchFjZSQ.s 			page 49


 2028 00b0 BB69     		ldr	r3, [r7, #24]
 2029 00b2 5A01     		lsls	r2, r3, #5
 2030 00b4 FB69     		ldr	r3, [r7, #28]
 2031 00b6 1344     		add	r3, r3, r2
 2032 00b8 03F51063 		add	r3, r3, #2304
 2033 00bc 1B69     		ldr	r3, [r3, #16]
 2034 00be BA69     		ldr	r2, [r7, #24]
 2035 00c0 5101     		lsls	r1, r2, #5
 2036 00c2 FA69     		ldr	r2, [r7, #28]
 2037 00c4 0A44     		add	r2, r2, r1
 2038 00c6 02F51062 		add	r2, r2, #2304
 2039 00ca 23F0FF53 		bic	r3, r3, #534773760
 2040 00ce 23F4C013 		bic	r3, r3, #1572864
 2041 00d2 1361     		str	r3, [r2, #16]
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (((ep->xfer_len + ep->maxpacket - 1U
 2042              		.loc 1 726 0
 2043 00d4 BB69     		ldr	r3, [r7, #24]
 2044 00d6 5A01     		lsls	r2, r3, #5
 2045 00d8 FB69     		ldr	r3, [r7, #28]
 2046 00da 1344     		add	r3, r3, r2
 2047 00dc 03F51063 		add	r3, r3, #2304
 2048 00e0 1A69     		ldr	r2, [r3, #16]
 2049 00e2 BB68     		ldr	r3, [r7, #8]
 2050 00e4 5969     		ldr	r1, [r3, #20]
 2051 00e6 BB68     		ldr	r3, [r7, #8]
 2052 00e8 9B68     		ldr	r3, [r3, #8]
 2053 00ea 0B44     		add	r3, r3, r1
 2054 00ec 591E     		subs	r1, r3, #1
 2055 00ee BB68     		ldr	r3, [r7, #8]
 2056 00f0 9B68     		ldr	r3, [r3, #8]
 2057 00f2 B1FBF3F3 		udiv	r3, r1, r3
 2058 00f6 D904     		lsls	r1, r3, #19
 2059 00f8 9D4B     		ldr	r3, .L125
 2060 00fa 0B40     		ands	r3, r3, r1
 2061 00fc B969     		ldr	r1, [r7, #24]
 2062 00fe 4801     		lsls	r0, r1, #5
 2063 0100 F969     		ldr	r1, [r7, #28]
 2064 0102 0144     		add	r1, r1, r0
 2065 0104 01F51061 		add	r1, r1, #2304
 2066 0108 1343     		orrs	r3, r3, r2
 2067 010a 0B61     		str	r3, [r1, #16]
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2068              		.loc 1 727 0
 2069 010c BB69     		ldr	r3, [r7, #24]
 2070 010e 5A01     		lsls	r2, r3, #5
 2071 0110 FB69     		ldr	r3, [r7, #28]
 2072 0112 1344     		add	r3, r3, r2
 2073 0114 03F51063 		add	r3, r3, #2304
 2074 0118 1A69     		ldr	r2, [r3, #16]
 2075 011a BB68     		ldr	r3, [r7, #8]
 2076 011c 5B69     		ldr	r3, [r3, #20]
 2077 011e C3F31203 		ubfx	r3, r3, #0, #19
 2078 0122 B969     		ldr	r1, [r7, #24]
 2079 0124 4801     		lsls	r0, r1, #5
 2080 0126 F969     		ldr	r1, [r7, #28]
 2081 0128 0144     		add	r1, r1, r0
 2082 012a 01F51061 		add	r1, r1, #2304
ARM GAS  /tmp/cchFjZSQ.s 			page 50


 2083 012e 1343     		orrs	r3, r3, r2
 2084 0130 0B61     		str	r3, [r1, #16]
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2085              		.loc 1 729 0
 2086 0132 BB68     		ldr	r3, [r7, #8]
 2087 0134 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2088 0136 012B     		cmp	r3, #1
 2089 0138 1FD1     		bne	.L108
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 2090              		.loc 1 731 0
 2091 013a BB69     		ldr	r3, [r7, #24]
 2092 013c 5A01     		lsls	r2, r3, #5
 2093 013e FB69     		ldr	r3, [r7, #28]
 2094 0140 1344     		add	r3, r3, r2
 2095 0142 03F51063 		add	r3, r3, #2304
 2096 0146 1B69     		ldr	r3, [r3, #16]
 2097 0148 BA69     		ldr	r2, [r7, #24]
 2098 014a 5101     		lsls	r1, r2, #5
 2099 014c FA69     		ldr	r2, [r7, #28]
 2100 014e 0A44     		add	r2, r2, r1
 2101 0150 02F51062 		add	r2, r2, #2304
 2102 0154 23F0C043 		bic	r3, r3, #1610612736
 2103 0158 1361     		str	r3, [r2, #16]
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 2104              		.loc 1 732 0
 2105 015a BB69     		ldr	r3, [r7, #24]
 2106 015c 5A01     		lsls	r2, r3, #5
 2107 015e FB69     		ldr	r3, [r7, #28]
 2108 0160 1344     		add	r3, r3, r2
 2109 0162 03F51063 		add	r3, r3, #2304
 2110 0166 1B69     		ldr	r3, [r3, #16]
 2111 0168 BA69     		ldr	r2, [r7, #24]
 2112 016a 5101     		lsls	r1, r2, #5
 2113 016c FA69     		ldr	r2, [r7, #28]
 2114 016e 0A44     		add	r2, r2, r1
 2115 0170 02F51062 		add	r2, r2, #2304
 2116 0174 43F00053 		orr	r3, r3, #536870912
 2117 0178 1361     		str	r3, [r2, #16]
 2118              	.L108:
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2119              		.loc 1 736 0
 2120 017a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2121 017c 012B     		cmp	r3, #1
 2122 017e 4BD1     		bne	.L109
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2123              		.loc 1 738 0
 2124 0180 BB68     		ldr	r3, [r7, #8]
 2125 0182 1B69     		ldr	r3, [r3, #16]
 2126 0184 002B     		cmp	r3, #0
 2127 0186 09D0     		beq	.L110
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
ARM GAS  /tmp/cchFjZSQ.s 			page 51


 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2128              		.loc 1 740 0
 2129 0188 BB69     		ldr	r3, [r7, #24]
 2130 018a 5A01     		lsls	r2, r3, #5
 2131 018c FB69     		ldr	r3, [r7, #28]
 2132 018e 1344     		add	r3, r3, r2
 2133 0190 03F51063 		add	r3, r3, #2304
 2134 0194 1A46     		mov	r2, r3
 2135 0196 BB68     		ldr	r3, [r7, #8]
 2136 0198 1B69     		ldr	r3, [r3, #16]
 2137 019a 5361     		str	r3, [r2, #20]
 2138              	.L110:
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2139              		.loc 1 743 0
 2140 019c BB68     		ldr	r3, [r7, #8]
 2141 019e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2142 01a0 012B     		cmp	r3, #1
 2143 01a2 28D1     		bne	.L111
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2144              		.loc 1 745 0
 2145 01a4 FB69     		ldr	r3, [r7, #28]
 2146 01a6 03F50063 		add	r3, r3, #2048
 2147 01aa 9B68     		ldr	r3, [r3, #8]
 2148 01ac 03F48073 		and	r3, r3, #256
 2149 01b0 002B     		cmp	r3, #0
 2150 01b2 10D1     		bne	.L112
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2151              		.loc 1 747 0
 2152 01b4 BB69     		ldr	r3, [r7, #24]
 2153 01b6 5A01     		lsls	r2, r3, #5
 2154 01b8 FB69     		ldr	r3, [r7, #28]
 2155 01ba 1344     		add	r3, r3, r2
 2156 01bc 03F51063 		add	r3, r3, #2304
 2157 01c0 1B68     		ldr	r3, [r3]
 2158 01c2 BA69     		ldr	r2, [r7, #24]
 2159 01c4 5101     		lsls	r1, r2, #5
 2160 01c6 FA69     		ldr	r2, [r7, #28]
 2161 01c8 0A44     		add	r2, r2, r1
 2162 01ca 02F51062 		add	r2, r2, #2304
 2163 01ce 43F00053 		orr	r3, r3, #536870912
 2164 01d2 1360     		str	r3, [r2]
 2165 01d4 0FE0     		b	.L111
 2166              	.L112:
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2167              		.loc 1 751 0
 2168 01d6 BB69     		ldr	r3, [r7, #24]
 2169 01d8 5A01     		lsls	r2, r3, #5
 2170 01da FB69     		ldr	r3, [r7, #28]
 2171 01dc 1344     		add	r3, r3, r2
 2172 01de 03F51063 		add	r3, r3, #2304
ARM GAS  /tmp/cchFjZSQ.s 			page 52


 2173 01e2 1B68     		ldr	r3, [r3]
 2174 01e4 BA69     		ldr	r2, [r7, #24]
 2175 01e6 5101     		lsls	r1, r2, #5
 2176 01e8 FA69     		ldr	r2, [r7, #28]
 2177 01ea 0A44     		add	r2, r2, r1
 2178 01ec 02F51062 		add	r2, r2, #2304
 2179 01f0 43F08053 		orr	r3, r3, #268435456
 2180 01f4 1360     		str	r3, [r2]
 2181              	.L111:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2182              		.loc 1 756 0
 2183 01f6 BB69     		ldr	r3, [r7, #24]
 2184 01f8 5A01     		lsls	r2, r3, #5
 2185 01fa FB69     		ldr	r3, [r7, #28]
 2186 01fc 1344     		add	r3, r3, r2
 2187 01fe 03F51063 		add	r3, r3, #2304
 2188 0202 1B68     		ldr	r3, [r3]
 2189 0204 BA69     		ldr	r2, [r7, #24]
 2190 0206 5101     		lsls	r1, r2, #5
 2191 0208 FA69     		ldr	r2, [r7, #28]
 2192 020a 0A44     		add	r2, r2, r1
 2193 020c 02F51062 		add	r2, r2, #2304
 2194 0210 43F00443 		orr	r3, r3, #-2080374784
 2195 0214 1360     		str	r3, [r2]
 2196 0216 2FE1     		b	.L118
 2197              	.L109:
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2198              		.loc 1 761 0
 2199 0218 BB69     		ldr	r3, [r7, #24]
 2200 021a 5A01     		lsls	r2, r3, #5
 2201 021c FB69     		ldr	r3, [r7, #28]
 2202 021e 1344     		add	r3, r3, r2
 2203 0220 03F51063 		add	r3, r3, #2304
 2204 0224 1B68     		ldr	r3, [r3]
 2205 0226 BA69     		ldr	r2, [r7, #24]
 2206 0228 5101     		lsls	r1, r2, #5
 2207 022a FA69     		ldr	r2, [r7, #28]
 2208 022c 0A44     		add	r2, r2, r1
 2209 022e 02F51062 		add	r2, r2, #2304
 2210 0232 43F00443 		orr	r3, r3, #-2080374784
 2211 0236 1360     		str	r3, [r2]
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 2212              		.loc 1 763 0
 2213 0238 BB68     		ldr	r3, [r7, #8]
 2214 023a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2215 023c 012B     		cmp	r3, #1
 2216 023e 15D0     		beq	.L114
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
ARM GAS  /tmp/cchFjZSQ.s 			page 53


 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 2217              		.loc 1 766 0
 2218 0240 BB68     		ldr	r3, [r7, #8]
 2219 0242 5B69     		ldr	r3, [r3, #20]
 2220 0244 002B     		cmp	r3, #0
 2221 0246 00F01781 		beq	.L118
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2222              		.loc 1 768 0
 2223 024a FB69     		ldr	r3, [r7, #28]
 2224 024c 03F50063 		add	r3, r3, #2048
 2225 0250 5A6B     		ldr	r2, [r3, #52]
 2226 0252 BB68     		ldr	r3, [r7, #8]
 2227 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2228 0256 03F00F03 		and	r3, r3, #15
 2229 025a 0121     		movs	r1, #1
 2230 025c 01FA03F3 		lsl	r3, r1, r3
 2231 0260 F969     		ldr	r1, [r7, #28]
 2232 0262 01F50061 		add	r1, r1, #2048
 2233 0266 1343     		orrs	r3, r3, r2
 2234 0268 4B63     		str	r3, [r1, #52]
 2235 026a 05E1     		b	.L118
 2236              	.L114:
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2237              		.loc 1 773 0
 2238 026c FB69     		ldr	r3, [r7, #28]
 2239 026e 03F50063 		add	r3, r3, #2048
 2240 0272 9B68     		ldr	r3, [r3, #8]
 2241 0274 03F48073 		and	r3, r3, #256
 2242 0278 002B     		cmp	r3, #0
 2243 027a 10D1     		bne	.L116
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2244              		.loc 1 775 0
 2245 027c BB69     		ldr	r3, [r7, #24]
 2246 027e 5A01     		lsls	r2, r3, #5
 2247 0280 FB69     		ldr	r3, [r7, #28]
 2248 0282 1344     		add	r3, r3, r2
 2249 0284 03F51063 		add	r3, r3, #2304
 2250 0288 1B68     		ldr	r3, [r3]
 2251 028a BA69     		ldr	r2, [r7, #24]
 2252 028c 5101     		lsls	r1, r2, #5
 2253 028e FA69     		ldr	r2, [r7, #28]
 2254 0290 0A44     		add	r2, r2, r1
 2255 0292 02F51062 		add	r2, r2, #2304
 2256 0296 43F00053 		orr	r3, r3, #536870912
 2257 029a 1360     		str	r3, [r2]
 2258 029c 0FE0     		b	.L117
 2259              	.L116:
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
ARM GAS  /tmp/cchFjZSQ.s 			page 54


 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2260              		.loc 1 779 0
 2261 029e BB69     		ldr	r3, [r7, #24]
 2262 02a0 5A01     		lsls	r2, r3, #5
 2263 02a2 FB69     		ldr	r3, [r7, #28]
 2264 02a4 1344     		add	r3, r3, r2
 2265 02a6 03F51063 		add	r3, r3, #2304
 2266 02aa 1B68     		ldr	r3, [r3]
 2267 02ac BA69     		ldr	r2, [r7, #24]
 2268 02ae 5101     		lsls	r1, r2, #5
 2269 02b0 FA69     		ldr	r2, [r7, #28]
 2270 02b2 0A44     		add	r2, r2, r1
 2271 02b4 02F51062 		add	r2, r2, #2304
 2272 02b8 43F08053 		orr	r3, r3, #268435456
 2273 02bc 1360     		str	r3, [r2]
 2274              	.L117:
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len, dma);
 2275              		.loc 1 782 0
 2276 02be BB68     		ldr	r3, [r7, #8]
 2277 02c0 D968     		ldr	r1, [r3, #12]
 2278 02c2 BB68     		ldr	r3, [r7, #8]
 2279 02c4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2280 02c6 BB68     		ldr	r3, [r7, #8]
 2281 02c8 5B69     		ldr	r3, [r3, #20]
 2282 02ca 98B2     		uxth	r0, r3
 2283 02cc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2284 02ce 0093     		str	r3, [sp]
 2285 02d0 0346     		mov	r3, r0
 2286 02d2 F868     		ldr	r0, [r7, #12]
 2287 02d4 FFF7FEFF 		bl	USB_WritePacket
 2288 02d8 CEE0     		b	.L118
 2289              	.L106:
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2290              		.loc 1 792 0
 2291 02da BB69     		ldr	r3, [r7, #24]
 2292 02dc 5A01     		lsls	r2, r3, #5
 2293 02de FB69     		ldr	r3, [r7, #28]
 2294 02e0 1344     		add	r3, r3, r2
 2295 02e2 03F53063 		add	r3, r3, #2816
 2296 02e6 1B69     		ldr	r3, [r3, #16]
 2297 02e8 BA69     		ldr	r2, [r7, #24]
 2298 02ea 5101     		lsls	r1, r2, #5
 2299 02ec FA69     		ldr	r2, [r7, #28]
 2300 02ee 0A44     		add	r2, r2, r1
 2301 02f0 02F53062 		add	r2, r2, #2816
 2302 02f4 DB0C     		lsrs	r3, r3, #19
ARM GAS  /tmp/cchFjZSQ.s 			page 55


 2303 02f6 DB04     		lsls	r3, r3, #19
 2304 02f8 1361     		str	r3, [r2, #16]
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2305              		.loc 1 793 0
 2306 02fa BB69     		ldr	r3, [r7, #24]
 2307 02fc 5A01     		lsls	r2, r3, #5
 2308 02fe FB69     		ldr	r3, [r7, #28]
 2309 0300 1344     		add	r3, r3, r2
 2310 0302 03F53063 		add	r3, r3, #2816
 2311 0306 1B69     		ldr	r3, [r3, #16]
 2312 0308 BA69     		ldr	r2, [r7, #24]
 2313 030a 5101     		lsls	r1, r2, #5
 2314 030c FA69     		ldr	r2, [r7, #28]
 2315 030e 0A44     		add	r2, r2, r1
 2316 0310 02F53062 		add	r2, r2, #2816
 2317 0314 23F0FF53 		bic	r3, r3, #534773760
 2318 0318 23F4C013 		bic	r3, r3, #1572864
 2319 031c 1361     		str	r3, [r2, #16]
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2320              		.loc 1 795 0
 2321 031e BB68     		ldr	r3, [r7, #8]
 2322 0320 5B69     		ldr	r3, [r3, #20]
 2323 0322 002B     		cmp	r3, #0
 2324 0324 26D1     		bne	.L119
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2325              		.loc 1 797 0
 2326 0326 BB69     		ldr	r3, [r7, #24]
 2327 0328 5A01     		lsls	r2, r3, #5
 2328 032a FB69     		ldr	r3, [r7, #28]
 2329 032c 1344     		add	r3, r3, r2
 2330 032e 03F53063 		add	r3, r3, #2816
 2331 0332 1A69     		ldr	r2, [r3, #16]
 2332 0334 BB68     		ldr	r3, [r7, #8]
 2333 0336 9B68     		ldr	r3, [r3, #8]
 2334 0338 C3F31203 		ubfx	r3, r3, #0, #19
 2335 033c B969     		ldr	r1, [r7, #24]
 2336 033e 4801     		lsls	r0, r1, #5
 2337 0340 F969     		ldr	r1, [r7, #28]
 2338 0342 0144     		add	r1, r1, r0
 2339 0344 01F53061 		add	r1, r1, #2816
 2340 0348 1343     		orrs	r3, r3, r2
 2341 034a 0B61     		str	r3, [r1, #16]
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2342              		.loc 1 798 0
 2343 034c BB69     		ldr	r3, [r7, #24]
 2344 034e 5A01     		lsls	r2, r3, #5
 2345 0350 FB69     		ldr	r3, [r7, #28]
 2346 0352 1344     		add	r3, r3, r2
 2347 0354 03F53063 		add	r3, r3, #2816
 2348 0358 1B69     		ldr	r3, [r3, #16]
 2349 035a BA69     		ldr	r2, [r7, #24]
 2350 035c 5101     		lsls	r1, r2, #5
 2351 035e FA69     		ldr	r2, [r7, #28]
 2352 0360 0A44     		add	r2, r2, r1
 2353 0362 02F53062 		add	r2, r2, #2816
ARM GAS  /tmp/cchFjZSQ.s 			page 56


 2354 0366 43F40023 		orr	r3, r3, #524288
 2355 036a 1361     		str	r3, [r2, #16]
 2356 036c 36E0     		b	.L120
 2357              	.L126:
 2358 036e 00BF     		.align	2
 2359              	.L125:
 2360 0370 0000F81F 		.word	536346624
 2361              	.L119:
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2362              		.loc 1 802 0
 2363 0374 BB68     		ldr	r3, [r7, #8]
 2364 0376 5A69     		ldr	r2, [r3, #20]
 2365 0378 BB68     		ldr	r3, [r7, #8]
 2366 037a 9B68     		ldr	r3, [r3, #8]
 2367 037c 1344     		add	r3, r3, r2
 2368 037e 5A1E     		subs	r2, r3, #1
 2369 0380 BB68     		ldr	r3, [r7, #8]
 2370 0382 9B68     		ldr	r3, [r3, #8]
 2371 0384 B2FBF3F3 		udiv	r3, r2, r3
 2372 0388 FB82     		strh	r3, [r7, #22]	@ movhi
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2373              		.loc 1 803 0
 2374 038a BB69     		ldr	r3, [r7, #24]
 2375 038c 5A01     		lsls	r2, r3, #5
 2376 038e FB69     		ldr	r3, [r7, #28]
 2377 0390 1344     		add	r3, r3, r2
 2378 0392 03F53063 		add	r3, r3, #2816
 2379 0396 1A69     		ldr	r2, [r3, #16]
 2380 0398 FB8A     		ldrh	r3, [r7, #22]
 2381 039a D904     		lsls	r1, r3, #19
 2382 039c 394B     		ldr	r3, .L127
 2383 039e 0B40     		ands	r3, r3, r1
 2384 03a0 B969     		ldr	r1, [r7, #24]
 2385 03a2 4801     		lsls	r0, r1, #5
 2386 03a4 F969     		ldr	r1, [r7, #28]
 2387 03a6 0144     		add	r1, r1, r0
 2388 03a8 01F53061 		add	r1, r1, #2816
 2389 03ac 1343     		orrs	r3, r3, r2
 2390 03ae 0B61     		str	r3, [r1, #16]
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt);
 2391              		.loc 1 804 0
 2392 03b0 BB69     		ldr	r3, [r7, #24]
 2393 03b2 5A01     		lsls	r2, r3, #5
 2394 03b4 FB69     		ldr	r3, [r7, #28]
 2395 03b6 1344     		add	r3, r3, r2
 2396 03b8 03F53063 		add	r3, r3, #2816
 2397 03bc 1A69     		ldr	r2, [r3, #16]
 2398 03be BB68     		ldr	r3, [r7, #8]
 2399 03c0 9B68     		ldr	r3, [r3, #8]
 2400 03c2 F98A     		ldrh	r1, [r7, #22]
 2401 03c4 01FB03F3 		mul	r3, r1, r3
 2402 03c8 C3F31203 		ubfx	r3, r3, #0, #19
 2403 03cc B969     		ldr	r1, [r7, #24]
 2404 03ce 4801     		lsls	r0, r1, #5
ARM GAS  /tmp/cchFjZSQ.s 			page 57


 2405 03d0 F969     		ldr	r1, [r7, #28]
 2406 03d2 0144     		add	r1, r1, r0
 2407 03d4 01F53061 		add	r1, r1, #2816
 2408 03d8 1343     		orrs	r3, r3, r2
 2409 03da 0B61     		str	r3, [r1, #16]
 2410              	.L120:
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2411              		.loc 1 807 0
 2412 03dc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2413 03de 012B     		cmp	r3, #1
 2414 03e0 0DD1     		bne	.L121
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2415              		.loc 1 809 0
 2416 03e2 BB68     		ldr	r3, [r7, #8]
 2417 03e4 DB68     		ldr	r3, [r3, #12]
 2418 03e6 002B     		cmp	r3, #0
 2419 03e8 09D0     		beq	.L121
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2420              		.loc 1 811 0
 2421 03ea BB68     		ldr	r3, [r7, #8]
 2422 03ec D968     		ldr	r1, [r3, #12]
 2423 03ee BB69     		ldr	r3, [r7, #24]
 2424 03f0 5A01     		lsls	r2, r3, #5
 2425 03f2 FB69     		ldr	r3, [r7, #28]
 2426 03f4 1344     		add	r3, r3, r2
 2427 03f6 03F53063 		add	r3, r3, #2816
 2428 03fa 0A46     		mov	r2, r1
 2429 03fc 5A61     		str	r2, [r3, #20]
 2430              	.L121:
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2431              		.loc 1 815 0
 2432 03fe BB68     		ldr	r3, [r7, #8]
 2433 0400 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2434 0402 012B     		cmp	r3, #1
 2435 0404 28D1     		bne	.L122
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2436              		.loc 1 817 0
 2437 0406 FB69     		ldr	r3, [r7, #28]
 2438 0408 03F50063 		add	r3, r3, #2048
 2439 040c 9B68     		ldr	r3, [r3, #8]
 2440 040e 03F48073 		and	r3, r3, #256
 2441 0412 002B     		cmp	r3, #0
 2442 0414 10D1     		bne	.L123
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2443              		.loc 1 819 0
 2444 0416 BB69     		ldr	r3, [r7, #24]
 2445 0418 5A01     		lsls	r2, r3, #5
 2446 041a FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/cchFjZSQ.s 			page 58


 2447 041c 1344     		add	r3, r3, r2
 2448 041e 03F53063 		add	r3, r3, #2816
 2449 0422 1B68     		ldr	r3, [r3]
 2450 0424 BA69     		ldr	r2, [r7, #24]
 2451 0426 5101     		lsls	r1, r2, #5
 2452 0428 FA69     		ldr	r2, [r7, #28]
 2453 042a 0A44     		add	r2, r2, r1
 2454 042c 02F53062 		add	r2, r2, #2816
 2455 0430 43F00053 		orr	r3, r3, #536870912
 2456 0434 1360     		str	r3, [r2]
 2457 0436 0FE0     		b	.L122
 2458              	.L123:
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2459              		.loc 1 823 0
 2460 0438 BB69     		ldr	r3, [r7, #24]
 2461 043a 5A01     		lsls	r2, r3, #5
 2462 043c FB69     		ldr	r3, [r7, #28]
 2463 043e 1344     		add	r3, r3, r2
 2464 0440 03F53063 		add	r3, r3, #2816
 2465 0444 1B68     		ldr	r3, [r3]
 2466 0446 BA69     		ldr	r2, [r7, #24]
 2467 0448 5101     		lsls	r1, r2, #5
 2468 044a FA69     		ldr	r2, [r7, #28]
 2469 044c 0A44     		add	r2, r2, r1
 2470 044e 02F53062 		add	r2, r2, #2816
 2471 0452 43F08053 		orr	r3, r3, #268435456
 2472 0456 1360     		str	r3, [r2]
 2473              	.L122:
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2474              		.loc 1 827 0
 2475 0458 BB69     		ldr	r3, [r7, #24]
 2476 045a 5A01     		lsls	r2, r3, #5
 2477 045c FB69     		ldr	r3, [r7, #28]
 2478 045e 1344     		add	r3, r3, r2
 2479 0460 03F53063 		add	r3, r3, #2816
 2480 0464 1B68     		ldr	r3, [r3]
 2481 0466 BA69     		ldr	r2, [r7, #24]
 2482 0468 5101     		lsls	r1, r2, #5
 2483 046a FA69     		ldr	r2, [r7, #28]
 2484 046c 0A44     		add	r2, r2, r1
 2485 046e 02F53062 		add	r2, r2, #2816
 2486 0472 43F00443 		orr	r3, r3, #-2080374784
 2487 0476 1360     		str	r3, [r2]
 2488              	.L118:
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2489              		.loc 1 830 0
 2490 0478 0023     		movs	r3, #0
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2491              		.loc 1 831 0
ARM GAS  /tmp/cchFjZSQ.s 			page 59


 2492 047a 1846     		mov	r0, r3
 2493 047c 2037     		adds	r7, r7, #32
 2494              	.LCFI90:
 2495              		.cfi_def_cfa_offset 8
 2496 047e BD46     		mov	sp, r7
 2497              	.LCFI91:
 2498              		.cfi_def_cfa_register 13
 2499              		@ sp needed
 2500 0480 80BD     		pop	{r7, pc}
 2501              	.L128:
 2502 0482 00BF     		.align	2
 2503              	.L127:
 2504 0484 0000F81F 		.word	536346624
 2505              		.cfi_endproc
 2506              	.LFE144:
 2508              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2509              		.align	1
 2510              		.global	USB_EP0StartXfer
 2511              		.syntax unified
 2512              		.thumb
 2513              		.thumb_func
 2514              		.fpu fpv4-sp-d16
 2516              	USB_EP0StartXfer:
 2517              	.LFB145:
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2518              		.loc 1 844 0
 2519              		.cfi_startproc
 2520              		@ args = 0, pretend = 0, frame = 24
 2521              		@ frame_needed = 1, uses_anonymous_args = 0
 2522              		@ link register save eliminated.
 2523 0000 80B4     		push	{r7}
 2524              	.LCFI92:
 2525              		.cfi_def_cfa_offset 4
 2526              		.cfi_offset 7, -4
 2527 0002 87B0     		sub	sp, sp, #28
 2528              	.LCFI93:
 2529              		.cfi_def_cfa_offset 32
 2530 0004 00AF     		add	r7, sp, #0
 2531              	.LCFI94:
 2532              		.cfi_def_cfa_register 7
 2533 0006 F860     		str	r0, [r7, #12]
 2534 0008 B960     		str	r1, [r7, #8]
 2535 000a 1346     		mov	r3, r2
 2536 000c FB71     		strb	r3, [r7, #7]
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  /tmp/cchFjZSQ.s 			page 60


 2537              		.loc 1 845 0
 2538 000e FB68     		ldr	r3, [r7, #12]
 2539 0010 7B61     		str	r3, [r7, #20]
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2540              		.loc 1 846 0
 2541 0012 BB68     		ldr	r3, [r7, #8]
 2542 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2543 0016 3B61     		str	r3, [r7, #16]
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2544              		.loc 1 849 0
 2545 0018 BB68     		ldr	r3, [r7, #8]
 2546 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2547 001c 012B     		cmp	r3, #1
 2548 001e 40F0CD80 		bne	.L130
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2549              		.loc 1 852 0
 2550 0022 BB68     		ldr	r3, [r7, #8]
 2551 0024 5B69     		ldr	r3, [r3, #20]
 2552 0026 002B     		cmp	r3, #0
 2553 0028 32D1     		bne	.L131
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2554              		.loc 1 854 0
 2555 002a 3B69     		ldr	r3, [r7, #16]
 2556 002c 5A01     		lsls	r2, r3, #5
 2557 002e 7B69     		ldr	r3, [r7, #20]
 2558 0030 1344     		add	r3, r3, r2
 2559 0032 03F51063 		add	r3, r3, #2304
 2560 0036 1B69     		ldr	r3, [r3, #16]
 2561 0038 3A69     		ldr	r2, [r7, #16]
 2562 003a 5101     		lsls	r1, r2, #5
 2563 003c 7A69     		ldr	r2, [r7, #20]
 2564 003e 0A44     		add	r2, r2, r1
 2565 0040 02F51062 		add	r2, r2, #2304
 2566 0044 23F0FF53 		bic	r3, r3, #534773760
 2567 0048 23F4C013 		bic	r3, r3, #1572864
 2568 004c 1361     		str	r3, [r2, #16]
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2569              		.loc 1 855 0
 2570 004e 3B69     		ldr	r3, [r7, #16]
 2571 0050 5A01     		lsls	r2, r3, #5
 2572 0052 7B69     		ldr	r3, [r7, #20]
 2573 0054 1344     		add	r3, r3, r2
 2574 0056 03F51063 		add	r3, r3, #2304
 2575 005a 1B69     		ldr	r3, [r3, #16]
 2576 005c 3A69     		ldr	r2, [r7, #16]
 2577 005e 5101     		lsls	r1, r2, #5
 2578 0060 7A69     		ldr	r2, [r7, #20]
 2579 0062 0A44     		add	r2, r2, r1
 2580 0064 02F51062 		add	r2, r2, #2304
 2581 0068 43F40023 		orr	r3, r3, #524288
 2582 006c 1361     		str	r3, [r2, #16]
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
ARM GAS  /tmp/cchFjZSQ.s 			page 61


 2583              		.loc 1 856 0
 2584 006e 3B69     		ldr	r3, [r7, #16]
 2585 0070 5A01     		lsls	r2, r3, #5
 2586 0072 7B69     		ldr	r3, [r7, #20]
 2587 0074 1344     		add	r3, r3, r2
 2588 0076 03F51063 		add	r3, r3, #2304
 2589 007a 1B69     		ldr	r3, [r3, #16]
 2590 007c 3A69     		ldr	r2, [r7, #16]
 2591 007e 5101     		lsls	r1, r2, #5
 2592 0080 7A69     		ldr	r2, [r7, #20]
 2593 0082 0A44     		add	r2, r2, r1
 2594 0084 02F51062 		add	r2, r2, #2304
 2595 0088 DB0C     		lsrs	r3, r3, #19
 2596 008a DB04     		lsls	r3, r3, #19
 2597 008c 1361     		str	r3, [r2, #16]
 2598 008e 4EE0     		b	.L132
 2599              	.L131:
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2600              		.loc 1 865 0
 2601 0090 3B69     		ldr	r3, [r7, #16]
 2602 0092 5A01     		lsls	r2, r3, #5
 2603 0094 7B69     		ldr	r3, [r7, #20]
 2604 0096 1344     		add	r3, r3, r2
 2605 0098 03F51063 		add	r3, r3, #2304
 2606 009c 1B69     		ldr	r3, [r3, #16]
 2607 009e 3A69     		ldr	r2, [r7, #16]
 2608 00a0 5101     		lsls	r1, r2, #5
 2609 00a2 7A69     		ldr	r2, [r7, #20]
 2610 00a4 0A44     		add	r2, r2, r1
 2611 00a6 02F51062 		add	r2, r2, #2304
 2612 00aa DB0C     		lsrs	r3, r3, #19
 2613 00ac DB04     		lsls	r3, r3, #19
 2614 00ae 1361     		str	r3, [r2, #16]
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2615              		.loc 1 866 0
 2616 00b0 3B69     		ldr	r3, [r7, #16]
 2617 00b2 5A01     		lsls	r2, r3, #5
 2618 00b4 7B69     		ldr	r3, [r7, #20]
 2619 00b6 1344     		add	r3, r3, r2
 2620 00b8 03F51063 		add	r3, r3, #2304
 2621 00bc 1B69     		ldr	r3, [r3, #16]
 2622 00be 3A69     		ldr	r2, [r7, #16]
 2623 00c0 5101     		lsls	r1, r2, #5
 2624 00c2 7A69     		ldr	r2, [r7, #20]
 2625 00c4 0A44     		add	r2, r2, r1
 2626 00c6 02F51062 		add	r2, r2, #2304
 2627 00ca 23F0FF53 		bic	r3, r3, #534773760
 2628 00ce 23F4C013 		bic	r3, r3, #1572864
 2629 00d2 1361     		str	r3, [r2, #16]
ARM GAS  /tmp/cchFjZSQ.s 			page 62


 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 2630              		.loc 1 868 0
 2631 00d4 BB68     		ldr	r3, [r7, #8]
 2632 00d6 5A69     		ldr	r2, [r3, #20]
 2633 00d8 BB68     		ldr	r3, [r7, #8]
 2634 00da 9B68     		ldr	r3, [r3, #8]
 2635 00dc 9A42     		cmp	r2, r3
 2636 00de 03D9     		bls	.L133
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 2637              		.loc 1 870 0
 2638 00e0 BB68     		ldr	r3, [r7, #8]
 2639 00e2 9A68     		ldr	r2, [r3, #8]
 2640 00e4 BB68     		ldr	r3, [r7, #8]
 2641 00e6 5A61     		str	r2, [r3, #20]
 2642              	.L133:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2643              		.loc 1 872 0
 2644 00e8 3B69     		ldr	r3, [r7, #16]
 2645 00ea 5A01     		lsls	r2, r3, #5
 2646 00ec 7B69     		ldr	r3, [r7, #20]
 2647 00ee 1344     		add	r3, r3, r2
 2648 00f0 03F51063 		add	r3, r3, #2304
 2649 00f4 1B69     		ldr	r3, [r3, #16]
 2650 00f6 3A69     		ldr	r2, [r7, #16]
 2651 00f8 5101     		lsls	r1, r2, #5
 2652 00fa 7A69     		ldr	r2, [r7, #20]
 2653 00fc 0A44     		add	r2, r2, r1
 2654 00fe 02F51062 		add	r2, r2, #2304
 2655 0102 43F40023 		orr	r3, r3, #524288
 2656 0106 1361     		str	r3, [r2, #16]
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2657              		.loc 1 873 0
 2658 0108 3B69     		ldr	r3, [r7, #16]
 2659 010a 5A01     		lsls	r2, r3, #5
 2660 010c 7B69     		ldr	r3, [r7, #20]
 2661 010e 1344     		add	r3, r3, r2
 2662 0110 03F51063 		add	r3, r3, #2304
 2663 0114 1A69     		ldr	r2, [r3, #16]
 2664 0116 BB68     		ldr	r3, [r7, #8]
 2665 0118 5B69     		ldr	r3, [r3, #20]
 2666 011a C3F31203 		ubfx	r3, r3, #0, #19
 2667 011e 3969     		ldr	r1, [r7, #16]
 2668 0120 4801     		lsls	r0, r1, #5
 2669 0122 7969     		ldr	r1, [r7, #20]
 2670 0124 0144     		add	r1, r1, r0
 2671 0126 01F51061 		add	r1, r1, #2304
 2672 012a 1343     		orrs	r3, r3, r2
 2673 012c 0B61     		str	r3, [r1, #16]
 2674              	.L132:
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2675              		.loc 1 876 0
 2676 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
ARM GAS  /tmp/cchFjZSQ.s 			page 63


 2677 0130 012B     		cmp	r3, #1
 2678 0132 1ED1     		bne	.L134
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2679              		.loc 1 878 0
 2680 0134 BB68     		ldr	r3, [r7, #8]
 2681 0136 1B69     		ldr	r3, [r3, #16]
 2682 0138 002B     		cmp	r3, #0
 2683 013a 09D0     		beq	.L135
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2684              		.loc 1 880 0
 2685 013c 3B69     		ldr	r3, [r7, #16]
 2686 013e 5A01     		lsls	r2, r3, #5
 2687 0140 7B69     		ldr	r3, [r7, #20]
 2688 0142 1344     		add	r3, r3, r2
 2689 0144 03F51063 		add	r3, r3, #2304
 2690 0148 1A46     		mov	r2, r3
 2691 014a BB68     		ldr	r3, [r7, #8]
 2692 014c 1B69     		ldr	r3, [r3, #16]
 2693 014e 5361     		str	r3, [r2, #20]
 2694              	.L135:
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2695              		.loc 1 884 0
 2696 0150 3B69     		ldr	r3, [r7, #16]
 2697 0152 5A01     		lsls	r2, r3, #5
 2698 0154 7B69     		ldr	r3, [r7, #20]
 2699 0156 1344     		add	r3, r3, r2
 2700 0158 03F51063 		add	r3, r3, #2304
 2701 015c 1B68     		ldr	r3, [r3]
 2702 015e 3A69     		ldr	r2, [r7, #16]
 2703 0160 5101     		lsls	r1, r2, #5
 2704 0162 7A69     		ldr	r2, [r7, #20]
 2705 0164 0A44     		add	r2, r2, r1
 2706 0166 02F51062 		add	r2, r2, #2304
 2707 016a 43F00443 		orr	r3, r3, #-2080374784
 2708 016e 1360     		str	r3, [r2]
 2709 0170 92E0     		b	.L137
 2710              	.L134:
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2711              		.loc 1 889 0
 2712 0172 3B69     		ldr	r3, [r7, #16]
 2713 0174 5A01     		lsls	r2, r3, #5
 2714 0176 7B69     		ldr	r3, [r7, #20]
 2715 0178 1344     		add	r3, r3, r2
 2716 017a 03F51063 		add	r3, r3, #2304
 2717 017e 1B68     		ldr	r3, [r3]
 2718 0180 3A69     		ldr	r2, [r7, #16]
 2719 0182 5101     		lsls	r1, r2, #5
 2720 0184 7A69     		ldr	r2, [r7, #20]
ARM GAS  /tmp/cchFjZSQ.s 			page 64


 2721 0186 0A44     		add	r2, r2, r1
 2722 0188 02F51062 		add	r2, r2, #2304
 2723 018c 43F00443 		orr	r3, r3, #-2080374784
 2724 0190 1360     		str	r3, [r2]
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 2725              		.loc 1 892 0
 2726 0192 BB68     		ldr	r3, [r7, #8]
 2727 0194 5B69     		ldr	r3, [r3, #20]
 2728 0196 002B     		cmp	r3, #0
 2729 0198 7ED0     		beq	.L137
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2730              		.loc 1 894 0
 2731 019a 7B69     		ldr	r3, [r7, #20]
 2732 019c 03F50063 		add	r3, r3, #2048
 2733 01a0 5A6B     		ldr	r2, [r3, #52]
 2734 01a2 BB68     		ldr	r3, [r7, #8]
 2735 01a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2736 01a6 03F00F03 		and	r3, r3, #15
 2737 01aa 0121     		movs	r1, #1
 2738 01ac 01FA03F3 		lsl	r3, r1, r3
 2739 01b0 7969     		ldr	r1, [r7, #20]
 2740 01b2 01F50061 		add	r1, r1, #2048
 2741 01b6 1343     		orrs	r3, r3, r2
 2742 01b8 4B63     		str	r3, [r1, #52]
 2743 01ba 6DE0     		b	.L137
 2744              	.L130:
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2745              		.loc 1 904 0
 2746 01bc 3B69     		ldr	r3, [r7, #16]
 2747 01be 5A01     		lsls	r2, r3, #5
 2748 01c0 7B69     		ldr	r3, [r7, #20]
 2749 01c2 1344     		add	r3, r3, r2
 2750 01c4 03F53063 		add	r3, r3, #2816
 2751 01c8 1B69     		ldr	r3, [r3, #16]
 2752 01ca 3A69     		ldr	r2, [r7, #16]
 2753 01cc 5101     		lsls	r1, r2, #5
 2754 01ce 7A69     		ldr	r2, [r7, #20]
 2755 01d0 0A44     		add	r2, r2, r1
 2756 01d2 02F53062 		add	r2, r2, #2816
 2757 01d6 DB0C     		lsrs	r3, r3, #19
 2758 01d8 DB04     		lsls	r3, r3, #19
 2759 01da 1361     		str	r3, [r2, #16]
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2760              		.loc 1 905 0
 2761 01dc 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/cchFjZSQ.s 			page 65


 2762 01de 5A01     		lsls	r2, r3, #5
 2763 01e0 7B69     		ldr	r3, [r7, #20]
 2764 01e2 1344     		add	r3, r3, r2
 2765 01e4 03F53063 		add	r3, r3, #2816
 2766 01e8 1B69     		ldr	r3, [r3, #16]
 2767 01ea 3A69     		ldr	r2, [r7, #16]
 2768 01ec 5101     		lsls	r1, r2, #5
 2769 01ee 7A69     		ldr	r2, [r7, #20]
 2770 01f0 0A44     		add	r2, r2, r1
 2771 01f2 02F53062 		add	r2, r2, #2816
 2772 01f6 23F0FF53 		bic	r3, r3, #534773760
 2773 01fa 23F4C013 		bic	r3, r3, #1572864
 2774 01fe 1361     		str	r3, [r2, #16]
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 2775              		.loc 1 907 0
 2776 0200 BB68     		ldr	r3, [r7, #8]
 2777 0202 5B69     		ldr	r3, [r3, #20]
 2778 0204 002B     		cmp	r3, #0
 2779 0206 03D0     		beq	.L138
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 2780              		.loc 1 909 0
 2781 0208 BB68     		ldr	r3, [r7, #8]
 2782 020a 9A68     		ldr	r2, [r3, #8]
 2783 020c BB68     		ldr	r3, [r7, #8]
 2784 020e 5A61     		str	r2, [r3, #20]
 2785              	.L138:
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2786              		.loc 1 912 0
 2787 0210 3B69     		ldr	r3, [r7, #16]
 2788 0212 5A01     		lsls	r2, r3, #5
 2789 0214 7B69     		ldr	r3, [r7, #20]
 2790 0216 1344     		add	r3, r3, r2
 2791 0218 03F53063 		add	r3, r3, #2816
 2792 021c 1B69     		ldr	r3, [r3, #16]
 2793 021e 3A69     		ldr	r2, [r7, #16]
 2794 0220 5101     		lsls	r1, r2, #5
 2795 0222 7A69     		ldr	r2, [r7, #20]
 2796 0224 0A44     		add	r2, r2, r1
 2797 0226 02F53062 		add	r2, r2, #2816
 2798 022a 43F40023 		orr	r3, r3, #524288
 2799 022e 1361     		str	r3, [r2, #16]
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket));
 2800              		.loc 1 913 0
 2801 0230 3B69     		ldr	r3, [r7, #16]
 2802 0232 5A01     		lsls	r2, r3, #5
 2803 0234 7B69     		ldr	r3, [r7, #20]
 2804 0236 1344     		add	r3, r3, r2
 2805 0238 03F53063 		add	r3, r3, #2816
 2806 023c 1A69     		ldr	r2, [r3, #16]
 2807 023e BB68     		ldr	r3, [r7, #8]
 2808 0240 9B68     		ldr	r3, [r3, #8]
 2809 0242 C3F31203 		ubfx	r3, r3, #0, #19
 2810 0246 3969     		ldr	r1, [r7, #16]
ARM GAS  /tmp/cchFjZSQ.s 			page 66


 2811 0248 4801     		lsls	r0, r1, #5
 2812 024a 7969     		ldr	r1, [r7, #20]
 2813 024c 0144     		add	r1, r1, r0
 2814 024e 01F53061 		add	r1, r1, #2816
 2815 0252 1343     		orrs	r3, r3, r2
 2816 0254 0B61     		str	r3, [r1, #16]
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2817              		.loc 1 915 0
 2818 0256 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2819 0258 012B     		cmp	r3, #1
 2820 025a 0DD1     		bne	.L139
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2821              		.loc 1 917 0
 2822 025c BB68     		ldr	r3, [r7, #8]
 2823 025e DB68     		ldr	r3, [r3, #12]
 2824 0260 002B     		cmp	r3, #0
 2825 0262 09D0     		beq	.L139
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2826              		.loc 1 919 0
 2827 0264 BB68     		ldr	r3, [r7, #8]
 2828 0266 D968     		ldr	r1, [r3, #12]
 2829 0268 3B69     		ldr	r3, [r7, #16]
 2830 026a 5A01     		lsls	r2, r3, #5
 2831 026c 7B69     		ldr	r3, [r7, #20]
 2832 026e 1344     		add	r3, r3, r2
 2833 0270 03F53063 		add	r3, r3, #2816
 2834 0274 0A46     		mov	r2, r1
 2835 0276 5A61     		str	r2, [r3, #20]
 2836              	.L139:
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2837              		.loc 1 924 0
 2838 0278 3B69     		ldr	r3, [r7, #16]
 2839 027a 5A01     		lsls	r2, r3, #5
 2840 027c 7B69     		ldr	r3, [r7, #20]
 2841 027e 1344     		add	r3, r3, r2
 2842 0280 03F53063 		add	r3, r3, #2816
 2843 0284 1B68     		ldr	r3, [r3]
 2844 0286 3A69     		ldr	r2, [r7, #16]
 2845 0288 5101     		lsls	r1, r2, #5
 2846 028a 7A69     		ldr	r2, [r7, #20]
 2847 028c 0A44     		add	r2, r2, r1
 2848 028e 02F53062 		add	r2, r2, #2816
 2849 0292 43F00443 		orr	r3, r3, #-2080374784
 2850 0296 1360     		str	r3, [r2]
 2851              	.L137:
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2852              		.loc 1 927 0
 2853 0298 0023     		movs	r3, #0
ARM GAS  /tmp/cchFjZSQ.s 			page 67


 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2854              		.loc 1 928 0
 2855 029a 1846     		mov	r0, r3
 2856 029c 1C37     		adds	r7, r7, #28
 2857              	.LCFI95:
 2858              		.cfi_def_cfa_offset 4
 2859 029e BD46     		mov	sp, r7
 2860              	.LCFI96:
 2861              		.cfi_def_cfa_register 13
 2862              		@ sp needed
 2863 02a0 5DF8047B 		ldr	r7, [sp], #4
 2864              	.LCFI97:
 2865              		.cfi_restore 7
 2866              		.cfi_def_cfa_offset 0
 2867 02a4 7047     		bx	lr
 2868              		.cfi_endproc
 2869              	.LFE145:
 2871              		.section	.text.USB_WritePacket,"ax",%progbits
 2872              		.align	1
 2873              		.global	USB_WritePacket
 2874              		.syntax unified
 2875              		.thumb
 2876              		.thumb_func
 2877              		.fpu fpv4-sp-d16
 2879              	USB_WritePacket:
 2880              	.LFB146:
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src   pointer to source buffer
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to write
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src, uint8_t ch_ep_num, uin
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2881              		.loc 1 944 0
 2882              		.cfi_startproc
 2883              		@ args = 4, pretend = 0, frame = 32
 2884              		@ frame_needed = 1, uses_anonymous_args = 0
 2885              		@ link register save eliminated.
 2886 0000 80B4     		push	{r7}
 2887              	.LCFI98:
 2888              		.cfi_def_cfa_offset 4
 2889              		.cfi_offset 7, -4
 2890 0002 89B0     		sub	sp, sp, #36
 2891              	.LCFI99:
 2892              		.cfi_def_cfa_offset 40
 2893 0004 00AF     		add	r7, sp, #0
 2894              	.LCFI100:
 2895              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cchFjZSQ.s 			page 68


 2896 0006 F860     		str	r0, [r7, #12]
 2897 0008 B960     		str	r1, [r7, #8]
 2898 000a 1146     		mov	r1, r2
 2899 000c 1A46     		mov	r2, r3
 2900 000e 0B46     		mov	r3, r1
 2901 0010 FB71     		strb	r3, [r7, #7]
 2902 0012 1346     		mov	r3, r2	@ movhi
 2903 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2904              		.loc 1 945 0
 2905 0016 FB68     		ldr	r3, [r7, #12]
 2906 0018 7B61     		str	r3, [r7, #20]
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t *pSrc = (uint32_t *)src;
 2907              		.loc 1 946 0
 2908 001a BB68     		ldr	r3, [r7, #8]
 2909 001c FB61     		str	r3, [r7, #28]
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b, i;
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
 2910              		.loc 1 949 0
 2911 001e 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 2912 0022 002B     		cmp	r3, #0
 2913 0024 1AD1     		bne	.L142
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b = ((uint32_t)len + 3U) / 4U;
 2914              		.loc 1 951 0
 2915 0026 BB88     		ldrh	r3, [r7, #4]
 2916 0028 0333     		adds	r3, r3, #3
 2917 002a 9B08     		lsrs	r3, r3, #2
 2918 002c 3B61     		str	r3, [r7, #16]
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 2919              		.loc 1 952 0
 2920 002e 0023     		movs	r3, #0
 2921 0030 BB61     		str	r3, [r7, #24]
 2922 0032 0FE0     		b	.L143
 2923              	.L144:
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 2924              		.loc 1 954 0 discriminator 3
 2925 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2926 0036 1A03     		lsls	r2, r3, #12
 2927 0038 7B69     		ldr	r3, [r7, #20]
 2928 003a 1344     		add	r3, r3, r2
 2929 003c 03F58053 		add	r3, r3, #4096
 2930 0040 1A46     		mov	r2, r3
 2931 0042 FB69     		ldr	r3, [r7, #28]
 2932 0044 1B68     		ldr	r3, [r3]	@ unaligned
 2933 0046 1360     		str	r3, [r2]
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 2934              		.loc 1 955 0 discriminator 3
 2935 0048 FB69     		ldr	r3, [r7, #28]
 2936 004a 0433     		adds	r3, r3, #4
 2937 004c FB61     		str	r3, [r7, #28]
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 2938              		.loc 1 952 0 discriminator 3
 2939 004e BB69     		ldr	r3, [r7, #24]
 2940 0050 0133     		adds	r3, r3, #1
ARM GAS  /tmp/cchFjZSQ.s 			page 69


 2941 0052 BB61     		str	r3, [r7, #24]
 2942              	.L143:
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 2943              		.loc 1 952 0 is_stmt 0 discriminator 1
 2944 0054 BA69     		ldr	r2, [r7, #24]
 2945 0056 3B69     		ldr	r3, [r7, #16]
 2946 0058 9A42     		cmp	r2, r3
 2947 005a EBD3     		bcc	.L144
 2948              	.L142:
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2949              		.loc 1 959 0 is_stmt 1
 2950 005c 0023     		movs	r3, #0
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2951              		.loc 1 960 0
 2952 005e 1846     		mov	r0, r3
 2953 0060 2437     		adds	r7, r7, #36
 2954              	.LCFI101:
 2955              		.cfi_def_cfa_offset 4
 2956 0062 BD46     		mov	sp, r7
 2957              	.LCFI102:
 2958              		.cfi_def_cfa_register 13
 2959              		@ sp needed
 2960 0064 5DF8047B 		ldr	r7, [sp], #4
 2961              	.LCFI103:
 2962              		.cfi_restore 7
 2963              		.cfi_def_cfa_offset 0
 2964 0068 7047     		bx	lr
 2965              		.cfi_endproc
 2966              	.LFE146:
 2968              		.section	.text.USB_ReadPacket,"ax",%progbits
 2969              		.align	1
 2970              		.global	USB_ReadPacket
 2971              		.syntax unified
 2972              		.thumb
 2973              		.thumb_func
 2974              		.fpu fpv4-sp-d16
 2976              	USB_ReadPacket:
 2977              	.LFB147:
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dest  source pointer
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to read
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2978              		.loc 1 970 0
 2979              		.cfi_startproc
 2980              		@ args = 0, pretend = 0, frame = 32
 2981              		@ frame_needed = 1, uses_anonymous_args = 0
 2982              		@ link register save eliminated.
 2983 0000 80B4     		push	{r7}
ARM GAS  /tmp/cchFjZSQ.s 			page 70


 2984              	.LCFI104:
 2985              		.cfi_def_cfa_offset 4
 2986              		.cfi_offset 7, -4
 2987 0002 89B0     		sub	sp, sp, #36
 2988              	.LCFI105:
 2989              		.cfi_def_cfa_offset 40
 2990 0004 00AF     		add	r7, sp, #0
 2991              	.LCFI106:
 2992              		.cfi_def_cfa_register 7
 2993 0006 F860     		str	r0, [r7, #12]
 2994 0008 B960     		str	r1, [r7, #8]
 2995 000a 1346     		mov	r3, r2
 2996 000c FB80     		strh	r3, [r7, #6]	@ movhi
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2997              		.loc 1 971 0
 2998 000e FB68     		ldr	r3, [r7, #12]
 2999 0010 7B61     		str	r3, [r7, #20]
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t *pDest = (uint32_t *)dest;
 3000              		.loc 1 972 0
 3001 0012 BB68     		ldr	r3, [r7, #8]
 3002 0014 FB61     		str	r3, [r7, #28]
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = ((uint32_t)len + 3U) / 4U;
 3003              		.loc 1 974 0
 3004 0016 FB88     		ldrh	r3, [r7, #6]
 3005 0018 0333     		adds	r3, r3, #3
 3006 001a 9B08     		lsrs	r3, r3, #2
 3007 001c 3B61     		str	r3, [r7, #16]
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3008              		.loc 1 976 0
 3009 001e 0023     		movs	r3, #0
 3010 0020 BB61     		str	r3, [r7, #24]
 3011 0022 0BE0     		b	.L147
 3012              	.L148:
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3013              		.loc 1 978 0 discriminator 3
 3014 0024 7B69     		ldr	r3, [r7, #20]
 3015 0026 03F58053 		add	r3, r3, #4096
 3016 002a 1A68     		ldr	r2, [r3]
 3017 002c FB69     		ldr	r3, [r7, #28]
 3018 002e 1A60     		str	r2, [r3]	@ unaligned
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3019              		.loc 1 979 0 discriminator 3
 3020 0030 FB69     		ldr	r3, [r7, #28]
 3021 0032 0433     		adds	r3, r3, #4
 3022 0034 FB61     		str	r3, [r7, #28]
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3023              		.loc 1 976 0 discriminator 3
 3024 0036 BB69     		ldr	r3, [r7, #24]
 3025 0038 0133     		adds	r3, r3, #1
 3026 003a BB61     		str	r3, [r7, #24]
 3027              	.L147:
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3028              		.loc 1 976 0 is_stmt 0 discriminator 1
 3029 003c BA69     		ldr	r2, [r7, #24]
ARM GAS  /tmp/cchFjZSQ.s 			page 71


 3030 003e 3B69     		ldr	r3, [r7, #16]
 3031 0040 9A42     		cmp	r2, r3
 3032 0042 EFD3     		bcc	.L148
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)pDest);
 3033              		.loc 1 982 0 is_stmt 1
 3034 0044 FB69     		ldr	r3, [r7, #28]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3035              		.loc 1 983 0
 3036 0046 1846     		mov	r0, r3
 3037 0048 2437     		adds	r7, r7, #36
 3038              	.LCFI107:
 3039              		.cfi_def_cfa_offset 4
 3040 004a BD46     		mov	sp, r7
 3041              	.LCFI108:
 3042              		.cfi_def_cfa_register 13
 3043              		@ sp needed
 3044 004c 5DF8047B 		ldr	r7, [sp], #4
 3045              	.LCFI109:
 3046              		.cfi_restore 7
 3047              		.cfi_def_cfa_offset 0
 3048 0050 7047     		bx	lr
 3049              		.cfi_endproc
 3050              	.LFE147:
 3052              		.section	.text.USB_EPSetStall,"ax",%progbits
 3053              		.align	1
 3054              		.global	USB_EPSetStall
 3055              		.syntax unified
 3056              		.thumb
 3057              		.thumb_func
 3058              		.fpu fpv4-sp-d16
 3060              	USB_EPSetStall:
 3061              	.LFB148:
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3062              		.loc 1 992 0
 3063              		.cfi_startproc
 3064              		@ args = 0, pretend = 0, frame = 16
 3065              		@ frame_needed = 1, uses_anonymous_args = 0
 3066              		@ link register save eliminated.
 3067 0000 80B4     		push	{r7}
 3068              	.LCFI110:
 3069              		.cfi_def_cfa_offset 4
 3070              		.cfi_offset 7, -4
 3071 0002 85B0     		sub	sp, sp, #20
 3072              	.LCFI111:
 3073              		.cfi_def_cfa_offset 24
 3074 0004 00AF     		add	r7, sp, #0
 3075              	.LCFI112:
ARM GAS  /tmp/cchFjZSQ.s 			page 72


 3076              		.cfi_def_cfa_register 7
 3077 0006 7860     		str	r0, [r7, #4]
 3078 0008 3960     		str	r1, [r7]
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3079              		.loc 1 993 0
 3080 000a 7B68     		ldr	r3, [r7, #4]
 3081 000c FB60     		str	r3, [r7, #12]
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3082              		.loc 1 994 0
 3083 000e 3B68     		ldr	r3, [r7]
 3084 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3085 0012 BB60     		str	r3, [r7, #8]
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3086              		.loc 1 996 0
 3087 0014 3B68     		ldr	r3, [r7]
 3088 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3089 0018 012B     		cmp	r3, #1
 3090 001a 2CD1     		bne	.L151
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3091              		.loc 1 998 0
 3092 001c BB68     		ldr	r3, [r7, #8]
 3093 001e 5A01     		lsls	r2, r3, #5
 3094 0020 FB68     		ldr	r3, [r7, #12]
 3095 0022 1344     		add	r3, r3, r2
 3096 0024 03F51063 		add	r3, r3, #2304
 3097 0028 1B68     		ldr	r3, [r3]
 3098 002a 002B     		cmp	r3, #0
 3099 002c 12DB     		blt	.L152
 3100              		.loc 1 998 0 is_stmt 0 discriminator 1
 3101 002e BB68     		ldr	r3, [r7, #8]
 3102 0030 002B     		cmp	r3, #0
 3103 0032 0FD0     		beq	.L152
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3104              		.loc 1 1000 0 is_stmt 1
 3105 0034 BB68     		ldr	r3, [r7, #8]
 3106 0036 5A01     		lsls	r2, r3, #5
 3107 0038 FB68     		ldr	r3, [r7, #12]
 3108 003a 1344     		add	r3, r3, r2
 3109 003c 03F51063 		add	r3, r3, #2304
 3110 0040 1B68     		ldr	r3, [r3]
 3111 0042 BA68     		ldr	r2, [r7, #8]
 3112 0044 5101     		lsls	r1, r2, #5
 3113 0046 FA68     		ldr	r2, [r7, #12]
 3114 0048 0A44     		add	r2, r2, r1
 3115 004a 02F51062 		add	r2, r2, #2304
 3116 004e 23F08043 		bic	r3, r3, #1073741824
 3117 0052 1360     		str	r3, [r2]
 3118              	.L152:
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3119              		.loc 1 1002 0
 3120 0054 BB68     		ldr	r3, [r7, #8]
 3121 0056 5A01     		lsls	r2, r3, #5
 3122 0058 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cchFjZSQ.s 			page 73


 3123 005a 1344     		add	r3, r3, r2
 3124 005c 03F51063 		add	r3, r3, #2304
 3125 0060 1B68     		ldr	r3, [r3]
 3126 0062 BA68     		ldr	r2, [r7, #8]
 3127 0064 5101     		lsls	r1, r2, #5
 3128 0066 FA68     		ldr	r2, [r7, #12]
 3129 0068 0A44     		add	r2, r2, r1
 3130 006a 02F51062 		add	r2, r2, #2304
 3131 006e 43F40013 		orr	r3, r3, #2097152
 3132 0072 1360     		str	r3, [r2]
 3133 0074 2BE0     		b	.L153
 3134              	.L151:
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 3135              		.loc 1 1006 0
 3136 0076 BB68     		ldr	r3, [r7, #8]
 3137 0078 5A01     		lsls	r2, r3, #5
 3138 007a FB68     		ldr	r3, [r7, #12]
 3139 007c 1344     		add	r3, r3, r2
 3140 007e 03F53063 		add	r3, r3, #2816
 3141 0082 1B68     		ldr	r3, [r3]
 3142 0084 002B     		cmp	r3, #0
 3143 0086 12DB     		blt	.L154
 3144              		.loc 1 1006 0 is_stmt 0 discriminator 1
 3145 0088 BB68     		ldr	r3, [r7, #8]
 3146 008a 002B     		cmp	r3, #0
 3147 008c 0FD0     		beq	.L154
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 3148              		.loc 1 1008 0 is_stmt 1
 3149 008e BB68     		ldr	r3, [r7, #8]
 3150 0090 5A01     		lsls	r2, r3, #5
 3151 0092 FB68     		ldr	r3, [r7, #12]
 3152 0094 1344     		add	r3, r3, r2
 3153 0096 03F53063 		add	r3, r3, #2816
 3154 009a 1B68     		ldr	r3, [r3]
 3155 009c BA68     		ldr	r2, [r7, #8]
 3156 009e 5101     		lsls	r1, r2, #5
 3157 00a0 FA68     		ldr	r2, [r7, #12]
 3158 00a2 0A44     		add	r2, r2, r1
 3159 00a4 02F53062 		add	r2, r2, #2816
 3160 00a8 23F08043 		bic	r3, r3, #1073741824
 3161 00ac 1360     		str	r3, [r2]
 3162              	.L154:
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3163              		.loc 1 1010 0
 3164 00ae BB68     		ldr	r3, [r7, #8]
 3165 00b0 5A01     		lsls	r2, r3, #5
 3166 00b2 FB68     		ldr	r3, [r7, #12]
 3167 00b4 1344     		add	r3, r3, r2
 3168 00b6 03F53063 		add	r3, r3, #2816
 3169 00ba 1B68     		ldr	r3, [r3]
 3170 00bc BA68     		ldr	r2, [r7, #8]
 3171 00be 5101     		lsls	r1, r2, #5
ARM GAS  /tmp/cchFjZSQ.s 			page 74


 3172 00c0 FA68     		ldr	r2, [r7, #12]
 3173 00c2 0A44     		add	r2, r2, r1
 3174 00c4 02F53062 		add	r2, r2, #2816
 3175 00c8 43F40013 		orr	r3, r3, #2097152
 3176 00cc 1360     		str	r3, [r2]
 3177              	.L153:
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3178              		.loc 1 1013 0
 3179 00ce 0023     		movs	r3, #0
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3180              		.loc 1 1014 0
 3181 00d0 1846     		mov	r0, r3
 3182 00d2 1437     		adds	r7, r7, #20
 3183              	.LCFI113:
 3184              		.cfi_def_cfa_offset 4
 3185 00d4 BD46     		mov	sp, r7
 3186              	.LCFI114:
 3187              		.cfi_def_cfa_register 13
 3188              		@ sp needed
 3189 00d6 5DF8047B 		ldr	r7, [sp], #4
 3190              	.LCFI115:
 3191              		.cfi_restore 7
 3192              		.cfi_def_cfa_offset 0
 3193 00da 7047     		bx	lr
 3194              		.cfi_endproc
 3195              	.LFE148:
 3197              		.section	.text.USB_EPClearStall,"ax",%progbits
 3198              		.align	1
 3199              		.global	USB_EPClearStall
 3200              		.syntax unified
 3201              		.thumb
 3202              		.thumb_func
 3203              		.fpu fpv4-sp-d16
 3205              	USB_EPClearStall:
 3206              	.LFB149:
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3207              		.loc 1 1023 0
 3208              		.cfi_startproc
 3209              		@ args = 0, pretend = 0, frame = 16
 3210              		@ frame_needed = 1, uses_anonymous_args = 0
 3211              		@ link register save eliminated.
 3212 0000 80B4     		push	{r7}
 3213              	.LCFI116:
 3214              		.cfi_def_cfa_offset 4
 3215              		.cfi_offset 7, -4
 3216 0002 85B0     		sub	sp, sp, #20
 3217              	.LCFI117:
ARM GAS  /tmp/cchFjZSQ.s 			page 75


 3218              		.cfi_def_cfa_offset 24
 3219 0004 00AF     		add	r7, sp, #0
 3220              	.LCFI118:
 3221              		.cfi_def_cfa_register 7
 3222 0006 7860     		str	r0, [r7, #4]
 3223 0008 3960     		str	r1, [r7]
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3224              		.loc 1 1024 0
 3225 000a 7B68     		ldr	r3, [r7, #4]
 3226 000c FB60     		str	r3, [r7, #12]
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3227              		.loc 1 1025 0
 3228 000e 3B68     		ldr	r3, [r7]
 3229 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3230 0012 BB60     		str	r3, [r7, #8]
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3231              		.loc 1 1027 0
 3232 0014 3B68     		ldr	r3, [r7]
 3233 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3234 0018 012B     		cmp	r3, #1
 3235 001a 28D1     		bne	.L157
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 3236              		.loc 1 1029 0
 3237 001c BB68     		ldr	r3, [r7, #8]
 3238 001e 5A01     		lsls	r2, r3, #5
 3239 0020 FB68     		ldr	r3, [r7, #12]
 3240 0022 1344     		add	r3, r3, r2
 3241 0024 03F51063 		add	r3, r3, #2304
 3242 0028 1B68     		ldr	r3, [r3]
 3243 002a BA68     		ldr	r2, [r7, #8]
 3244 002c 5101     		lsls	r1, r2, #5
 3245 002e FA68     		ldr	r2, [r7, #12]
 3246 0030 0A44     		add	r2, r2, r1
 3247 0032 02F51062 		add	r2, r2, #2304
 3248 0036 23F40013 		bic	r3, r3, #2097152
 3249 003a 1360     		str	r3, [r2]
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3250              		.loc 1 1030 0
 3251 003c 3B68     		ldr	r3, [r7]
 3252 003e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3253 0040 032B     		cmp	r3, #3
 3254 0042 03D0     		beq	.L158
 3255              		.loc 1 1030 0 is_stmt 0 discriminator 1
 3256 0044 3B68     		ldr	r3, [r7]
 3257 0046 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3258 0048 022B     		cmp	r3, #2
 3259 004a 38D1     		bne	.L160
 3260              	.L158:
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3261              		.loc 1 1032 0 is_stmt 1
 3262 004c BB68     		ldr	r3, [r7, #8]
 3263 004e 5A01     		lsls	r2, r3, #5
 3264 0050 FB68     		ldr	r3, [r7, #12]
 3265 0052 1344     		add	r3, r3, r2
ARM GAS  /tmp/cchFjZSQ.s 			page 76


 3266 0054 03F51063 		add	r3, r3, #2304
 3267 0058 1B68     		ldr	r3, [r3]
 3268 005a BA68     		ldr	r2, [r7, #8]
 3269 005c 5101     		lsls	r1, r2, #5
 3270 005e FA68     		ldr	r2, [r7, #12]
 3271 0060 0A44     		add	r2, r2, r1
 3272 0062 02F51062 		add	r2, r2, #2304
 3273 0066 43F08053 		orr	r3, r3, #268435456
 3274 006a 1360     		str	r3, [r2]
 3275 006c 27E0     		b	.L160
 3276              	.L157:
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 3277              		.loc 1 1037 0
 3278 006e BB68     		ldr	r3, [r7, #8]
 3279 0070 5A01     		lsls	r2, r3, #5
 3280 0072 FB68     		ldr	r3, [r7, #12]
 3281 0074 1344     		add	r3, r3, r2
 3282 0076 03F53063 		add	r3, r3, #2816
 3283 007a 1B68     		ldr	r3, [r3]
 3284 007c BA68     		ldr	r2, [r7, #8]
 3285 007e 5101     		lsls	r1, r2, #5
 3286 0080 FA68     		ldr	r2, [r7, #12]
 3287 0082 0A44     		add	r2, r2, r1
 3288 0084 02F53062 		add	r2, r2, #2816
 3289 0088 23F40013 		bic	r3, r3, #2097152
 3290 008c 1360     		str	r3, [r2]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3291              		.loc 1 1038 0
 3292 008e 3B68     		ldr	r3, [r7]
 3293 0090 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3294 0092 032B     		cmp	r3, #3
 3295 0094 03D0     		beq	.L161
 3296              		.loc 1 1038 0 is_stmt 0 discriminator 1
 3297 0096 3B68     		ldr	r3, [r7]
 3298 0098 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3299 009a 022B     		cmp	r3, #2
 3300 009c 0FD1     		bne	.L160
 3301              	.L161:
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3302              		.loc 1 1040 0 is_stmt 1
 3303 009e BB68     		ldr	r3, [r7, #8]
 3304 00a0 5A01     		lsls	r2, r3, #5
 3305 00a2 FB68     		ldr	r3, [r7, #12]
 3306 00a4 1344     		add	r3, r3, r2
 3307 00a6 03F53063 		add	r3, r3, #2816
 3308 00aa 1B68     		ldr	r3, [r3]
 3309 00ac BA68     		ldr	r2, [r7, #8]
 3310 00ae 5101     		lsls	r1, r2, #5
 3311 00b0 FA68     		ldr	r2, [r7, #12]
 3312 00b2 0A44     		add	r2, r2, r1
 3313 00b4 02F53062 		add	r2, r2, #2816
 3314 00b8 43F08053 		orr	r3, r3, #268435456
ARM GAS  /tmp/cchFjZSQ.s 			page 77


 3315 00bc 1360     		str	r3, [r2]
 3316              	.L160:
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3317              		.loc 1 1043 0
 3318 00be 0023     		movs	r3, #0
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3319              		.loc 1 1044 0
 3320 00c0 1846     		mov	r0, r3
 3321 00c2 1437     		adds	r7, r7, #20
 3322              	.LCFI119:
 3323              		.cfi_def_cfa_offset 4
 3324 00c4 BD46     		mov	sp, r7
 3325              	.LCFI120:
 3326              		.cfi_def_cfa_register 13
 3327              		@ sp needed
 3328 00c6 5DF8047B 		ldr	r7, [sp], #4
 3329              	.LCFI121:
 3330              		.cfi_restore 7
 3331              		.cfi_def_cfa_offset 0
 3332 00ca 7047     		bx	lr
 3333              		.cfi_endproc
 3334              	.LFE149:
 3336              		.section	.text.USB_StopDevice,"ax",%progbits
 3337              		.align	1
 3338              		.global	USB_StopDevice
 3339              		.syntax unified
 3340              		.thumb
 3341              		.thumb_func
 3342              		.fpu fpv4-sp-d16
 3344              	USB_StopDevice:
 3345              	.LFB150:
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3346              		.loc 1 1052 0
 3347              		.cfi_startproc
 3348              		@ args = 0, pretend = 0, frame = 24
 3349              		@ frame_needed = 1, uses_anonymous_args = 0
 3350 0000 80B5     		push	{r7, lr}
 3351              	.LCFI122:
 3352              		.cfi_def_cfa_offset 8
 3353              		.cfi_offset 7, -8
 3354              		.cfi_offset 14, -4
 3355 0002 86B0     		sub	sp, sp, #24
 3356              	.LCFI123:
 3357              		.cfi_def_cfa_offset 32
 3358 0004 00AF     		add	r7, sp, #0
 3359              	.LCFI124:
 3360              		.cfi_def_cfa_register 7
 3361 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/cchFjZSQ.s 			page 78


1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3362              		.loc 1 1054 0
 3363 0008 7B68     		ldr	r3, [r7, #4]
 3364 000a 3B61     		str	r3, [r7, #16]
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 3365              		.loc 1 1058 0
 3366 000c 0023     		movs	r3, #0
 3367 000e 7B61     		str	r3, [r7, #20]
 3368 0010 16E0     		b	.L164
 3369              	.L165:
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 3370              		.loc 1 1060 0 discriminator 3
 3371 0012 7B69     		ldr	r3, [r7, #20]
 3372 0014 5A01     		lsls	r2, r3, #5
 3373 0016 3B69     		ldr	r3, [r7, #16]
 3374 0018 1344     		add	r3, r3, r2
 3375 001a 03F51063 		add	r3, r3, #2304
 3376 001e 1A46     		mov	r2, r3
 3377 0020 4FF67F33 		movw	r3, #64383
 3378 0024 9360     		str	r3, [r2, #8]
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 3379              		.loc 1 1061 0 discriminator 3
 3380 0026 7B69     		ldr	r3, [r7, #20]
 3381 0028 5A01     		lsls	r2, r3, #5
 3382 002a 3B69     		ldr	r3, [r7, #16]
 3383 002c 1344     		add	r3, r3, r2
 3384 002e 03F53063 		add	r3, r3, #2816
 3385 0032 1A46     		mov	r2, r3
 3386 0034 4FF67F33 		movw	r3, #64383
 3387 0038 9360     		str	r3, [r2, #8]
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3388              		.loc 1 1058 0 discriminator 3
 3389 003a 7B69     		ldr	r3, [r7, #20]
 3390 003c 0133     		adds	r3, r3, #1
 3391 003e 7B61     		str	r3, [r7, #20]
 3392              	.L164:
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3393              		.loc 1 1058 0 is_stmt 0 discriminator 1
 3394 0040 7B69     		ldr	r3, [r7, #20]
 3395 0042 0E2B     		cmp	r3, #14
 3396 0044 E5D9     		bls	.L165
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 3397              		.loc 1 1065 0 is_stmt 1
 3398 0046 3B69     		ldr	r3, [r7, #16]
 3399 0048 03F50063 		add	r3, r3, #2048
 3400 004c 1A46     		mov	r2, r3
 3401 004e 0023     		movs	r3, #0
 3402 0050 1361     		str	r3, [r2, #16]
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
ARM GAS  /tmp/cchFjZSQ.s 			page 79


 3403              		.loc 1 1066 0
 3404 0052 3B69     		ldr	r3, [r7, #16]
 3405 0054 03F50063 		add	r3, r3, #2048
 3406 0058 1A46     		mov	r2, r3
 3407 005a 0023     		movs	r3, #0
 3408 005c 5361     		str	r3, [r2, #20]
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 3409              		.loc 1 1067 0
 3410 005e 3B69     		ldr	r3, [r7, #16]
 3411 0060 03F50063 		add	r3, r3, #2048
 3412 0064 1A46     		mov	r2, r3
 3413 0066 0023     		movs	r3, #0
 3414 0068 D361     		str	r3, [r2, #28]
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 3415              		.loc 1 1070 0
 3416 006a 7868     		ldr	r0, [r7, #4]
 3417 006c FFF7FEFF 		bl	USB_FlushRxFifo
 3418 0070 0346     		mov	r3, r0
 3419 0072 FB73     		strb	r3, [r7, #15]
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 3420              		.loc 1 1071 0
 3421 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3422 0076 002B     		cmp	r3, #0
 3423 0078 01D0     		beq	.L166
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 3424              		.loc 1 1073 0
 3425 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3426 007c 0BE0     		b	.L167
 3427              	.L166:
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 3428              		.loc 1 1076 0
 3429 007e 1021     		movs	r1, #16
 3430 0080 7868     		ldr	r0, [r7, #4]
 3431 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 3432 0086 0346     		mov	r3, r0
 3433 0088 FB73     		strb	r3, [r7, #15]
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 3434              		.loc 1 1077 0
 3435 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3436 008c 002B     		cmp	r3, #0
 3437 008e 01D0     		beq	.L168
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 3438              		.loc 1 1079 0
 3439 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3440 0092 00E0     		b	.L167
 3441              	.L168:
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 3442              		.loc 1 1082 0
 3443 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
ARM GAS  /tmp/cchFjZSQ.s 			page 80


 3444              	.L167:
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3445              		.loc 1 1083 0
 3446 0096 1846     		mov	r0, r3
 3447 0098 1837     		adds	r7, r7, #24
 3448              	.LCFI125:
 3449              		.cfi_def_cfa_offset 8
 3450 009a BD46     		mov	sp, r7
 3451              	.LCFI126:
 3452              		.cfi_def_cfa_register 13
 3453              		@ sp needed
 3454 009c 80BD     		pop	{r7, pc}
 3455              		.cfi_endproc
 3456              	.LFE150:
 3458              		.section	.text.USB_SetDevAddress,"ax",%progbits
 3459              		.align	1
 3460              		.global	USB_SetDevAddress
 3461              		.syntax unified
 3462              		.thumb
 3463              		.thumb_func
 3464              		.fpu fpv4-sp-d16
 3466              	USB_SetDevAddress:
 3467              	.LFB151:
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3468              		.loc 1 1093 0
 3469              		.cfi_startproc
 3470              		@ args = 0, pretend = 0, frame = 16
 3471              		@ frame_needed = 1, uses_anonymous_args = 0
 3472              		@ link register save eliminated.
 3473 0000 80B4     		push	{r7}
 3474              	.LCFI127:
 3475              		.cfi_def_cfa_offset 4
 3476              		.cfi_offset 7, -4
 3477 0002 85B0     		sub	sp, sp, #20
 3478              	.LCFI128:
 3479              		.cfi_def_cfa_offset 24
 3480 0004 00AF     		add	r7, sp, #0
 3481              	.LCFI129:
 3482              		.cfi_def_cfa_register 7
 3483 0006 7860     		str	r0, [r7, #4]
 3484 0008 0B46     		mov	r3, r1
 3485 000a FB70     		strb	r3, [r7, #3]
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3486              		.loc 1 1094 0
 3487 000c 7B68     		ldr	r3, [r7, #4]
 3488 000e FB60     		str	r3, [r7, #12]
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
ARM GAS  /tmp/cchFjZSQ.s 			page 81


 3489              		.loc 1 1096 0
 3490 0010 FB68     		ldr	r3, [r7, #12]
 3491 0012 03F50063 		add	r3, r3, #2048
 3492 0016 1B68     		ldr	r3, [r3]
 3493 0018 FA68     		ldr	r2, [r7, #12]
 3494 001a 02F50062 		add	r2, r2, #2048
 3495 001e 23F4FE63 		bic	r3, r3, #2032
 3496 0022 1360     		str	r3, [r2]
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 3497              		.loc 1 1097 0
 3498 0024 FB68     		ldr	r3, [r7, #12]
 3499 0026 03F50063 		add	r3, r3, #2048
 3500 002a 1A68     		ldr	r2, [r3]
 3501 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3502 002e 1B01     		lsls	r3, r3, #4
 3503 0030 03F4FE63 		and	r3, r3, #2032
 3504 0034 F968     		ldr	r1, [r7, #12]
 3505 0036 01F50061 		add	r1, r1, #2048
 3506 003a 1343     		orrs	r3, r3, r2
 3507 003c 0B60     		str	r3, [r1]
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3508              		.loc 1 1099 0
 3509 003e 0023     		movs	r3, #0
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3510              		.loc 1 1100 0
 3511 0040 1846     		mov	r0, r3
 3512 0042 1437     		adds	r7, r7, #20
 3513              	.LCFI130:
 3514              		.cfi_def_cfa_offset 4
 3515 0044 BD46     		mov	sp, r7
 3516              	.LCFI131:
 3517              		.cfi_def_cfa_register 13
 3518              		@ sp needed
 3519 0046 5DF8047B 		ldr	r7, [sp], #4
 3520              	.LCFI132:
 3521              		.cfi_restore 7
 3522              		.cfi_def_cfa_offset 0
 3523 004a 7047     		bx	lr
 3524              		.cfi_endproc
 3525              	.LFE151:
 3527              		.section	.text.USB_DevConnect,"ax",%progbits
 3528              		.align	1
 3529              		.global	USB_DevConnect
 3530              		.syntax unified
 3531              		.thumb
 3532              		.thumb_func
 3533              		.fpu fpv4-sp-d16
 3535              	USB_DevConnect:
 3536              	.LFB152:
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling the pull-up/pull-down
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
ARM GAS  /tmp/cchFjZSQ.s 			page 82


1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3537              		.loc 1 1108 0
 3538              		.cfi_startproc
 3539              		@ args = 0, pretend = 0, frame = 16
 3540              		@ frame_needed = 1, uses_anonymous_args = 0
 3541 0000 80B5     		push	{r7, lr}
 3542              	.LCFI133:
 3543              		.cfi_def_cfa_offset 8
 3544              		.cfi_offset 7, -8
 3545              		.cfi_offset 14, -4
 3546 0002 84B0     		sub	sp, sp, #16
 3547              	.LCFI134:
 3548              		.cfi_def_cfa_offset 24
 3549 0004 00AF     		add	r7, sp, #0
 3550              	.LCFI135:
 3551              		.cfi_def_cfa_register 7
 3552 0006 7860     		str	r0, [r7, #4]
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3553              		.loc 1 1109 0
 3554 0008 7B68     		ldr	r3, [r7, #4]
 3555 000a FB60     		str	r3, [r7, #12]
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 3556              		.loc 1 1111 0
 3557 000c FB68     		ldr	r3, [r7, #12]
 3558 000e 03F50063 		add	r3, r3, #2048
 3559 0012 5B68     		ldr	r3, [r3, #4]
 3560 0014 FA68     		ldr	r2, [r7, #12]
 3561 0016 02F50062 		add	r2, r2, #2048
 3562 001a 23F00203 		bic	r3, r3, #2
 3563 001e 5360     		str	r3, [r2, #4]
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3564              		.loc 1 1112 0
 3565 0020 0320     		movs	r0, #3
 3566 0022 FFF7FEFF 		bl	HAL_Delay
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3567              		.loc 1 1114 0
 3568 0026 0023     		movs	r3, #0
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3569              		.loc 1 1115 0
 3570 0028 1846     		mov	r0, r3
 3571 002a 1037     		adds	r7, r7, #16
 3572              	.LCFI136:
 3573              		.cfi_def_cfa_offset 8
 3574 002c BD46     		mov	sp, r7
 3575              	.LCFI137:
 3576              		.cfi_def_cfa_register 13
 3577              		@ sp needed
 3578 002e 80BD     		pop	{r7, pc}
 3579              		.cfi_endproc
 3580              	.LFE152:
 3582              		.section	.text.USB_DevDisconnect,"ax",%progbits
 3583              		.align	1
 3584              		.global	USB_DevDisconnect
 3585              		.syntax unified
 3586              		.thumb
ARM GAS  /tmp/cchFjZSQ.s 			page 83


 3587              		.thumb_func
 3588              		.fpu fpv4-sp-d16
 3590              	USB_DevDisconnect:
 3591              	.LFB153:
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling the pull-up/pull-down
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3592              		.loc 1 1123 0
 3593              		.cfi_startproc
 3594              		@ args = 0, pretend = 0, frame = 16
 3595              		@ frame_needed = 1, uses_anonymous_args = 0
 3596 0000 80B5     		push	{r7, lr}
 3597              	.LCFI138:
 3598              		.cfi_def_cfa_offset 8
 3599              		.cfi_offset 7, -8
 3600              		.cfi_offset 14, -4
 3601 0002 84B0     		sub	sp, sp, #16
 3602              	.LCFI139:
 3603              		.cfi_def_cfa_offset 24
 3604 0004 00AF     		add	r7, sp, #0
 3605              	.LCFI140:
 3606              		.cfi_def_cfa_register 7
 3607 0006 7860     		str	r0, [r7, #4]
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3608              		.loc 1 1124 0
 3609 0008 7B68     		ldr	r3, [r7, #4]
 3610 000a FB60     		str	r3, [r7, #12]
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 3611              		.loc 1 1126 0
 3612 000c FB68     		ldr	r3, [r7, #12]
 3613 000e 03F50063 		add	r3, r3, #2048
 3614 0012 5B68     		ldr	r3, [r3, #4]
 3615 0014 FA68     		ldr	r2, [r7, #12]
 3616 0016 02F50062 		add	r2, r2, #2048
 3617 001a 43F00203 		orr	r3, r3, #2
 3618 001e 5360     		str	r3, [r2, #4]
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3619              		.loc 1 1127 0
 3620 0020 0320     		movs	r0, #3
 3621 0022 FFF7FEFF 		bl	HAL_Delay
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3622              		.loc 1 1129 0
 3623 0026 0023     		movs	r3, #0
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3624              		.loc 1 1130 0
 3625 0028 1846     		mov	r0, r3
 3626 002a 1037     		adds	r7, r7, #16
 3627              	.LCFI141:
 3628              		.cfi_def_cfa_offset 8
 3629 002c BD46     		mov	sp, r7
ARM GAS  /tmp/cchFjZSQ.s 			page 84


 3630              	.LCFI142:
 3631              		.cfi_def_cfa_register 13
 3632              		@ sp needed
 3633 002e 80BD     		pop	{r7, pc}
 3634              		.cfi_endproc
 3635              	.LFE153:
 3637              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 3638              		.align	1
 3639              		.global	USB_ReadInterrupts
 3640              		.syntax unified
 3641              		.thumb
 3642              		.thumb_func
 3643              		.fpu fpv4-sp-d16
 3645              	USB_ReadInterrupts:
 3646              	.LFB154:
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3647              		.loc 1 1138 0
 3648              		.cfi_startproc
 3649              		@ args = 0, pretend = 0, frame = 16
 3650              		@ frame_needed = 1, uses_anonymous_args = 0
 3651              		@ link register save eliminated.
 3652 0000 80B4     		push	{r7}
 3653              	.LCFI143:
 3654              		.cfi_def_cfa_offset 4
 3655              		.cfi_offset 7, -4
 3656 0002 85B0     		sub	sp, sp, #20
 3657              	.LCFI144:
 3658              		.cfi_def_cfa_offset 24
 3659 0004 00AF     		add	r7, sp, #0
 3660              	.LCFI145:
 3661              		.cfi_def_cfa_register 7
 3662 0006 7860     		str	r0, [r7, #4]
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 3663              		.loc 1 1141 0
 3664 0008 7B68     		ldr	r3, [r7, #4]
 3665 000a 5B69     		ldr	r3, [r3, #20]
 3666 000c FB60     		str	r3, [r7, #12]
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 3667              		.loc 1 1142 0
 3668 000e 7B68     		ldr	r3, [r7, #4]
 3669 0010 9B69     		ldr	r3, [r3, #24]
 3670 0012 FA68     		ldr	r2, [r7, #12]
 3671 0014 1340     		ands	r3, r3, r2
 3672 0016 FB60     		str	r3, [r7, #12]
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 3673              		.loc 1 1144 0
 3674 0018 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cchFjZSQ.s 			page 85


1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3675              		.loc 1 1145 0
 3676 001a 1846     		mov	r0, r3
 3677 001c 1437     		adds	r7, r7, #20
 3678              	.LCFI146:
 3679              		.cfi_def_cfa_offset 4
 3680 001e BD46     		mov	sp, r7
 3681              	.LCFI147:
 3682              		.cfi_def_cfa_register 13
 3683              		@ sp needed
 3684 0020 5DF8047B 		ldr	r7, [sp], #4
 3685              	.LCFI148:
 3686              		.cfi_restore 7
 3687              		.cfi_def_cfa_offset 0
 3688 0024 7047     		bx	lr
 3689              		.cfi_endproc
 3690              	.LFE154:
 3692              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 3693              		.align	1
 3694              		.global	USB_ReadDevAllOutEpInterrupt
 3695              		.syntax unified
 3696              		.thumb
 3697              		.thumb_func
 3698              		.fpu fpv4-sp-d16
 3700              	USB_ReadDevAllOutEpInterrupt:
 3701              	.LFB155:
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3702              		.loc 1 1153 0
 3703              		.cfi_startproc
 3704              		@ args = 0, pretend = 0, frame = 16
 3705              		@ frame_needed = 1, uses_anonymous_args = 0
 3706              		@ link register save eliminated.
 3707 0000 80B4     		push	{r7}
 3708              	.LCFI149:
 3709              		.cfi_def_cfa_offset 4
 3710              		.cfi_offset 7, -4
 3711 0002 85B0     		sub	sp, sp, #20
 3712              	.LCFI150:
 3713              		.cfi_def_cfa_offset 24
 3714 0004 00AF     		add	r7, sp, #0
 3715              	.LCFI151:
 3716              		.cfi_def_cfa_register 7
 3717 0006 7860     		str	r0, [r7, #4]
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3718              		.loc 1 1154 0
 3719 0008 7B68     		ldr	r3, [r7, #4]
 3720 000a FB60     		str	r3, [r7, #12]
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
ARM GAS  /tmp/cchFjZSQ.s 			page 86


 3721              		.loc 1 1157 0
 3722 000c FB68     		ldr	r3, [r7, #12]
 3723 000e 03F50063 		add	r3, r3, #2048
 3724 0012 9B69     		ldr	r3, [r3, #24]
 3725 0014 BB60     		str	r3, [r7, #8]
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 3726              		.loc 1 1158 0
 3727 0016 FB68     		ldr	r3, [r7, #12]
 3728 0018 03F50063 		add	r3, r3, #2048
 3729 001c DB69     		ldr	r3, [r3, #28]
 3730 001e BA68     		ldr	r2, [r7, #8]
 3731 0020 1340     		ands	r3, r3, r2
 3732 0022 BB60     		str	r3, [r7, #8]
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 3733              		.loc 1 1160 0
 3734 0024 BB68     		ldr	r3, [r7, #8]
 3735 0026 1B0C     		lsrs	r3, r3, #16
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3736              		.loc 1 1161 0
 3737 0028 1846     		mov	r0, r3
 3738 002a 1437     		adds	r7, r7, #20
 3739              	.LCFI152:
 3740              		.cfi_def_cfa_offset 4
 3741 002c BD46     		mov	sp, r7
 3742              	.LCFI153:
 3743              		.cfi_def_cfa_register 13
 3744              		@ sp needed
 3745 002e 5DF8047B 		ldr	r7, [sp], #4
 3746              	.LCFI154:
 3747              		.cfi_restore 7
 3748              		.cfi_def_cfa_offset 0
 3749 0032 7047     		bx	lr
 3750              		.cfi_endproc
 3751              	.LFE155:
 3753              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 3754              		.align	1
 3755              		.global	USB_ReadDevAllInEpInterrupt
 3756              		.syntax unified
 3757              		.thumb
 3758              		.thumb_func
 3759              		.fpu fpv4-sp-d16
 3761              	USB_ReadDevAllInEpInterrupt:
 3762              	.LFB156:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3763              		.loc 1 1169 0
 3764              		.cfi_startproc
 3765              		@ args = 0, pretend = 0, frame = 16
 3766              		@ frame_needed = 1, uses_anonymous_args = 0
 3767              		@ link register save eliminated.
ARM GAS  /tmp/cchFjZSQ.s 			page 87


 3768 0000 80B4     		push	{r7}
 3769              	.LCFI155:
 3770              		.cfi_def_cfa_offset 4
 3771              		.cfi_offset 7, -4
 3772 0002 85B0     		sub	sp, sp, #20
 3773              	.LCFI156:
 3774              		.cfi_def_cfa_offset 24
 3775 0004 00AF     		add	r7, sp, #0
 3776              	.LCFI157:
 3777              		.cfi_def_cfa_register 7
 3778 0006 7860     		str	r0, [r7, #4]
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3779              		.loc 1 1170 0
 3780 0008 7B68     		ldr	r3, [r7, #4]
 3781 000a FB60     		str	r3, [r7, #12]
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 3782              		.loc 1 1173 0
 3783 000c FB68     		ldr	r3, [r7, #12]
 3784 000e 03F50063 		add	r3, r3, #2048
 3785 0012 9B69     		ldr	r3, [r3, #24]
 3786 0014 BB60     		str	r3, [r7, #8]
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 3787              		.loc 1 1174 0
 3788 0016 FB68     		ldr	r3, [r7, #12]
 3789 0018 03F50063 		add	r3, r3, #2048
 3790 001c DB69     		ldr	r3, [r3, #28]
 3791 001e BA68     		ldr	r2, [r7, #8]
 3792 0020 1340     		ands	r3, r3, r2
 3793 0022 BB60     		str	r3, [r7, #8]
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 3794              		.loc 1 1176 0
 3795 0024 BB68     		ldr	r3, [r7, #8]
 3796 0026 9BB2     		uxth	r3, r3
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3797              		.loc 1 1177 0
 3798 0028 1846     		mov	r0, r3
 3799 002a 1437     		adds	r7, r7, #20
 3800              	.LCFI158:
 3801              		.cfi_def_cfa_offset 4
 3802 002c BD46     		mov	sp, r7
 3803              	.LCFI159:
 3804              		.cfi_def_cfa_register 13
 3805              		@ sp needed
 3806 002e 5DF8047B 		ldr	r7, [sp], #4
 3807              	.LCFI160:
 3808              		.cfi_restore 7
 3809              		.cfi_def_cfa_offset 0
 3810 0032 7047     		bx	lr
 3811              		.cfi_endproc
 3812              	.LFE156:
 3814              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 3815              		.align	1
 3816              		.global	USB_ReadDevOutEPInterrupt
 3817              		.syntax unified
ARM GAS  /tmp/cchFjZSQ.s 			page 88


 3818              		.thumb
 3819              		.thumb_func
 3820              		.fpu fpv4-sp-d16
 3822              	USB_ReadDevOutEPInterrupt:
 3823              	.LFB157:
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3824              		.loc 1 1187 0
 3825              		.cfi_startproc
 3826              		@ args = 0, pretend = 0, frame = 16
 3827              		@ frame_needed = 1, uses_anonymous_args = 0
 3828              		@ link register save eliminated.
 3829 0000 80B4     		push	{r7}
 3830              	.LCFI161:
 3831              		.cfi_def_cfa_offset 4
 3832              		.cfi_offset 7, -4
 3833 0002 85B0     		sub	sp, sp, #20
 3834              	.LCFI162:
 3835              		.cfi_def_cfa_offset 24
 3836 0004 00AF     		add	r7, sp, #0
 3837              	.LCFI163:
 3838              		.cfi_def_cfa_register 7
 3839 0006 7860     		str	r0, [r7, #4]
 3840 0008 0B46     		mov	r3, r1
 3841 000a FB70     		strb	r3, [r7, #3]
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3842              		.loc 1 1188 0
 3843 000c 7B68     		ldr	r3, [r7, #4]
 3844 000e FB60     		str	r3, [r7, #12]
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 3845              		.loc 1 1191 0
 3846 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3847 0012 5A01     		lsls	r2, r3, #5
 3848 0014 FB68     		ldr	r3, [r7, #12]
 3849 0016 1344     		add	r3, r3, r2
 3850 0018 03F53063 		add	r3, r3, #2816
 3851 001c 9B68     		ldr	r3, [r3, #8]
 3852 001e BB60     		str	r3, [r7, #8]
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 3853              		.loc 1 1192 0
 3854 0020 FB68     		ldr	r3, [r7, #12]
 3855 0022 03F50063 		add	r3, r3, #2048
 3856 0026 5B69     		ldr	r3, [r3, #20]
 3857 0028 BA68     		ldr	r2, [r7, #8]
 3858 002a 1340     		ands	r3, r3, r2
 3859 002c BB60     		str	r3, [r7, #8]
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/cchFjZSQ.s 			page 89


1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 3860              		.loc 1 1194 0
 3861 002e BB68     		ldr	r3, [r7, #8]
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3862              		.loc 1 1195 0
 3863 0030 1846     		mov	r0, r3
 3864 0032 1437     		adds	r7, r7, #20
 3865              	.LCFI164:
 3866              		.cfi_def_cfa_offset 4
 3867 0034 BD46     		mov	sp, r7
 3868              	.LCFI165:
 3869              		.cfi_def_cfa_register 13
 3870              		@ sp needed
 3871 0036 5DF8047B 		ldr	r7, [sp], #4
 3872              	.LCFI166:
 3873              		.cfi_restore 7
 3874              		.cfi_def_cfa_offset 0
 3875 003a 7047     		bx	lr
 3876              		.cfi_endproc
 3877              	.LFE157:
 3879              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 3880              		.align	1
 3881              		.global	USB_ReadDevInEPInterrupt
 3882              		.syntax unified
 3883              		.thumb
 3884              		.thumb_func
 3885              		.fpu fpv4-sp-d16
 3887              	USB_ReadDevInEPInterrupt:
 3888              	.LFB158:
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3889              		.loc 1 1205 0
 3890              		.cfi_startproc
 3891              		@ args = 0, pretend = 0, frame = 24
 3892              		@ frame_needed = 1, uses_anonymous_args = 0
 3893              		@ link register save eliminated.
 3894 0000 80B4     		push	{r7}
 3895              	.LCFI167:
 3896              		.cfi_def_cfa_offset 4
 3897              		.cfi_offset 7, -4
 3898 0002 87B0     		sub	sp, sp, #28
 3899              	.LCFI168:
 3900              		.cfi_def_cfa_offset 32
 3901 0004 00AF     		add	r7, sp, #0
 3902              	.LCFI169:
 3903              		.cfi_def_cfa_register 7
 3904 0006 7860     		str	r0, [r7, #4]
 3905 0008 0B46     		mov	r3, r1
 3906 000a FB70     		strb	r3, [r7, #3]
ARM GAS  /tmp/cchFjZSQ.s 			page 90


1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3907              		.loc 1 1206 0
 3908 000c 7B68     		ldr	r3, [r7, #4]
 3909 000e 7B61     		str	r3, [r7, #20]
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg, msk, emp;
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 3910              		.loc 1 1209 0
 3911 0010 7B69     		ldr	r3, [r7, #20]
 3912 0012 03F50063 		add	r3, r3, #2048
 3913 0016 1B69     		ldr	r3, [r3, #16]
 3914 0018 3B61     		str	r3, [r7, #16]
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 3915              		.loc 1 1210 0
 3916 001a 7B69     		ldr	r3, [r7, #20]
 3917 001c 03F50063 		add	r3, r3, #2048
 3918 0020 5B6B     		ldr	r3, [r3, #52]
 3919 0022 FB60     		str	r3, [r7, #12]
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 3920              		.loc 1 1211 0
 3921 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3922 0026 03F00F03 		and	r3, r3, #15
 3923 002a FA68     		ldr	r2, [r7, #12]
 3924 002c 22FA03F3 		lsr	r3, r2, r3
 3925 0030 DB01     		lsls	r3, r3, #7
 3926 0032 DBB2     		uxtb	r3, r3
 3927 0034 3A69     		ldr	r2, [r7, #16]
 3928 0036 1343     		orrs	r3, r3, r2
 3929 0038 3B61     		str	r3, [r7, #16]
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 3930              		.loc 1 1212 0
 3931 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3932 003c 5A01     		lsls	r2, r3, #5
 3933 003e 7B69     		ldr	r3, [r7, #20]
 3934 0040 1344     		add	r3, r3, r2
 3935 0042 03F51063 		add	r3, r3, #2304
 3936 0046 9B68     		ldr	r3, [r3, #8]
 3937 0048 3A69     		ldr	r2, [r7, #16]
 3938 004a 1340     		ands	r3, r3, r2
 3939 004c BB60     		str	r3, [r7, #8]
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 3940              		.loc 1 1214 0
 3941 004e BB68     		ldr	r3, [r7, #8]
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3942              		.loc 1 1215 0
 3943 0050 1846     		mov	r0, r3
 3944 0052 1C37     		adds	r7, r7, #28
 3945              	.LCFI170:
 3946              		.cfi_def_cfa_offset 4
 3947 0054 BD46     		mov	sp, r7
 3948              	.LCFI171:
 3949              		.cfi_def_cfa_register 13
 3950              		@ sp needed
 3951 0056 5DF8047B 		ldr	r7, [sp], #4
 3952              	.LCFI172:
 3953              		.cfi_restore 7
ARM GAS  /tmp/cchFjZSQ.s 			page 91


 3954              		.cfi_def_cfa_offset 0
 3955 005a 7047     		bx	lr
 3956              		.cfi_endproc
 3957              	.LFE158:
 3959              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 3960              		.align	1
 3961              		.global	USB_ClearInterrupts
 3962              		.syntax unified
 3963              		.thumb
 3964              		.thumb_func
 3965              		.fpu fpv4-sp-d16
 3967              	USB_ClearInterrupts:
 3968              	.LFB159:
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt  interrupt flag
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3969              		.loc 1 1224 0
 3970              		.cfi_startproc
 3971              		@ args = 0, pretend = 0, frame = 8
 3972              		@ frame_needed = 1, uses_anonymous_args = 0
 3973              		@ link register save eliminated.
 3974 0000 80B4     		push	{r7}
 3975              	.LCFI173:
 3976              		.cfi_def_cfa_offset 4
 3977              		.cfi_offset 7, -4
 3978 0002 83B0     		sub	sp, sp, #12
 3979              	.LCFI174:
 3980              		.cfi_def_cfa_offset 16
 3981 0004 00AF     		add	r7, sp, #0
 3982              	.LCFI175:
 3983              		.cfi_def_cfa_register 7
 3984 0006 7860     		str	r0, [r7, #4]
 3985 0008 3960     		str	r1, [r7]
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 3986              		.loc 1 1225 0
 3987 000a 7B68     		ldr	r3, [r7, #4]
 3988 000c 5A69     		ldr	r2, [r3, #20]
 3989 000e 3B68     		ldr	r3, [r7]
 3990 0010 1A43     		orrs	r2, r2, r3
 3991 0012 7B68     		ldr	r3, [r7, #4]
 3992 0014 5A61     		str	r2, [r3, #20]
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3993              		.loc 1 1226 0
 3994 0016 00BF     		nop
 3995 0018 0C37     		adds	r7, r7, #12
 3996              	.LCFI176:
 3997              		.cfi_def_cfa_offset 4
 3998 001a BD46     		mov	sp, r7
 3999              	.LCFI177:
 4000              		.cfi_def_cfa_register 13
 4001              		@ sp needed
ARM GAS  /tmp/cchFjZSQ.s 			page 92


 4002 001c 5DF8047B 		ldr	r7, [sp], #4
 4003              	.LCFI178:
 4004              		.cfi_restore 7
 4005              		.cfi_def_cfa_offset 0
 4006 0020 7047     		bx	lr
 4007              		.cfi_endproc
 4008              	.LFE159:
 4010              		.section	.text.USB_GetMode,"ax",%progbits
 4011              		.align	1
 4012              		.global	USB_GetMode
 4013              		.syntax unified
 4014              		.thumb
 4015              		.thumb_func
 4016              		.fpu fpv4-sp-d16
 4018              	USB_GetMode:
 4019              	.LFB160:
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4020              		.loc 1 1237 0
 4021              		.cfi_startproc
 4022              		@ args = 0, pretend = 0, frame = 8
 4023              		@ frame_needed = 1, uses_anonymous_args = 0
 4024              		@ link register save eliminated.
 4025 0000 80B4     		push	{r7}
 4026              	.LCFI179:
 4027              		.cfi_def_cfa_offset 4
 4028              		.cfi_offset 7, -4
 4029 0002 83B0     		sub	sp, sp, #12
 4030              	.LCFI180:
 4031              		.cfi_def_cfa_offset 16
 4032 0004 00AF     		add	r7, sp, #0
 4033              	.LCFI181:
 4034              		.cfi_def_cfa_register 7
 4035 0006 7860     		str	r0, [r7, #4]
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4036              		.loc 1 1238 0
 4037 0008 7B68     		ldr	r3, [r7, #4]
 4038 000a 5B69     		ldr	r3, [r3, #20]
 4039 000c 03F00103 		and	r3, r3, #1
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4040              		.loc 1 1239 0
 4041 0010 1846     		mov	r0, r3
 4042 0012 0C37     		adds	r7, r7, #12
 4043              	.LCFI182:
 4044              		.cfi_def_cfa_offset 4
 4045 0014 BD46     		mov	sp, r7
 4046              	.LCFI183:
 4047              		.cfi_def_cfa_register 13
ARM GAS  /tmp/cchFjZSQ.s 			page 93


 4048              		@ sp needed
 4049 0016 5DF8047B 		ldr	r7, [sp], #4
 4050              	.LCFI184:
 4051              		.cfi_restore 7
 4052              		.cfi_def_cfa_offset 0
 4053 001a 7047     		bx	lr
 4054              		.cfi_endproc
 4055              	.LFE160:
 4057              		.section	.text.USB_ActivateSetup,"ax",%progbits
 4058              		.align	1
 4059              		.global	USB_ActivateSetup
 4060              		.syntax unified
 4061              		.thumb
 4062              		.thumb_func
 4063              		.fpu fpv4-sp-d16
 4065              	USB_ActivateSetup:
 4066              	.LFB161:
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4067              		.loc 1 1247 0
 4068              		.cfi_startproc
 4069              		@ args = 0, pretend = 0, frame = 16
 4070              		@ frame_needed = 1, uses_anonymous_args = 0
 4071              		@ link register save eliminated.
 4072 0000 80B4     		push	{r7}
 4073              	.LCFI185:
 4074              		.cfi_def_cfa_offset 4
 4075              		.cfi_offset 7, -4
 4076 0002 85B0     		sub	sp, sp, #20
 4077              	.LCFI186:
 4078              		.cfi_def_cfa_offset 24
 4079 0004 00AF     		add	r7, sp, #0
 4080              	.LCFI187:
 4081              		.cfi_def_cfa_register 7
 4082 0006 7860     		str	r0, [r7, #4]
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4083              		.loc 1 1248 0
 4084 0008 7B68     		ldr	r3, [r7, #4]
 4085 000a FB60     		str	r3, [r7, #12]
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP based on the enumeration speed */
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 4086              		.loc 1 1251 0
 4087 000c FB68     		ldr	r3, [r7, #12]
 4088 000e 03F51063 		add	r3, r3, #2304
 4089 0012 1B68     		ldr	r3, [r3]
 4090 0014 FA68     		ldr	r2, [r7, #12]
 4091 0016 02F51062 		add	r2, r2, #2304
 4092 001a 23F4FF63 		bic	r3, r3, #2040
 4093 001e 23F00703 		bic	r3, r3, #7
 4094 0022 1360     		str	r3, [r2]
ARM GAS  /tmp/cchFjZSQ.s 			page 94


1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 4095              		.loc 1 1253 0
 4096 0024 FB68     		ldr	r3, [r7, #12]
 4097 0026 03F50063 		add	r3, r3, #2048
 4098 002a 9B68     		ldr	r3, [r3, #8]
 4099 002c 03F00603 		and	r3, r3, #6
 4100 0030 042B     		cmp	r3, #4
 4101 0032 09D1     		bne	.L189
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(0U)->DIEPCTL |= 3U;
 4102              		.loc 1 1255 0
 4103 0034 FB68     		ldr	r3, [r7, #12]
 4104 0036 03F51063 		add	r3, r3, #2304
 4105 003a 1B68     		ldr	r3, [r3]
 4106 003c FA68     		ldr	r2, [r7, #12]
 4107 003e 02F51062 		add	r2, r2, #2304
 4108 0042 43F00303 		orr	r3, r3, #3
 4109 0046 1360     		str	r3, [r2]
 4110              	.L189:
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4111              		.loc 1 1257 0
 4112 0048 FB68     		ldr	r3, [r7, #12]
 4113 004a 03F50063 		add	r3, r3, #2048
 4114 004e 5B68     		ldr	r3, [r3, #4]
 4115 0050 FA68     		ldr	r2, [r7, #12]
 4116 0052 02F50062 		add	r2, r2, #2048
 4117 0056 43F48073 		orr	r3, r3, #256
 4118 005a 5360     		str	r3, [r2, #4]
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4119              		.loc 1 1259 0
 4120 005c 0023     		movs	r3, #0
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4121              		.loc 1 1260 0
 4122 005e 1846     		mov	r0, r3
 4123 0060 1437     		adds	r7, r7, #20
 4124              	.LCFI188:
 4125              		.cfi_def_cfa_offset 4
 4126 0062 BD46     		mov	sp, r7
 4127              	.LCFI189:
 4128              		.cfi_def_cfa_register 13
 4129              		@ sp needed
 4130 0064 5DF8047B 		ldr	r7, [sp], #4
 4131              	.LCFI190:
 4132              		.cfi_restore 7
 4133              		.cfi_def_cfa_offset 0
 4134 0068 7047     		bx	lr
 4135              		.cfi_endproc
 4136              	.LFE161:
 4138              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 4139              		.align	1
 4140              		.global	USB_EP0_OutStart
 4141              		.syntax unified
 4142              		.thumb
 4143              		.thumb_func
ARM GAS  /tmp/cchFjZSQ.s 			page 95


 4144              		.fpu fpv4-sp-d16
 4146              	USB_EP0_OutStart:
 4147              	.LFB162:
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4148              		.loc 1 1273 0
 4149              		.cfi_startproc
 4150              		@ args = 0, pretend = 0, frame = 24
 4151              		@ frame_needed = 1, uses_anonymous_args = 0
 4152              		@ link register save eliminated.
 4153 0000 80B4     		push	{r7}
 4154              	.LCFI191:
 4155              		.cfi_def_cfa_offset 4
 4156              		.cfi_offset 7, -4
 4157 0002 87B0     		sub	sp, sp, #28
 4158              	.LCFI192:
 4159              		.cfi_def_cfa_offset 32
 4160 0004 00AF     		add	r7, sp, #0
 4161              	.LCFI193:
 4162              		.cfi_def_cfa_register 7
 4163 0006 F860     		str	r0, [r7, #12]
 4164 0008 0B46     		mov	r3, r1
 4165 000a 7A60     		str	r2, [r7, #4]
 4166 000c FB72     		strb	r3, [r7, #11]
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4167              		.loc 1 1274 0
 4168 000e FB68     		ldr	r3, [r7, #12]
 4169 0010 7B61     		str	r3, [r7, #20]
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
 4170              		.loc 1 1275 0
 4171 0012 FB68     		ldr	r3, [r7, #12]
 4172 0014 3C33     		adds	r3, r3, #60
 4173 0016 0433     		adds	r3, r3, #4
 4174 0018 1B68     		ldr	r3, [r3]
 4175 001a 3B61     		str	r3, [r7, #16]
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 4176              		.loc 1 1277 0
 4177 001c 3B69     		ldr	r3, [r7, #16]
 4178 001e 264A     		ldr	r2, .L195
 4179 0020 9342     		cmp	r3, r2
 4180 0022 0AD9     		bls	.L192
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 4181              		.loc 1 1279 0
 4182 0024 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cchFjZSQ.s 			page 96


 4183 0026 03F53063 		add	r3, r3, #2816
 4184 002a 1B68     		ldr	r3, [r3]
 4185 002c 03F00043 		and	r3, r3, #-2147483648
 4186 0030 B3F1004F 		cmp	r3, #-2147483648
 4187 0034 01D1     		bne	.L192
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 4188              		.loc 1 1281 0
 4189 0036 0023     		movs	r3, #0
 4190 0038 37E0     		b	.L193
 4191              	.L192:
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 4192              		.loc 1 1285 0
 4193 003a 7B69     		ldr	r3, [r7, #20]
 4194 003c 03F53063 		add	r3, r3, #2816
 4195 0040 1A46     		mov	r2, r3
 4196 0042 0023     		movs	r3, #0
 4197 0044 1361     		str	r3, [r2, #16]
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 4198              		.loc 1 1286 0
 4199 0046 7B69     		ldr	r3, [r7, #20]
 4200 0048 03F53063 		add	r3, r3, #2816
 4201 004c 1B69     		ldr	r3, [r3, #16]
 4202 004e 7A69     		ldr	r2, [r7, #20]
 4203 0050 02F53062 		add	r2, r2, #2816
 4204 0054 43F40023 		orr	r3, r3, #524288
 4205 0058 1361     		str	r3, [r2, #16]
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 4206              		.loc 1 1287 0
 4207 005a 7B69     		ldr	r3, [r7, #20]
 4208 005c 03F53063 		add	r3, r3, #2816
 4209 0060 1B69     		ldr	r3, [r3, #16]
 4210 0062 7A69     		ldr	r2, [r7, #20]
 4211 0064 02F53062 		add	r2, r2, #2816
 4212 0068 43F01803 		orr	r3, r3, #24
 4213 006c 1361     		str	r3, [r2, #16]
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 4214              		.loc 1 1288 0
 4215 006e 7B69     		ldr	r3, [r7, #20]
 4216 0070 03F53063 		add	r3, r3, #2816
 4217 0074 1B69     		ldr	r3, [r3, #16]
 4218 0076 7A69     		ldr	r2, [r7, #20]
 4219 0078 02F53062 		add	r2, r2, #2816
 4220 007c 43F0C043 		orr	r3, r3, #1610612736
 4221 0080 1361     		str	r3, [r2, #16]
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
 4222              		.loc 1 1290 0
 4223 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4224 0084 012B     		cmp	r3, #1
 4225 0086 0FD1     		bne	.L194
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 4226              		.loc 1 1292 0
ARM GAS  /tmp/cchFjZSQ.s 			page 97


 4227 0088 7B69     		ldr	r3, [r7, #20]
 4228 008a 03F53063 		add	r3, r3, #2816
 4229 008e 1A46     		mov	r2, r3
 4230 0090 7B68     		ldr	r3, [r7, #4]
 4231 0092 5361     		str	r3, [r2, #20]
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL |= USB_OTG_DOEPCTL_EPENA | USB_OTG_DOEPCTL_USBAEP;
 4232              		.loc 1 1294 0
 4233 0094 7B69     		ldr	r3, [r7, #20]
 4234 0096 03F53063 		add	r3, r3, #2816
 4235 009a 1B68     		ldr	r3, [r3]
 4236 009c 7A69     		ldr	r2, [r7, #20]
 4237 009e 02F53062 		add	r2, r2, #2816
 4238 00a2 43F08023 		orr	r3, r3, #-2147450880
 4239 00a6 1360     		str	r3, [r2]
 4240              	.L194:
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4241              		.loc 1 1297 0
 4242 00a8 0023     		movs	r3, #0
 4243              	.L193:
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4244              		.loc 1 1298 0
 4245 00aa 1846     		mov	r0, r3
 4246 00ac 1C37     		adds	r7, r7, #28
 4247              	.LCFI194:
 4248              		.cfi_def_cfa_offset 4
 4249 00ae BD46     		mov	sp, r7
 4250              	.LCFI195:
 4251              		.cfi_def_cfa_register 13
 4252              		@ sp needed
 4253 00b0 5DF8047B 		ldr	r7, [sp], #4
 4254              	.LCFI196:
 4255              		.cfi_restore 7
 4256              		.cfi_def_cfa_offset 0
 4257 00b4 7047     		bx	lr
 4258              	.L196:
 4259 00b6 00BF     		.align	2
 4260              	.L195:
 4261 00b8 0A30544F 		.word	1330917386
 4262              		.cfi_endproc
 4263              	.LFE162:
 4265              		.section	.text.USB_CoreReset,"ax",%progbits
 4266              		.align	1
 4267              		.syntax unified
 4268              		.thumb
 4269              		.thumb_func
 4270              		.fpu fpv4-sp-d16
 4272              	USB_CoreReset:
 4273              	.LFB163:
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
ARM GAS  /tmp/cchFjZSQ.s 			page 98


1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4274              		.loc 1 1306 0
 4275              		.cfi_startproc
 4276              		@ args = 0, pretend = 0, frame = 16
 4277              		@ frame_needed = 1, uses_anonymous_args = 0
 4278              		@ link register save eliminated.
 4279 0000 80B4     		push	{r7}
 4280              	.LCFI197:
 4281              		.cfi_def_cfa_offset 4
 4282              		.cfi_offset 7, -4
 4283 0002 85B0     		sub	sp, sp, #20
 4284              	.LCFI198:
 4285              		.cfi_def_cfa_offset 24
 4286 0004 00AF     		add	r7, sp, #0
 4287              	.LCFI199:
 4288              		.cfi_def_cfa_register 7
 4289 0006 7860     		str	r0, [r7, #4]
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 4290              		.loc 1 1307 0
 4291 0008 0023     		movs	r3, #0
 4292 000a FB60     		str	r3, [r7, #12]
 4293              	.L200:
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 4294              		.loc 1 1312 0
 4295 000c FB68     		ldr	r3, [r7, #12]
 4296 000e 0133     		adds	r3, r3, #1
 4297 0010 FB60     		str	r3, [r7, #12]
 4298 0012 FB68     		ldr	r3, [r7, #12]
 4299 0014 134A     		ldr	r2, .L203
 4300 0016 9342     		cmp	r3, r2
 4301 0018 01D9     		bls	.L198
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4302              		.loc 1 1314 0
 4303 001a 0323     		movs	r3, #3
 4304 001c 1BE0     		b	.L199
 4305              	.L198:
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 4306              		.loc 1 1317 0
 4307 001e 7B68     		ldr	r3, [r7, #4]
 4308 0020 1B69     		ldr	r3, [r3, #16]
 4309 0022 002B     		cmp	r3, #0
 4310 0024 F2DA     		bge	.L200
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 4311              		.loc 1 1320 0
 4312 0026 0023     		movs	r3, #0
 4313 0028 FB60     		str	r3, [r7, #12]
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
ARM GAS  /tmp/cchFjZSQ.s 			page 99


 4314              		.loc 1 1321 0
 4315 002a 7B68     		ldr	r3, [r7, #4]
 4316 002c 1B69     		ldr	r3, [r3, #16]
 4317 002e 43F00102 		orr	r2, r3, #1
 4318 0032 7B68     		ldr	r3, [r7, #4]
 4319 0034 1A61     		str	r2, [r3, #16]
 4320              	.L202:
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 4321              		.loc 1 1325 0
 4322 0036 FB68     		ldr	r3, [r7, #12]
 4323 0038 0133     		adds	r3, r3, #1
 4324 003a FB60     		str	r3, [r7, #12]
 4325 003c FB68     		ldr	r3, [r7, #12]
 4326 003e 094A     		ldr	r2, .L203
 4327 0040 9342     		cmp	r3, r2
 4328 0042 01D9     		bls	.L201
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4329              		.loc 1 1327 0
 4330 0044 0323     		movs	r3, #3
 4331 0046 06E0     		b	.L199
 4332              	.L201:
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 4333              		.loc 1 1330 0
 4334 0048 7B68     		ldr	r3, [r7, #4]
 4335 004a 1B69     		ldr	r3, [r3, #16]
 4336 004c 03F00103 		and	r3, r3, #1
 4337 0050 012B     		cmp	r3, #1
 4338 0052 F0D0     		beq	.L202
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4339              		.loc 1 1332 0
 4340 0054 0023     		movs	r3, #0
 4341              	.L199:
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4342              		.loc 1 1333 0
 4343 0056 1846     		mov	r0, r3
 4344 0058 1437     		adds	r7, r7, #20
 4345              	.LCFI200:
 4346              		.cfi_def_cfa_offset 4
 4347 005a BD46     		mov	sp, r7
 4348              	.LCFI201:
 4349              		.cfi_def_cfa_register 13
 4350              		@ sp needed
 4351 005c 5DF8047B 		ldr	r7, [sp], #4
 4352              	.LCFI202:
 4353              		.cfi_restore 7
 4354              		.cfi_def_cfa_offset 0
 4355 0060 7047     		bx	lr
 4356              	.L204:
 4357 0062 00BF     		.align	2
 4358              	.L203:
ARM GAS  /tmp/cchFjZSQ.s 			page 100


 4359 0064 400D0300 		.word	200000
 4360              		.cfi_endproc
 4361              	.LFE163:
 4363              		.section	.text.USB_HostInit,"ax",%progbits
 4364              		.align	1
 4365              		.global	USB_HostInit
 4366              		.syntax unified
 4367              		.thumb
 4368              		.thumb_func
 4369              		.fpu fpv4-sp-d16
 4371              	USB_HostInit:
 4372              	.LFB164:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4373              		.loc 1 1344 0
 4374              		.cfi_startproc
 4375              		@ args = 56, pretend = 16, frame = 16
 4376              		@ frame_needed = 1, uses_anonymous_args = 0
 4377 0000 84B0     		sub	sp, sp, #16
 4378              	.LCFI203:
 4379              		.cfi_def_cfa_offset 16
 4380 0002 80B5     		push	{r7, lr}
 4381              	.LCFI204:
 4382              		.cfi_def_cfa_offset 24
 4383              		.cfi_offset 7, -24
 4384              		.cfi_offset 14, -20
 4385 0004 84B0     		sub	sp, sp, #16
 4386              	.LCFI205:
 4387              		.cfi_def_cfa_offset 40
 4388 0006 00AF     		add	r7, sp, #0
 4389              	.LCFI206:
 4390              		.cfi_def_cfa_register 7
 4391 0008 7860     		str	r0, [r7, #4]
 4392 000a 07F11C00 		add	r0, r7, #28
 4393 000e 80E80E00 		stm	r0, {r1, r2, r3}
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4394              		.loc 1 1345 0
 4395 0012 7B68     		ldr	r3, [r7, #4]
 4396 0014 BB60     		str	r3, [r7, #8]
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 4397              		.loc 1 1349 0
 4398 0016 BB68     		ldr	r3, [r7, #8]
 4399 0018 03F56063 		add	r3, r3, #3584
 4400 001c 1A46     		mov	r2, r3
 4401 001e 0023     		movs	r3, #0
ARM GAS  /tmp/cchFjZSQ.s 			page 101


 4402 0020 1360     		str	r3, [r2]
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable HW VBUS sensing */
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Disable HW VBUS sensing. VBUS is internally considered to be always
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * at VBUS-Valid level (5V).
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 4403              		.loc 1 1359 0
 4404 0022 7B68     		ldr	r3, [r7, #4]
 4405 0024 9B6B     		ldr	r3, [r3, #56]
 4406 0026 43F40012 		orr	r2, r3, #2097152
 4407 002a 7B68     		ldr	r3, [r7, #4]
 4408 002c 9A63     		str	r2, [r3, #56]
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 4409              		.loc 1 1360 0
 4410 002e 7B68     		ldr	r3, [r7, #4]
 4411 0030 9B6B     		ldr	r3, [r3, #56]
 4412 0032 23F40022 		bic	r2, r3, #524288
 4413 0036 7B68     		ldr	r3, [r7, #4]
 4414 0038 9A63     		str	r2, [r3, #56]
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 4415              		.loc 1 1361 0
 4416 003a 7B68     		ldr	r3, [r7, #4]
 4417 003c 9B6B     		ldr	r3, [r3, #56]
 4418 003e 23F48022 		bic	r2, r3, #262144
 4419 0042 7B68     		ldr	r3, [r7, #4]
 4420 0044 9A63     		str	r2, [r3, #56]
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412Cx) ||
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 4421              		.loc 1 1368 0
 4422 0046 7B68     		ldr	r3, [r7, #4]
 4423 0048 DB6B     		ldr	r3, [r3, #60]
 4424 004a 03F48073 		and	r3, r3, #256
 4425 004e 002B     		cmp	r3, #0
 4426 0050 18D0     		beq	.L206
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USB_OTG_SPEED_FULL)
 4427              		.loc 1 1370 0
 4428 0052 7B6A     		ldr	r3, [r7, #36]
 4429 0054 032B     		cmp	r3, #3
 4430 0056 0AD1     		bne	.L207
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Force Device Enumeration to FS/LS mode only */
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS;
 4431              		.loc 1 1373 0
 4432 0058 BB68     		ldr	r3, [r7, #8]
 4433 005a 03F58063 		add	r3, r3, #1024
 4434 005e 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/cchFjZSQ.s 			page 102


 4435 0060 BA68     		ldr	r2, [r7, #8]
 4436 0062 02F58062 		add	r2, r2, #1024
 4437 0066 43F00403 		orr	r3, r3, #4
 4438 006a 1360     		str	r3, [r2]
 4439 006c 14E0     		b	.L209
 4440              	.L207:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set default Max speed support */
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 4441              		.loc 1 1378 0
 4442 006e BB68     		ldr	r3, [r7, #8]
 4443 0070 03F58063 		add	r3, r3, #1024
 4444 0074 1B68     		ldr	r3, [r3]
 4445 0076 BA68     		ldr	r2, [r7, #8]
 4446 0078 02F58062 		add	r2, r2, #1024
 4447 007c 23F00403 		bic	r3, r3, #4
 4448 0080 1360     		str	r3, [r2]
 4449 0082 09E0     		b	.L209
 4450              	.L206:
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set default Max speed support */
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 4451              		.loc 1 1384 0
 4452 0084 BB68     		ldr	r3, [r7, #8]
 4453 0086 03F58063 		add	r3, r3, #1024
 4454 008a 1B68     		ldr	r3, [r3]
 4455 008c BA68     		ldr	r2, [r7, #8]
 4456 008e 02F58062 		add	r2, r2, #1024
 4457 0092 23F00403 		bic	r3, r3, #4
 4458 0096 1360     		str	r3, [r2]
 4459              	.L209:
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushTxFifo(USBx, 0x10U); /* all Tx FIFOs */
 4460              		.loc 1 1388 0
 4461 0098 1021     		movs	r1, #16
 4462 009a 7868     		ldr	r0, [r7, #4]
 4463 009c FFF7FEFF 		bl	USB_FlushTxFifo
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushRxFifo(USBx);
 4464              		.loc 1 1389 0
 4465 00a0 7868     		ldr	r0, [r7, #4]
 4466 00a2 FFF7FEFF 		bl	USB_FlushRxFifo
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 4467              		.loc 1 1392 0
 4468 00a6 0023     		movs	r3, #0
 4469 00a8 FB60     		str	r3, [r7, #12]
 4470 00aa 15E0     		b	.L210
 4471              	.L211:
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/cchFjZSQ.s 			page 103


1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 4472              		.loc 1 1394 0 discriminator 3
 4473 00ac FB68     		ldr	r3, [r7, #12]
 4474 00ae 5A01     		lsls	r2, r3, #5
 4475 00b0 BB68     		ldr	r3, [r7, #8]
 4476 00b2 1344     		add	r3, r3, r2
 4477 00b4 03F5A063 		add	r3, r3, #1280
 4478 00b8 1A46     		mov	r2, r3
 4479 00ba 4FF0FF33 		mov	r3, #-1
 4480 00be 9360     		str	r3, [r2, #8]
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 4481              		.loc 1 1395 0 discriminator 3
 4482 00c0 FB68     		ldr	r3, [r7, #12]
 4483 00c2 5A01     		lsls	r2, r3, #5
 4484 00c4 BB68     		ldr	r3, [r7, #8]
 4485 00c6 1344     		add	r3, r3, r2
 4486 00c8 03F5A063 		add	r3, r3, #1280
 4487 00cc 1A46     		mov	r2, r3
 4488 00ce 0023     		movs	r3, #0
 4489 00d0 D360     		str	r3, [r2, #12]
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4490              		.loc 1 1392 0 discriminator 3
 4491 00d2 FB68     		ldr	r3, [r7, #12]
 4492 00d4 0133     		adds	r3, r3, #1
 4493 00d6 FB60     		str	r3, [r7, #12]
 4494              	.L210:
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4495              		.loc 1 1392 0 is_stmt 0 discriminator 1
 4496 00d8 3B6A     		ldr	r3, [r7, #32]
 4497 00da FA68     		ldr	r2, [r7, #12]
 4498 00dc 9A42     		cmp	r2, r3
 4499 00de E5D3     		bcc	.L211
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable VBUS driving */
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DriveVbus(USBx, 1U);
 4500              		.loc 1 1399 0 is_stmt 1
 4501 00e0 0121     		movs	r1, #1
 4502 00e2 7868     		ldr	r0, [r7, #4]
 4503 00e4 FFF7FEFF 		bl	USB_DriveVbus
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(200U);
 4504              		.loc 1 1401 0
 4505 00e8 C820     		movs	r0, #200
 4506 00ea FFF7FEFF 		bl	HAL_Delay
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 4507              		.loc 1 1404 0
 4508 00ee 7B68     		ldr	r3, [r7, #4]
 4509 00f0 0022     		movs	r2, #0
 4510 00f2 9A61     		str	r2, [r3, #24]
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 4511              		.loc 1 1407 0
 4512 00f4 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cchFjZSQ.s 			page 104


 4513 00f6 4FF0FF32 		mov	r2, #-1
 4514 00fa 5A61     		str	r2, [r3, #20]
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 4515              		.loc 1 1409 0
 4516 00fc 7B68     		ldr	r3, [r7, #4]
 4517 00fe DB6B     		ldr	r3, [r3, #60]
 4518 0100 03F48073 		and	r3, r3, #256
 4519 0104 002B     		cmp	r3, #0
 4520 0106 0BD0     		beq	.L212
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U;
 4521              		.loc 1 1412 0
 4522 0108 7B68     		ldr	r3, [r7, #4]
 4523 010a 4FF40072 		mov	r2, #512
 4524 010e 5A62     		str	r2, [r3, #36]
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x100U << 16) & USB_OTG_NPTXFD) | 0x200U);
 4525              		.loc 1 1413 0
 4526 0110 7B68     		ldr	r3, [r7, #4]
 4527 0112 144A     		ldr	r2, .L216
 4528 0114 9A62     		str	r2, [r3, #40]
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0xE0U << 16) & USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 4529              		.loc 1 1414 0
 4530 0116 7B68     		ldr	r3, [r7, #4]
 4531 0118 134A     		ldr	r2, .L216+4
 4532 011a C3F80021 		str	r2, [r3, #256]
 4533 011e 09E0     		b	.L213
 4534              	.L212:
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U;
 4535              		.loc 1 1419 0
 4536 0120 7B68     		ldr	r3, [r7, #4]
 4537 0122 8022     		movs	r2, #128
 4538 0124 5A62     		str	r2, [r3, #36]
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
 4539              		.loc 1 1420 0
 4540 0126 7B68     		ldr	r3, [r7, #4]
 4541 0128 104A     		ldr	r2, .L216+8
 4542 012a 9A62     		str	r2, [r3, #40]
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 4543              		.loc 1 1421 0
 4544 012c 7B68     		ldr	r3, [r7, #4]
 4545 012e 104A     		ldr	r2, .L216+12
 4546 0130 C3F80021 		str	r2, [r3, #256]
 4547              	.L213:
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 4548              		.loc 1 1425 0
 4549 0134 BB6A     		ldr	r3, [r7, #40]
 4550 0136 002B     		cmp	r3, #0
 4551 0138 05D1     		bne	.L214
ARM GAS  /tmp/cchFjZSQ.s 			page 105


1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 4552              		.loc 1 1427 0
 4553 013a 7B68     		ldr	r3, [r7, #4]
 4554 013c 9B69     		ldr	r3, [r3, #24]
 4555 013e 43F01002 		orr	r2, r3, #16
 4556 0142 7B68     		ldr	r3, [r7, #4]
 4557 0144 9A61     		str	r2, [r3, #24]
 4558              	.L214:
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 4559              		.loc 1 1431 0
 4560 0146 7B68     		ldr	r3, [r7, #4]
 4561 0148 9A69     		ldr	r2, [r3, #24]
 4562 014a 0A4B     		ldr	r3, .L216+16
 4563 014c 1343     		orrs	r3, r3, r2
 4564 014e 7A68     		ldr	r2, [r7, #4]
 4565 0150 9361     		str	r3, [r2, #24]
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4566              		.loc 1 1435 0
 4567 0152 0023     		movs	r3, #0
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4568              		.loc 1 1436 0
 4569 0154 1846     		mov	r0, r3
 4570 0156 1037     		adds	r7, r7, #16
 4571              	.LCFI207:
 4572              		.cfi_def_cfa_offset 24
 4573 0158 BD46     		mov	sp, r7
 4574              	.LCFI208:
 4575              		.cfi_def_cfa_register 13
 4576              		@ sp needed
 4577 015a BDE88040 		pop	{r7, lr}
 4578              	.LCFI209:
 4579              		.cfi_restore 14
 4580              		.cfi_restore 7
 4581              		.cfi_def_cfa_offset 16
 4582 015e 04B0     		add	sp, sp, #16
 4583              	.LCFI210:
 4584              		.cfi_def_cfa_offset 0
 4585 0160 7047     		bx	lr
 4586              	.L217:
 4587 0162 00BF     		.align	2
 4588              	.L216:
 4589 0164 00020001 		.word	16777728
 4590 0168 0003E000 		.word	14680832
 4591 016c 80006000 		.word	6291584
 4592 0170 E0004000 		.word	4194528
 4593 0174 080020A3 		.word	-1558183928
 4594              		.cfi_endproc
 4595              	.LFE164:
 4597              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 4598              		.align	1
ARM GAS  /tmp/cchFjZSQ.s 			page 106


 4599              		.global	USB_InitFSLSPClkSel
 4600              		.syntax unified
 4601              		.thumb
 4602              		.thumb_func
 4603              		.fpu fpv4-sp-d16
 4605              	USB_InitFSLSPClkSel:
 4606              	.LFB165:
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq  clock frequency
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4607              		.loc 1 1449 0
 4608              		.cfi_startproc
 4609              		@ args = 0, pretend = 0, frame = 16
 4610              		@ frame_needed = 1, uses_anonymous_args = 0
 4611              		@ link register save eliminated.
 4612 0000 80B4     		push	{r7}
 4613              	.LCFI211:
 4614              		.cfi_def_cfa_offset 4
 4615              		.cfi_offset 7, -4
 4616 0002 85B0     		sub	sp, sp, #20
 4617              	.LCFI212:
 4618              		.cfi_def_cfa_offset 24
 4619 0004 00AF     		add	r7, sp, #0
 4620              	.LCFI213:
 4621              		.cfi_def_cfa_register 7
 4622 0006 7860     		str	r0, [r7, #4]
 4623 0008 0B46     		mov	r3, r1
 4624 000a FB70     		strb	r3, [r7, #3]
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4625              		.loc 1 1450 0
 4626 000c 7B68     		ldr	r3, [r7, #4]
 4627 000e FB60     		str	r3, [r7, #12]
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 4628              		.loc 1 1452 0
 4629 0010 FB68     		ldr	r3, [r7, #12]
 4630 0012 03F58063 		add	r3, r3, #1024
 4631 0016 1B68     		ldr	r3, [r3]
 4632 0018 FA68     		ldr	r2, [r7, #12]
 4633 001a 02F58062 		add	r2, r2, #1024
 4634 001e 23F00303 		bic	r3, r3, #3
 4635 0022 1360     		str	r3, [r2]
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 4636              		.loc 1 1453 0
 4637 0024 FB68     		ldr	r3, [r7, #12]
 4638 0026 03F58063 		add	r3, r3, #1024
 4639 002a 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/cchFjZSQ.s 			page 107


 4640 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4641 002e 03F00303 		and	r3, r3, #3
 4642 0032 F968     		ldr	r1, [r7, #12]
 4643 0034 01F58061 		add	r1, r1, #1024
 4644 0038 1343     		orrs	r3, r3, r2
 4645 003a 0B60     		str	r3, [r1]
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 4646              		.loc 1 1455 0
 4647 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4648 003e 012B     		cmp	r3, #1
 4649 0040 07D1     		bne	.L219
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 4650              		.loc 1 1457 0
 4651 0042 FB68     		ldr	r3, [r7, #12]
 4652 0044 03F58063 		add	r3, r3, #1024
 4653 0048 1A46     		mov	r2, r3
 4654 004a 4BF68033 		movw	r3, #48000
 4655 004e 5360     		str	r3, [r2, #4]
 4656 0050 09E0     		b	.L220
 4657              	.L219:
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 4658              		.loc 1 1459 0
 4659 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4660 0054 022B     		cmp	r3, #2
 4661 0056 06D1     		bne	.L220
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 4662              		.loc 1 1461 0
 4663 0058 FB68     		ldr	r3, [r7, #12]
 4664 005a 03F58063 		add	r3, r3, #1024
 4665 005e 1A46     		mov	r2, r3
 4666 0060 41F27073 		movw	r3, #6000
 4667 0064 5360     		str	r3, [r2, #4]
 4668              	.L220:
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* ... */
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4669              		.loc 1 1468 0
 4670 0066 0023     		movs	r3, #0
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4671              		.loc 1 1469 0
 4672 0068 1846     		mov	r0, r3
 4673 006a 1437     		adds	r7, r7, #20
 4674              	.LCFI214:
 4675              		.cfi_def_cfa_offset 4
 4676 006c BD46     		mov	sp, r7
 4677              	.LCFI215:
 4678              		.cfi_def_cfa_register 13
 4679              		@ sp needed
 4680 006e 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  /tmp/cchFjZSQ.s 			page 108


 4681              	.LCFI216:
 4682              		.cfi_restore 7
 4683              		.cfi_def_cfa_offset 0
 4684 0072 7047     		bx	lr
 4685              		.cfi_endproc
 4686              	.LFE165:
 4688              		.section	.text.USB_ResetPort,"ax",%progbits
 4689              		.align	1
 4690              		.global	USB_ResetPort
 4691              		.syntax unified
 4692              		.thumb
 4693              		.thumb_func
 4694              		.fpu fpv4-sp-d16
 4696              	USB_ResetPort:
 4697              	.LFB166:
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** * @brief  USB_OTG_ResetPort : Reset Host Port
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4698              		.loc 1 1479 0
 4699              		.cfi_startproc
 4700              		@ args = 0, pretend = 0, frame = 16
 4701              		@ frame_needed = 1, uses_anonymous_args = 0
 4702 0000 80B5     		push	{r7, lr}
 4703              	.LCFI217:
 4704              		.cfi_def_cfa_offset 8
 4705              		.cfi_offset 7, -8
 4706              		.cfi_offset 14, -4
 4707 0002 84B0     		sub	sp, sp, #16
 4708              	.LCFI218:
 4709              		.cfi_def_cfa_offset 24
 4710 0004 00AF     		add	r7, sp, #0
 4711              	.LCFI219:
 4712              		.cfi_def_cfa_register 7
 4713 0006 7860     		str	r0, [r7, #4]
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4714              		.loc 1 1480 0
 4715 0008 7B68     		ldr	r3, [r7, #4]
 4716 000a FB60     		str	r3, [r7, #12]
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 4717              		.loc 1 1482 0
 4718 000c 0023     		movs	r3, #0
 4719 000e BB60     		str	r3, [r7, #8]
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4720              		.loc 1 1484 0
 4721 0010 FB68     		ldr	r3, [r7, #12]
 4722 0012 03F58863 		add	r3, r3, #1088
 4723 0016 1B68     		ldr	r3, [r3]
 4724 0018 BB60     		str	r3, [r7, #8]
ARM GAS  /tmp/cchFjZSQ.s 			page 109


1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 4725              		.loc 1 1486 0
 4726 001a BB68     		ldr	r3, [r7, #8]
 4727 001c 23F02E03 		bic	r3, r3, #46
 4728 0020 BB60     		str	r3, [r7, #8]
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 4729              		.loc 1 1489 0
 4730 0022 BB68     		ldr	r3, [r7, #8]
 4731 0024 FA68     		ldr	r2, [r7, #12]
 4732 0026 02F58862 		add	r2, r2, #1088
 4733 002a 43F48073 		orr	r3, r3, #256
 4734 002e 1360     		str	r3, [r2]
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 4735              		.loc 1 1490 0
 4736 0030 6420     		movs	r0, #100
 4737 0032 FFF7FEFF 		bl	HAL_Delay
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 4738              		.loc 1 1491 0
 4739 0036 BB68     		ldr	r3, [r7, #8]
 4740 0038 FA68     		ldr	r2, [r7, #12]
 4741 003a 02F58862 		add	r2, r2, #1088
 4742 003e 23F48073 		bic	r3, r3, #256
 4743 0042 1360     		str	r3, [r2]
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(10U);
 4744              		.loc 1 1492 0
 4745 0044 0A20     		movs	r0, #10
 4746 0046 FFF7FEFF 		bl	HAL_Delay
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4747              		.loc 1 1494 0
 4748 004a 0023     		movs	r3, #0
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4749              		.loc 1 1495 0
 4750 004c 1846     		mov	r0, r3
 4751 004e 1037     		adds	r7, r7, #16
 4752              	.LCFI220:
 4753              		.cfi_def_cfa_offset 8
 4754 0050 BD46     		mov	sp, r7
 4755              	.LCFI221:
 4756              		.cfi_def_cfa_register 13
 4757              		@ sp needed
 4758 0052 80BD     		pop	{r7, pc}
 4759              		.cfi_endproc
 4760              	.LFE166:
 4762              		.section	.text.USB_DriveVbus,"ax",%progbits
 4763              		.align	1
 4764              		.global	USB_DriveVbus
 4765              		.syntax unified
 4766              		.thumb
 4767              		.thumb_func
 4768              		.fpu fpv4-sp-d16
 4770              	USB_DriveVbus:
 4771              	.LFB167:
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/cchFjZSQ.s 			page 110


1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state  VBUS state
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : VBUS Active
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : VBUS Inactive
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4772              		.loc 1 1506 0
 4773              		.cfi_startproc
 4774              		@ args = 0, pretend = 0, frame = 16
 4775              		@ frame_needed = 1, uses_anonymous_args = 0
 4776              		@ link register save eliminated.
 4777 0000 80B4     		push	{r7}
 4778              	.LCFI222:
 4779              		.cfi_def_cfa_offset 4
 4780              		.cfi_offset 7, -4
 4781 0002 85B0     		sub	sp, sp, #20
 4782              	.LCFI223:
 4783              		.cfi_def_cfa_offset 24
 4784 0004 00AF     		add	r7, sp, #0
 4785              	.LCFI224:
 4786              		.cfi_def_cfa_register 7
 4787 0006 7860     		str	r0, [r7, #4]
 4788 0008 0B46     		mov	r3, r1
 4789 000a FB70     		strb	r3, [r7, #3]
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4790              		.loc 1 1507 0
 4791 000c 7B68     		ldr	r3, [r7, #4]
 4792 000e FB60     		str	r3, [r7, #12]
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 4793              		.loc 1 1508 0
 4794 0010 0023     		movs	r3, #0
 4795 0012 BB60     		str	r3, [r7, #8]
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4796              		.loc 1 1510 0
 4797 0014 FB68     		ldr	r3, [r7, #12]
 4798 0016 03F58863 		add	r3, r3, #1088
 4799 001a 1B68     		ldr	r3, [r3]
 4800 001c BB60     		str	r3, [r7, #8]
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 4801              		.loc 1 1512 0
 4802 001e BB68     		ldr	r3, [r7, #8]
 4803 0020 23F02E03 		bic	r3, r3, #46
 4804 0024 BB60     		str	r3, [r7, #8]
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 4805              		.loc 1 1515 0
 4806 0026 BB68     		ldr	r3, [r7, #8]
 4807 0028 03F48053 		and	r3, r3, #4096
 4808 002c 002B     		cmp	r3, #0
 4809 002e 09D1     		bne	.L225
ARM GAS  /tmp/cchFjZSQ.s 			page 111


 4810              		.loc 1 1515 0 is_stmt 0 discriminator 1
 4811 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4812 0032 012B     		cmp	r3, #1
 4813 0034 06D1     		bne	.L225
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 4814              		.loc 1 1517 0 is_stmt 1
 4815 0036 BB68     		ldr	r3, [r7, #8]
 4816 0038 FA68     		ldr	r2, [r7, #12]
 4817 003a 02F58862 		add	r2, r2, #1088
 4818 003e 43F48053 		orr	r3, r3, #4096
 4819 0042 1360     		str	r3, [r2]
 4820              	.L225:
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 4821              		.loc 1 1519 0
 4822 0044 BB68     		ldr	r3, [r7, #8]
 4823 0046 03F48053 		and	r3, r3, #4096
 4824 004a B3F5805F 		cmp	r3, #4096
 4825 004e 09D1     		bne	.L226
 4826              		.loc 1 1519 0 is_stmt 0 discriminator 1
 4827 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4828 0052 002B     		cmp	r3, #0
 4829 0054 06D1     		bne	.L226
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 4830              		.loc 1 1521 0 is_stmt 1
 4831 0056 BB68     		ldr	r3, [r7, #8]
 4832 0058 FA68     		ldr	r2, [r7, #12]
 4833 005a 02F58862 		add	r2, r2, #1088
 4834 005e 23F48053 		bic	r3, r3, #4096
 4835 0062 1360     		str	r3, [r2]
 4836              	.L226:
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4837              		.loc 1 1523 0
 4838 0064 0023     		movs	r3, #0
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4839              		.loc 1 1524 0
 4840 0066 1846     		mov	r0, r3
 4841 0068 1437     		adds	r7, r7, #20
 4842              	.LCFI225:
 4843              		.cfi_def_cfa_offset 4
 4844 006a BD46     		mov	sp, r7
 4845              	.LCFI226:
 4846              		.cfi_def_cfa_register 13
 4847              		@ sp needed
 4848 006c 5DF8047B 		ldr	r7, [sp], #4
 4849              	.LCFI227:
 4850              		.cfi_restore 7
 4851              		.cfi_def_cfa_offset 0
 4852 0070 7047     		bx	lr
 4853              		.cfi_endproc
 4854              	.LFE167:
 4856              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 4857              		.align	1
 4858              		.global	USB_GetHostSpeed
ARM GAS  /tmp/cchFjZSQ.s 			page 112


 4859              		.syntax unified
 4860              		.thumb
 4861              		.thumb_func
 4862              		.fpu fpv4-sp-d16
 4864              	USB_GetHostSpeed:
 4865              	.LFB168:
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_HIGH: High speed mode
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4866              		.loc 1 1536 0
 4867              		.cfi_startproc
 4868              		@ args = 0, pretend = 0, frame = 16
 4869              		@ frame_needed = 1, uses_anonymous_args = 0
 4870              		@ link register save eliminated.
 4871 0000 80B4     		push	{r7}
 4872              	.LCFI228:
 4873              		.cfi_def_cfa_offset 4
 4874              		.cfi_offset 7, -4
 4875 0002 85B0     		sub	sp, sp, #20
 4876              	.LCFI229:
 4877              		.cfi_def_cfa_offset 24
 4878 0004 00AF     		add	r7, sp, #0
 4879              	.LCFI230:
 4880              		.cfi_def_cfa_register 7
 4881 0006 7860     		str	r0, [r7, #4]
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4882              		.loc 1 1537 0
 4883 0008 7B68     		ldr	r3, [r7, #4]
 4884 000a FB60     		str	r3, [r7, #12]
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 4885              		.loc 1 1538 0
 4886 000c 0023     		movs	r3, #0
 4887 000e BB60     		str	r3, [r7, #8]
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4888              		.loc 1 1540 0
 4889 0010 FB68     		ldr	r3, [r7, #12]
 4890 0012 03F58863 		add	r3, r3, #1088
 4891 0016 1B68     		ldr	r3, [r3]
 4892 0018 BB60     		str	r3, [r7, #8]
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 4893              		.loc 1 1541 0
 4894 001a BB68     		ldr	r3, [r7, #8]
 4895 001c 5B0C     		lsrs	r3, r3, #17
 4896 001e 03F00303 		and	r3, r3, #3
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4897              		.loc 1 1542 0
 4898 0022 1846     		mov	r0, r3
ARM GAS  /tmp/cchFjZSQ.s 			page 113


 4899 0024 1437     		adds	r7, r7, #20
 4900              	.LCFI231:
 4901              		.cfi_def_cfa_offset 4
 4902 0026 BD46     		mov	sp, r7
 4903              	.LCFI232:
 4904              		.cfi_def_cfa_register 13
 4905              		@ sp needed
 4906 0028 5DF8047B 		ldr	r7, [sp], #4
 4907              	.LCFI233:
 4908              		.cfi_restore 7
 4909              		.cfi_def_cfa_offset 0
 4910 002c 7047     		bx	lr
 4911              		.cfi_endproc
 4912              	.LFE168:
 4914              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 4915              		.align	1
 4916              		.global	USB_GetCurrentFrame
 4917              		.syntax unified
 4918              		.thumb
 4919              		.thumb_func
 4920              		.fpu fpv4-sp-d16
 4922              	USB_GetCurrentFrame:
 4923              	.LFB169:
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4924              		.loc 1 1550 0
 4925              		.cfi_startproc
 4926              		@ args = 0, pretend = 0, frame = 16
 4927              		@ frame_needed = 1, uses_anonymous_args = 0
 4928              		@ link register save eliminated.
 4929 0000 80B4     		push	{r7}
 4930              	.LCFI234:
 4931              		.cfi_def_cfa_offset 4
 4932              		.cfi_offset 7, -4
 4933 0002 85B0     		sub	sp, sp, #20
 4934              	.LCFI235:
 4935              		.cfi_def_cfa_offset 24
 4936 0004 00AF     		add	r7, sp, #0
 4937              	.LCFI236:
 4938              		.cfi_def_cfa_register 7
 4939 0006 7860     		str	r0, [r7, #4]
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4940              		.loc 1 1551 0
 4941 0008 7B68     		ldr	r3, [r7, #4]
 4942 000a FB60     		str	r3, [r7, #12]
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 4943              		.loc 1 1553 0
 4944 000c FB68     		ldr	r3, [r7, #12]
 4945 000e 03F58063 		add	r3, r3, #1024
 4946 0012 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/cchFjZSQ.s 			page 114


 4947 0014 9BB2     		uxth	r3, r3
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4948              		.loc 1 1554 0
 4949 0016 1846     		mov	r0, r3
 4950 0018 1437     		adds	r7, r7, #20
 4951              	.LCFI237:
 4952              		.cfi_def_cfa_offset 4
 4953 001a BD46     		mov	sp, r7
 4954              	.LCFI238:
 4955              		.cfi_def_cfa_register 13
 4956              		@ sp needed
 4957 001c 5DF8047B 		ldr	r7, [sp], #4
 4958              	.LCFI239:
 4959              		.cfi_restore 7
 4960              		.cfi_def_cfa_offset 0
 4961 0020 7047     		bx	lr
 4962              		.cfi_endproc
 4963              	.LFE169:
 4965              		.section	.text.USB_HC_Init,"ax",%progbits
 4966              		.align	1
 4967              		.global	USB_HC_Init
 4968              		.syntax unified
 4969              		.thumb
 4970              		.thumb_func
 4971              		.fpu fpv4-sp-d16
 4973              	USB_HC_Init:
 4974              	.LFB170:
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num  Channel number
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address  Current device address
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  Current device speed
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to32K
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx,
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ch_num,
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum,
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t dev_address,
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t speed,
ARM GAS  /tmp/cchFjZSQ.s 			page 115


1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type,
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint16_t mps)
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4975              		.loc 1 1587 0
 4976              		.cfi_startproc
 4977              		@ args = 12, pretend = 0, frame = 24
 4978              		@ frame_needed = 1, uses_anonymous_args = 0
 4979              		@ link register save eliminated.
 4980 0000 80B4     		push	{r7}
 4981              	.LCFI240:
 4982              		.cfi_def_cfa_offset 4
 4983              		.cfi_offset 7, -4
 4984 0002 87B0     		sub	sp, sp, #28
 4985              	.LCFI241:
 4986              		.cfi_def_cfa_offset 32
 4987 0004 00AF     		add	r7, sp, #0
 4988              	.LCFI242:
 4989              		.cfi_def_cfa_register 7
 4990 0006 7860     		str	r0, [r7, #4]
 4991 0008 0846     		mov	r0, r1
 4992 000a 1146     		mov	r1, r2
 4993 000c 1A46     		mov	r2, r3
 4994 000e 0346     		mov	r3, r0
 4995 0010 FB70     		strb	r3, [r7, #3]
 4996 0012 0B46     		mov	r3, r1
 4997 0014 BB70     		strb	r3, [r7, #2]
 4998 0016 1346     		mov	r3, r2
 4999 0018 7B70     		strb	r3, [r7, #1]
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5000              		.loc 1 1588 0
 5001 001a 0023     		movs	r3, #0
 5002 001c FB75     		strb	r3, [r7, #23]
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5003              		.loc 1 1589 0
 5004 001e 7B68     		ldr	r3, [r7, #4]
 5005 0020 BB60     		str	r3, [r7, #8]
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharEpDir, HCcharLowSpeed;
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
 5006              		.loc 1 1593 0
 5007 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5008 0024 5A01     		lsls	r2, r3, #5
 5009 0026 BB68     		ldr	r3, [r7, #8]
 5010 0028 1344     		add	r3, r3, r2
 5011 002a 03F5A063 		add	r3, r3, #1280
 5012 002e 1A46     		mov	r2, r3
 5013 0030 4FF0FF33 		mov	r3, #-1
 5014 0034 9360     		str	r3, [r2, #8]
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type)
 5015              		.loc 1 1596 0
 5016 0036 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 5017 003a 032B     		cmp	r3, #3
 5018 003c 7ED8     		bhi	.L233
 5019 003e 01A2     		adr	r2, .L235
ARM GAS  /tmp/cchFjZSQ.s 			page 116


 5020 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5021              		.p2align 2
 5022              	.L235:
 5023 0044 55000000 		.word	.L234+1
 5024 0048 FF000000 		.word	.L236+1
 5025 004c 55000000 		.word	.L234+1
 5026 0050 C1000000 		.word	.L237+1
 5027              		.p2align 1
 5028              	.L234:
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_BULK:
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5029              		.loc 1 1600 0
 5030 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5031 0056 5A01     		lsls	r2, r3, #5
 5032 0058 BB68     		ldr	r3, [r7, #8]
 5033 005a 1344     		add	r3, r3, r2
 5034 005c 03F5A063 		add	r3, r3, #1280
 5035 0060 1A46     		mov	r2, r3
 5036 0062 40F29D43 		movw	r3, #1181
 5037 0066 D360     		str	r3, [r2, #12]
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5038              		.loc 1 1607 0
 5039 0068 97F90230 		ldrsb	r3, [r7, #2]
 5040 006c 002B     		cmp	r3, #0
 5041 006e 10DA     		bge	.L238
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5042              		.loc 1 1609 0
 5043 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5044 0072 5A01     		lsls	r2, r3, #5
 5045 0074 BB68     		ldr	r3, [r7, #8]
 5046 0076 1344     		add	r3, r3, r2
 5047 0078 03F5A063 		add	r3, r3, #1280
 5048 007c DB68     		ldr	r3, [r3, #12]
 5049 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5050 0080 5101     		lsls	r1, r2, #5
 5051 0082 BA68     		ldr	r2, [r7, #8]
 5052 0084 0A44     		add	r2, r2, r1
 5053 0086 02F5A062 		add	r2, r2, #1280
 5054 008a 43F48073 		orr	r3, r3, #256
 5055 008e D360     		str	r3, [r2, #12]
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx->CID & (0x1U << 8)) != 0U)
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
ARM GAS  /tmp/cchFjZSQ.s 			page 117


1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5056              		.loc 1 1618 0
 5057 0090 57E0     		b	.L249
 5058              	.L238:
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5059              		.loc 1 1613 0
 5060 0092 7B68     		ldr	r3, [r7, #4]
 5061 0094 DB6B     		ldr	r3, [r3, #60]
 5062 0096 03F48073 		and	r3, r3, #256
 5063 009a 002B     		cmp	r3, #0
 5064 009c 51D0     		beq	.L249
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5065              		.loc 1 1615 0
 5066 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5067 00a0 5A01     		lsls	r2, r3, #5
 5068 00a2 BB68     		ldr	r3, [r7, #8]
 5069 00a4 1344     		add	r3, r3, r2
 5070 00a6 03F5A063 		add	r3, r3, #1280
 5071 00aa DB68     		ldr	r3, [r3, #12]
 5072 00ac FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5073 00ae 5101     		lsls	r1, r2, #5
 5074 00b0 BA68     		ldr	r2, [r7, #8]
 5075 00b2 0A44     		add	r2, r2, r1
 5076 00b4 02F5A062 		add	r2, r2, #1280
 5077 00b8 43F06003 		orr	r3, r3, #96
 5078 00bc D360     		str	r3, [r2, #12]
 5079              		.loc 1 1618 0
 5080 00be 40E0     		b	.L249
 5081              	.L237:
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_INTR:
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5082              		.loc 1 1621 0
 5083 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5084 00c2 5A01     		lsls	r2, r3, #5
 5085 00c4 BB68     		ldr	r3, [r7, #8]
 5086 00c6 1344     		add	r3, r3, r2
 5087 00c8 03F5A063 		add	r3, r3, #1280
 5088 00cc 1A46     		mov	r2, r3
 5089 00ce 40F29D63 		movw	r3, #1693
 5090 00d2 D360     		str	r3, [r2, #12]
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5091              		.loc 1 1629 0
 5092 00d4 97F90230 		ldrsb	r3, [r7, #2]
 5093 00d8 002B     		cmp	r3, #0
 5094 00da 34DA     		bge	.L250
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5095              		.loc 1 1631 0
 5096 00dc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/cchFjZSQ.s 			page 118


 5097 00de 5A01     		lsls	r2, r3, #5
 5098 00e0 BB68     		ldr	r3, [r7, #8]
 5099 00e2 1344     		add	r3, r3, r2
 5100 00e4 03F5A063 		add	r3, r3, #1280
 5101 00e8 DB68     		ldr	r3, [r3, #12]
 5102 00ea FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5103 00ec 5101     		lsls	r1, r2, #5
 5104 00ee BA68     		ldr	r2, [r7, #8]
 5105 00f0 0A44     		add	r2, r2, r1
 5106 00f2 02F5A062 		add	r2, r2, #1280
 5107 00f6 43F48073 		orr	r3, r3, #256
 5108 00fa D360     		str	r3, [r2, #12]
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5109              		.loc 1 1634 0
 5110 00fc 23E0     		b	.L250
 5111              	.L236:
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_ISOC:
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5112              		.loc 1 1637 0
 5113 00fe FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5114 0100 5A01     		lsls	r2, r3, #5
 5115 0102 BB68     		ldr	r3, [r7, #8]
 5116 0104 1344     		add	r3, r3, r2
 5117 0106 03F5A063 		add	r3, r3, #1280
 5118 010a 1A46     		mov	r2, r3
 5119 010c 40F22523 		movw	r3, #549
 5120 0110 D360     		str	r3, [r2, #12]
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5121              		.loc 1 1642 0
 5122 0112 97F90230 		ldrsb	r3, [r7, #2]
 5123 0116 002B     		cmp	r3, #0
 5124 0118 17DA     		bge	.L251
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 5125              		.loc 1 1644 0
 5126 011a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5127 011c 5A01     		lsls	r2, r3, #5
 5128 011e BB68     		ldr	r3, [r7, #8]
 5129 0120 1344     		add	r3, r3, r2
 5130 0122 03F5A063 		add	r3, r3, #1280
 5131 0126 DB68     		ldr	r3, [r3, #12]
 5132 0128 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5133 012a 5101     		lsls	r1, r2, #5
 5134 012c BA68     		ldr	r2, [r7, #8]
 5135 012e 0A44     		add	r2, r2, r1
 5136 0130 02F5A062 		add	r2, r2, #1280
 5137 0134 43F4C073 		orr	r3, r3, #384
 5138 0138 D360     		str	r3, [r2, #12]
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
ARM GAS  /tmp/cchFjZSQ.s 			page 119


 5139              		.loc 1 1646 0
 5140 013a 06E0     		b	.L251
 5141              	.L233:
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     default:
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ret = HAL_ERROR;
 5142              		.loc 1 1649 0
 5143 013c 0123     		movs	r3, #1
 5144 013e FB75     		strb	r3, [r7, #23]
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5145              		.loc 1 1650 0
 5146 0140 04E0     		b	.L240
 5147              	.L249:
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5148              		.loc 1 1618 0
 5149 0142 00BF     		nop
 5150 0144 02E0     		b	.L240
 5151              	.L250:
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5152              		.loc 1 1634 0
 5153 0146 00BF     		nop
 5154 0148 00E0     		b	.L240
 5155              	.L251:
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5156              		.loc 1 1646 0
 5157 014a 00BF     		nop
 5158              	.L240:
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 5159              		.loc 1 1654 0
 5160 014c BB68     		ldr	r3, [r7, #8]
 5161 014e 03F58063 		add	r3, r3, #1024
 5162 0152 9A69     		ldr	r2, [r3, #24]
 5163 0154 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5164 0156 03F00F03 		and	r3, r3, #15
 5165 015a 0121     		movs	r1, #1
 5166 015c 01FA03F3 		lsl	r3, r1, r3
 5167 0160 B968     		ldr	r1, [r7, #8]
 5168 0162 01F58061 		add	r1, r1, #1024
 5169 0166 1343     		orrs	r3, r3, r2
 5170 0168 8B61     		str	r3, [r1, #24]
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 5171              		.loc 1 1657 0
 5172 016a 7B68     		ldr	r3, [r7, #4]
 5173 016c 9B69     		ldr	r3, [r3, #24]
 5174 016e 43F00072 		orr	r2, r3, #33554432
 5175 0172 7B68     		ldr	r3, [r7, #4]
 5176 0174 9A61     		str	r2, [r3, #24]
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 5177              		.loc 1 1660 0
 5178 0176 97F90230 		ldrsb	r3, [r7, #2]
ARM GAS  /tmp/cchFjZSQ.s 			page 120


 5179 017a 002B     		cmp	r3, #0
 5180 017c 03DA     		bge	.L243
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
 5181              		.loc 1 1662 0
 5182 017e 4FF40043 		mov	r3, #32768
 5183 0182 3B61     		str	r3, [r7, #16]
 5184 0184 01E0     		b	.L244
 5185              	.L243:
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = 0U;
 5186              		.loc 1 1666 0
 5187 0186 0023     		movs	r3, #0
 5188 0188 3B61     		str	r3, [r7, #16]
 5189              	.L244:
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == HPRT0_PRTSPD_LOW_SPEED)
 5190              		.loc 1 1669 0
 5191 018a 97F82030 		ldrb	r3, [r7, #32]	@ zero_extendqisi2
 5192 018e 022B     		cmp	r3, #2
 5193 0190 03D1     		bne	.L245
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
 5194              		.loc 1 1671 0
 5195 0192 4FF40033 		mov	r3, #131072
 5196 0196 FB60     		str	r3, [r7, #12]
 5197 0198 01E0     		b	.L246
 5198              	.L245:
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 5199              		.loc 1 1675 0
 5200 019a 0023     		movs	r3, #0
 5201 019c FB60     		str	r3, [r7, #12]
 5202              	.L246:
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
 5203              		.loc 1 1678 0
 5204 019e 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 5205 01a0 9B05     		lsls	r3, r3, #22
 5206 01a2 03F0FE52 		and	r2, r3, #532676608
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5207              		.loc 1 1679 0
 5208 01a6 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 5209 01a8 DB02     		lsls	r3, r3, #11
 5210 01aa 03F4F043 		and	r3, r3, #30720
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5211              		.loc 1 1678 0
 5212 01ae 1A43     		orrs	r2, r2, r3
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5213              		.loc 1 1680 0
 5214 01b0 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
ARM GAS  /tmp/cchFjZSQ.s 			page 121


 5215 01b4 9B04     		lsls	r3, r3, #18
 5216 01b6 03F44023 		and	r3, r3, #786432
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5217              		.loc 1 1679 0
 5218 01ba 1A43     		orrs	r2, r2, r3
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
 5219              		.loc 1 1681 0
 5220 01bc 3B8D     		ldrh	r3, [r7, #40]
 5221 01be C3F30A03 		ubfx	r3, r3, #0, #11
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5222              		.loc 1 1680 0
 5223 01c2 1A43     		orrs	r2, r2, r3
 5224              		.loc 1 1681 0
 5225 01c4 3B69     		ldr	r3, [r7, #16]
 5226 01c6 1A43     		orrs	r2, r2, r3
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5227              		.loc 1 1678 0
 5228 01c8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5229 01ca 5901     		lsls	r1, r3, #5
 5230 01cc BB68     		ldr	r3, [r7, #8]
 5231 01ce 0B44     		add	r3, r3, r1
 5232 01d0 03F5A063 		add	r3, r3, #1280
 5233 01d4 1946     		mov	r1, r3
 5234              		.loc 1 1681 0
 5235 01d6 FB68     		ldr	r3, [r7, #12]
 5236 01d8 1343     		orrs	r3, r3, r2
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5237              		.loc 1 1678 0
 5238 01da 0B60     		str	r3, [r1]
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep_type == EP_TYPE_INTR)
 5239              		.loc 1 1683 0
 5240 01dc 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 5241 01e0 032B     		cmp	r3, #3
 5242 01e2 0FD1     		bne	.L247
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM ;
 5243              		.loc 1 1685 0
 5244 01e4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5245 01e6 5A01     		lsls	r2, r3, #5
 5246 01e8 BB68     		ldr	r3, [r7, #8]
 5247 01ea 1344     		add	r3, r3, r2
 5248 01ec 03F5A063 		add	r3, r3, #1280
 5249 01f0 1B68     		ldr	r3, [r3]
 5250 01f2 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5251 01f4 5101     		lsls	r1, r2, #5
 5252 01f6 BA68     		ldr	r2, [r7, #8]
 5253 01f8 0A44     		add	r2, r2, r1
 5254 01fa 02F5A062 		add	r2, r2, #1280
 5255 01fe 43F00053 		orr	r3, r3, #536870912
 5256 0202 1360     		str	r3, [r2]
 5257              	.L247:
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 5258              		.loc 1 1688 0
 5259 0204 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
ARM GAS  /tmp/cchFjZSQ.s 			page 122


1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5260              		.loc 1 1689 0
 5261 0206 1846     		mov	r0, r3
 5262 0208 1C37     		adds	r7, r7, #28
 5263              	.LCFI243:
 5264              		.cfi_def_cfa_offset 4
 5265 020a BD46     		mov	sp, r7
 5266              	.LCFI244:
 5267              		.cfi_def_cfa_register 13
 5268              		@ sp needed
 5269 020c 5DF8047B 		ldr	r7, [sp], #4
 5270              	.LCFI245:
 5271              		.cfi_restore 7
 5272              		.cfi_def_cfa_offset 0
 5273 0210 7047     		bx	lr
 5274              		.cfi_endproc
 5275              	.LFE170:
 5277 0212 00BF     		.section	.text.USB_HC_StartXfer,"ax",%progbits
 5278              		.align	1
 5279              		.global	USB_HC_StartXfer
 5280              		.syntax unified
 5281              		.thumb
 5282              		.thumb_func
 5283              		.fpu fpv4-sp-d16
 5285              	USB_HC_StartXfer:
 5286              	.LFB171:
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5287              		.loc 1 1702 0
 5288              		.cfi_startproc
 5289              		@ args = 0, pretend = 0, frame = 40
 5290              		@ frame_needed = 1, uses_anonymous_args = 0
 5291 0000 80B5     		push	{r7, lr}
 5292              	.LCFI246:
 5293              		.cfi_def_cfa_offset 8
 5294              		.cfi_offset 7, -8
 5295              		.cfi_offset 14, -4
 5296 0002 8CB0     		sub	sp, sp, #48
 5297              	.LCFI247:
 5298              		.cfi_def_cfa_offset 56
 5299 0004 02AF     		add	r7, sp, #8
 5300              	.LCFI248:
 5301              		.cfi_def_cfa 7, 48
 5302 0006 F860     		str	r0, [r7, #12]
 5303 0008 B960     		str	r1, [r7, #8]
 5304 000a 1346     		mov	r3, r2
ARM GAS  /tmp/cchFjZSQ.s 			page 123


 5305 000c FB71     		strb	r3, [r7, #7]
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5306              		.loc 1 1703 0
 5307 000e FB68     		ldr	r3, [r7, #12]
 5308 0010 3B62     		str	r3, [r7, #32]
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 5309              		.loc 1 1704 0
 5310 0012 BB68     		ldr	r3, [r7, #8]
 5311 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5312 0016 FB61     		str	r3, [r7, #28]
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   static __IO uint32_t tmpreg = 0U;
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe;
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words;
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets;
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 5313              		.loc 1 1709 0
 5314 0018 4FF48073 		mov	r3, #256
 5315 001c 7B83     		strh	r3, [r7, #26]	@ movhi
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->CID & (0x1U << 8)) != 0U) && (hc->speed == USBH_HS_SPEED))
 5316              		.loc 1 1711 0
 5317 001e FB68     		ldr	r3, [r7, #12]
 5318 0020 DB6B     		ldr	r3, [r3, #60]
 5319 0022 03F48073 		and	r3, r3, #256
 5320 0026 002B     		cmp	r3, #0
 5321 0028 28D0     		beq	.L253
 5322              		.loc 1 1711 0 is_stmt 0 discriminator 1
 5323 002a BB68     		ldr	r3, [r7, #8]
 5324 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 5325 002e 002B     		cmp	r3, #0
 5326 0030 24D1     		bne	.L253
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 0U) && (hc->do_ping == 1U))
 5327              		.loc 1 1713 0 is_stmt 1
 5328 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5329 0034 002B     		cmp	r3, #0
 5330 0036 0BD1     		bne	.L254
 5331              		.loc 1 1713 0 is_stmt 0 discriminator 1
 5332 0038 BB68     		ldr	r3, [r7, #8]
 5333 003a 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5334 003c 012B     		cmp	r3, #1
 5335 003e 07D1     		bne	.L254
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_DoPing(USBx, hc->ch_num);
 5336              		.loc 1 1715 0 is_stmt 1
 5337 0040 BB68     		ldr	r3, [r7, #8]
 5338 0042 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5339 0044 1946     		mov	r1, r3
 5340 0046 F868     		ldr	r0, [r7, #12]
 5341 0048 FFF7FEFF 		bl	USB_DoPing
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 5342              		.loc 1 1716 0
 5343 004c 0023     		movs	r3, #0
 5344 004e 12E1     		b	.L255
 5345              	.L254:
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if (dma == 1U)
ARM GAS  /tmp/cchFjZSQ.s 			page 124


 5346              		.loc 1 1718 0
 5347 0050 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5348 0052 012B     		cmp	r3, #1
 5349 0054 12D1     		bne	.L253
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
 5350              		.loc 1 1720 0
 5351 0056 FB69     		ldr	r3, [r7, #28]
 5352 0058 5A01     		lsls	r2, r3, #5
 5353 005a 3B6A     		ldr	r3, [r7, #32]
 5354 005c 1344     		add	r3, r3, r2
 5355 005e 03F5A063 		add	r3, r3, #1280
 5356 0062 DB68     		ldr	r3, [r3, #12]
 5357 0064 FA69     		ldr	r2, [r7, #28]
 5358 0066 5101     		lsls	r1, r2, #5
 5359 0068 3A6A     		ldr	r2, [r7, #32]
 5360 006a 0A44     		add	r2, r2, r1
 5361 006c 02F5A062 		add	r2, r2, #1280
 5362 0070 23F06003 		bic	r3, r3, #96
 5363 0074 D360     		str	r3, [r2, #12]
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->do_ping = 0U;
 5364              		.loc 1 1721 0
 5365 0076 BB68     		ldr	r3, [r7, #8]
 5366 0078 0022     		movs	r2, #0
 5367 007a 5A71     		strb	r2, [r3, #5]
 5368              	.L253:
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* ... */
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 5369              		.loc 1 1730 0
 5370 007c BB68     		ldr	r3, [r7, #8]
 5371 007e 1B69     		ldr	r3, [r3, #16]
 5372 0080 002B     		cmp	r3, #0
 5373 0082 18D0     		beq	.L256
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 5374              		.loc 1 1732 0
 5375 0084 BB68     		ldr	r3, [r7, #8]
 5376 0086 1B69     		ldr	r3, [r3, #16]
 5377 0088 BA68     		ldr	r2, [r7, #8]
 5378 008a 1289     		ldrh	r2, [r2, #8]
 5379 008c 1344     		add	r3, r3, r2
 5380 008e 013B     		subs	r3, r3, #1
 5381 0090 BA68     		ldr	r2, [r7, #8]
 5382 0092 1289     		ldrh	r2, [r2, #8]
 5383 0094 B3FBF2F3 		udiv	r3, r3, r2
 5384 0098 FB84     		strh	r3, [r7, #38]	@ movhi
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 5385              		.loc 1 1734 0
 5386 009a FA8C     		ldrh	r2, [r7, #38]
ARM GAS  /tmp/cchFjZSQ.s 			page 125


 5387 009c 7B8B     		ldrh	r3, [r7, #26]
 5388 009e 9A42     		cmp	r2, r3
 5389 00a0 0BD9     		bls	.L258
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 5390              		.loc 1 1736 0
 5391 00a2 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 5392 00a4 FB84     		strh	r3, [r7, #38]	@ movhi
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->xfer_len = (uint32_t)num_packets * hc->max_packet;
 5393              		.loc 1 1737 0
 5394 00a6 FB8C     		ldrh	r3, [r7, #38]
 5395 00a8 BA68     		ldr	r2, [r7, #8]
 5396 00aa 1289     		ldrh	r2, [r2, #8]
 5397 00ac 02FB03F2 		mul	r2, r2, r3
 5398 00b0 BB68     		ldr	r3, [r7, #8]
 5399 00b2 1A61     		str	r2, [r3, #16]
 5400 00b4 01E0     		b	.L258
 5401              	.L256:
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1U;
 5402              		.loc 1 1742 0
 5403 00b6 0123     		movs	r3, #1
 5404 00b8 FB84     		strh	r3, [r7, #38]	@ movhi
 5405              	.L258:
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5406              		.loc 1 1744 0
 5407 00ba BB68     		ldr	r3, [r7, #8]
 5408 00bc DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5409 00be 002B     		cmp	r3, #0
 5410 00c0 06D0     		beq	.L259
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->xfer_len = (uint32_t)num_packets * hc->max_packet;
 5411              		.loc 1 1746 0
 5412 00c2 FB8C     		ldrh	r3, [r7, #38]
 5413 00c4 BA68     		ldr	r2, [r7, #8]
 5414 00c6 1289     		ldrh	r2, [r2, #8]
 5415 00c8 02FB03F2 		mul	r2, r2, r3
 5416 00cc BB68     		ldr	r3, [r7, #8]
 5417 00ce 1A61     		str	r2, [r3, #16]
 5418              	.L259:
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->xfer_len & USB_OTG_HCTSIZ_XFRSIZ) |
 5419              		.loc 1 1750 0
 5420 00d0 BB68     		ldr	r3, [r7, #8]
 5421 00d2 1B69     		ldr	r3, [r3, #16]
 5422 00d4 C3F31202 		ubfx	r2, r3, #0, #19
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5423              		.loc 1 1751 0
 5424 00d8 FB8C     		ldrh	r3, [r7, #38]
 5425 00da D904     		lsls	r1, r3, #19
 5426 00dc 684B     		ldr	r3, .L274
ARM GAS  /tmp/cchFjZSQ.s 			page 126


 5427 00de 0B40     		ands	r3, r3, r1
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5428              		.loc 1 1750 0
 5429 00e0 1A43     		orrs	r2, r2, r3
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 5430              		.loc 1 1752 0
 5431 00e2 BB68     		ldr	r3, [r7, #8]
 5432 00e4 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 5433 00e6 5B07     		lsls	r3, r3, #29
 5434 00e8 03F0C043 		and	r3, r3, #1610612736
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5435              		.loc 1 1750 0
 5436 00ec F969     		ldr	r1, [r7, #28]
 5437 00ee 4801     		lsls	r0, r1, #5
 5438 00f0 396A     		ldr	r1, [r7, #32]
 5439 00f2 0144     		add	r1, r1, r0
 5440 00f4 01F5A061 		add	r1, r1, #1280
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5441              		.loc 1 1751 0
 5442 00f8 1343     		orrs	r3, r3, r2
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5443              		.loc 1 1750 0
 5444 00fa 0B61     		str	r3, [r1, #16]
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U)
 5445              		.loc 1 1754 0
 5446 00fc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5447 00fe 002B     		cmp	r3, #0
 5448 0100 09D0     		beq	.L260
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 5449              		.loc 1 1757 0
 5450 0102 BB68     		ldr	r3, [r7, #8]
 5451 0104 D968     		ldr	r1, [r3, #12]
 5452 0106 FB69     		ldr	r3, [r7, #28]
 5453 0108 5A01     		lsls	r2, r3, #5
 5454 010a 3B6A     		ldr	r3, [r7, #32]
 5455 010c 1344     		add	r3, r3, r2
 5456 010e 03F5A063 		add	r3, r3, #1280
 5457 0112 0A46     		mov	r2, r1
 5458 0114 5A61     		str	r2, [r3, #20]
 5459              	.L260:
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
 5460              		.loc 1 1760 0
 5461 0116 3B6A     		ldr	r3, [r7, #32]
 5462 0118 03F58063 		add	r3, r3, #1024
 5463 011c 9B68     		ldr	r3, [r3, #8]
 5464 011e 03F00103 		and	r3, r3, #1
 5465 0122 002B     		cmp	r3, #0
 5466 0124 0CBF     		ite	eq
 5467 0126 0123     		moveq	r3, #1
 5468 0128 0023     		movne	r3, #0
 5469 012a DBB2     		uxtb	r3, r3
 5470 012c 7B76     		strb	r3, [r7, #25]
ARM GAS  /tmp/cchFjZSQ.s 			page 127


1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 5471              		.loc 1 1761 0
 5472 012e FB69     		ldr	r3, [r7, #28]
 5473 0130 5A01     		lsls	r2, r3, #5
 5474 0132 3B6A     		ldr	r3, [r7, #32]
 5475 0134 1344     		add	r3, r3, r2
 5476 0136 03F5A063 		add	r3, r3, #1280
 5477 013a 1B68     		ldr	r3, [r3]
 5478 013c FA69     		ldr	r2, [r7, #28]
 5479 013e 5101     		lsls	r1, r2, #5
 5480 0140 3A6A     		ldr	r2, [r7, #32]
 5481 0142 0A44     		add	r2, r2, r1
 5482 0144 02F5A062 		add	r2, r2, #1280
 5483 0148 23F00053 		bic	r3, r3, #536870912
 5484 014c 1360     		str	r3, [r2]
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 5485              		.loc 1 1762 0
 5486 014e FB69     		ldr	r3, [r7, #28]
 5487 0150 5A01     		lsls	r2, r3, #5
 5488 0152 3B6A     		ldr	r3, [r7, #32]
 5489 0154 1344     		add	r3, r3, r2
 5490 0156 03F5A063 		add	r3, r3, #1280
 5491 015a 1A68     		ldr	r2, [r3]
 5492 015c 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 5493 015e 5B07     		lsls	r3, r3, #29
 5494 0160 F969     		ldr	r1, [r7, #28]
 5495 0162 4801     		lsls	r0, r1, #5
 5496 0164 396A     		ldr	r1, [r7, #32]
 5497 0166 0144     		add	r1, r1, r0
 5498 0168 01F5A061 		add	r1, r1, #1280
 5499 016c 1343     		orrs	r3, r3, r2
 5500 016e 0B60     		str	r3, [r1]
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 5501              		.loc 1 1765 0
 5502 0170 FB69     		ldr	r3, [r7, #28]
 5503 0172 5A01     		lsls	r2, r3, #5
 5504 0174 3B6A     		ldr	r3, [r7, #32]
 5505 0176 1344     		add	r3, r3, r2
 5506 0178 03F5A063 		add	r3, r3, #1280
 5507 017c 1B68     		ldr	r3, [r3]
 5508 017e 414A     		ldr	r2, .L274+4
 5509 0180 1360     		str	r3, [r2]
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 5510              		.loc 1 1766 0
 5511 0182 404B     		ldr	r3, .L274+4
 5512 0184 1B68     		ldr	r3, [r3]
 5513 0186 23F08043 		bic	r3, r3, #1073741824
 5514 018a 3E4A     		ldr	r2, .L274+4
 5515 018c 1360     		str	r3, [r2]
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5516              		.loc 1 1769 0
 5517 018e BB68     		ldr	r3, [r7, #8]
 5518 0190 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
ARM GAS  /tmp/cchFjZSQ.s 			page 128


 5519 0192 002B     		cmp	r3, #0
 5520 0194 06D0     		beq	.L261
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 5521              		.loc 1 1771 0
 5522 0196 3B4B     		ldr	r3, .L274+4
 5523 0198 1B68     		ldr	r3, [r3]
 5524 019a 43F40043 		orr	r3, r3, #32768
 5525 019e 394A     		ldr	r2, .L274+4
 5526 01a0 1360     		str	r3, [r2]
 5527 01a2 05E0     		b	.L262
 5528              	.L261:
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 5529              		.loc 1 1775 0
 5530 01a4 374B     		ldr	r3, .L274+4
 5531 01a6 1B68     		ldr	r3, [r3]
 5532 01a8 23F40043 		bic	r3, r3, #32768
 5533 01ac 354A     		ldr	r2, .L274+4
 5534 01ae 1360     		str	r3, [r2]
 5535              	.L262:
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 5536              		.loc 1 1777 0
 5537 01b0 344B     		ldr	r3, .L274+4
 5538 01b2 1B68     		ldr	r3, [r3]
 5539 01b4 43F00043 		orr	r3, r3, #-2147483648
 5540 01b8 324A     		ldr	r2, .L274+4
 5541 01ba 1360     		str	r3, [r2]
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 5542              		.loc 1 1778 0
 5543 01bc FB69     		ldr	r3, [r7, #28]
 5544 01be 5A01     		lsls	r2, r3, #5
 5545 01c0 3B6A     		ldr	r3, [r7, #32]
 5546 01c2 1344     		add	r3, r3, r2
 5547 01c4 03F5A063 		add	r3, r3, #1280
 5548 01c8 1A46     		mov	r2, r3
 5549 01ca 2E4B     		ldr	r3, .L274+4
 5550 01cc 1B68     		ldr	r3, [r3]
 5551 01ce 1360     		str	r3, [r2]
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U) /* Slave mode */
 5552              		.loc 1 1780 0
 5553 01d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5554 01d2 002B     		cmp	r3, #0
 5555 01d4 4ED1     		bne	.L263
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 5556              		.loc 1 1782 0
 5557 01d6 BB68     		ldr	r3, [r7, #8]
 5558 01d8 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5559 01da 002B     		cmp	r3, #0
 5560 01dc 4AD1     		bne	.L263
 5561              		.loc 1 1782 0 is_stmt 0 discriminator 1
 5562 01de BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cchFjZSQ.s 			page 129


 5563 01e0 1B69     		ldr	r3, [r3, #16]
 5564 01e2 002B     		cmp	r3, #0
 5565 01e4 46D0     		beq	.L263
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       switch (hc->ep_type)
 5566              		.loc 1 1784 0 is_stmt 1
 5567 01e6 BB68     		ldr	r3, [r7, #8]
 5568 01e8 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 5569 01ea 032B     		cmp	r3, #3
 5570 01ec 30D8     		bhi	.L271
 5571 01ee 01A2     		adr	r2, .L266
 5572 01f0 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5573              		.p2align 2
 5574              	.L266:
 5575 01f4 05020000 		.word	.L265+1
 5576 01f8 29020000 		.word	.L267+1
 5577 01fc 05020000 		.word	.L265+1
 5578 0200 29020000 		.word	.L267+1
 5579              		.p2align 1
 5580              	.L265:
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Non periodic transfer */
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_CTRL:
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_BULK:
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 5581              		.loc 1 1790 0
 5582 0204 BB68     		ldr	r3, [r7, #8]
 5583 0206 1B69     		ldr	r3, [r3, #16]
 5584 0208 0333     		adds	r3, r3, #3
 5585 020a 9B08     		lsrs	r3, r3, #2
 5586 020c FB82     		strh	r3, [r7, #22]	@ movhi
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* check if there is enough space in FIFO space */
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 5587              		.loc 1 1793 0
 5588 020e FA8A     		ldrh	r2, [r7, #22]
 5589 0210 FB68     		ldr	r3, [r7, #12]
 5590 0212 DB6A     		ldr	r3, [r3, #44]
 5591 0214 9BB2     		uxth	r3, r3
 5592 0216 9A42     		cmp	r2, r3
 5593 0218 1CD9     		bls	.L272
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             /* need to process data in nptxfempty interrupt */
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 5594              		.loc 1 1796 0
 5595 021a FB68     		ldr	r3, [r7, #12]
 5596 021c 9B69     		ldr	r3, [r3, #24]
 5597 021e 43F02002 		orr	r2, r3, #32
 5598 0222 FB68     		ldr	r3, [r7, #12]
 5599 0224 9A61     		str	r2, [r3, #24]
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 5600              		.loc 1 1798 0
 5601 0226 15E0     		b	.L272
 5602              	.L267:
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/cchFjZSQ.s 			page 130


1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_INTR:
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_ISOC:
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 5603              		.loc 1 1803 0
 5604 0228 BB68     		ldr	r3, [r7, #8]
 5605 022a 1B69     		ldr	r3, [r3, #16]
 5606 022c 0333     		adds	r3, r3, #3
 5607 022e 9B08     		lsrs	r3, r3, #2
 5608 0230 FB82     		strh	r3, [r7, #22]	@ movhi
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* check if there is enough space in FIFO space */
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 5609              		.loc 1 1805 0
 5610 0232 FA8A     		ldrh	r2, [r7, #22]
 5611 0234 3B6A     		ldr	r3, [r7, #32]
 5612 0236 03F58063 		add	r3, r3, #1024
 5613 023a 1B69     		ldr	r3, [r3, #16]
 5614 023c 9BB2     		uxth	r3, r3
 5615 023e 9A42     		cmp	r2, r3
 5616 0240 0AD9     		bls	.L273
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             /* need to process data in ptxfempty interrupt */
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 5617              		.loc 1 1808 0
 5618 0242 FB68     		ldr	r3, [r7, #12]
 5619 0244 9B69     		ldr	r3, [r3, #24]
 5620 0246 43F08062 		orr	r2, r3, #67108864
 5621 024a FB68     		ldr	r3, [r7, #12]
 5622 024c 9A61     		str	r2, [r3, #24]
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 5623              		.loc 1 1810 0
 5624 024e 03E0     		b	.L273
 5625              	.L271:
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         default:
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 5626              		.loc 1 1813 0
 5627 0250 00BF     		nop
 5628 0252 02E0     		b	.L269
 5629              	.L272:
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5630              		.loc 1 1798 0
 5631 0254 00BF     		nop
 5632 0256 00E0     		b	.L269
 5633              	.L273:
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5634              		.loc 1 1810 0
 5635 0258 00BF     		nop
 5636              	.L269:
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Write packet into the Tx FIFO. */
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len, 0);
 5637              		.loc 1 1817 0
 5638 025a BB68     		ldr	r3, [r7, #8]
 5639 025c D968     		ldr	r1, [r3, #12]
ARM GAS  /tmp/cchFjZSQ.s 			page 131


 5640 025e BB68     		ldr	r3, [r7, #8]
 5641 0260 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 5642 0262 BB68     		ldr	r3, [r7, #8]
 5643 0264 1B69     		ldr	r3, [r3, #16]
 5644 0266 98B2     		uxth	r0, r3
 5645 0268 0023     		movs	r3, #0
 5646 026a 0093     		str	r3, [sp]
 5647 026c 0346     		mov	r3, r0
 5648 026e F868     		ldr	r0, [r7, #12]
 5649 0270 FFF7FEFF 		bl	USB_WritePacket
 5650              	.L263:
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5651              		.loc 1 1821 0
 5652 0274 0023     		movs	r3, #0
 5653              	.L255:
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5654              		.loc 1 1822 0
 5655 0276 1846     		mov	r0, r3
 5656 0278 2837     		adds	r7, r7, #40
 5657              	.LCFI249:
 5658              		.cfi_def_cfa_offset 8
 5659 027a BD46     		mov	sp, r7
 5660              	.LCFI250:
 5661              		.cfi_def_cfa_register 13
 5662              		@ sp needed
 5663 027c 80BD     		pop	{r7, pc}
 5664              	.L275:
 5665 027e 00BF     		.align	2
 5666              	.L274:
 5667 0280 0000F81F 		.word	536346624
 5668 0284 00000000 		.word	tmpreg.8004
 5669              		.cfi_endproc
 5670              	.LFE171:
 5672              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 5673              		.align	1
 5674              		.global	USB_HC_ReadInterrupt
 5675              		.syntax unified
 5676              		.thumb
 5677              		.thumb_func
 5678              		.fpu fpv4-sp-d16
 5680              	USB_HC_ReadInterrupt:
 5681              	.LFB172:
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5682              		.loc 1 1830 0
 5683              		.cfi_startproc
 5684              		@ args = 0, pretend = 0, frame = 16
 5685              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/cchFjZSQ.s 			page 132


 5686              		@ link register save eliminated.
 5687 0000 80B4     		push	{r7}
 5688              	.LCFI251:
 5689              		.cfi_def_cfa_offset 4
 5690              		.cfi_offset 7, -4
 5691 0002 85B0     		sub	sp, sp, #20
 5692              	.LCFI252:
 5693              		.cfi_def_cfa_offset 24
 5694 0004 00AF     		add	r7, sp, #0
 5695              	.LCFI253:
 5696              		.cfi_def_cfa_register 7
 5697 0006 7860     		str	r0, [r7, #4]
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5698              		.loc 1 1831 0
 5699 0008 7B68     		ldr	r3, [r7, #4]
 5700 000a FB60     		str	r3, [r7, #12]
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 5701              		.loc 1 1833 0
 5702 000c FB68     		ldr	r3, [r7, #12]
 5703 000e 03F58063 		add	r3, r3, #1024
 5704 0012 5B69     		ldr	r3, [r3, #20]
 5705 0014 9BB2     		uxth	r3, r3
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5706              		.loc 1 1834 0
 5707 0016 1846     		mov	r0, r3
 5708 0018 1437     		adds	r7, r7, #20
 5709              	.LCFI254:
 5710              		.cfi_def_cfa_offset 4
 5711 001a BD46     		mov	sp, r7
 5712              	.LCFI255:
 5713              		.cfi_def_cfa_register 13
 5714              		@ sp needed
 5715 001c 5DF8047B 		ldr	r7, [sp], #4
 5716              	.LCFI256:
 5717              		.cfi_restore 7
 5718              		.cfi_def_cfa_offset 0
 5719 0020 7047     		bx	lr
 5720              		.cfi_endproc
 5721              	.LFE172:
 5723              		.section	.text.USB_HC_Halt,"ax",%progbits
 5724              		.align	1
 5725              		.global	USB_HC_Halt
 5726              		.syntax unified
 5727              		.thumb
 5728              		.thumb_func
 5729              		.fpu fpv4-sp-d16
 5731              	USB_HC_Halt:
 5732              	.LFB173:
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
ARM GAS  /tmp/cchFjZSQ.s 			page 133


1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5733              		.loc 1 1844 0
 5734              		.cfi_startproc
 5735              		@ args = 0, pretend = 0, frame = 24
 5736              		@ frame_needed = 1, uses_anonymous_args = 0
 5737              		@ link register save eliminated.
 5738 0000 80B4     		push	{r7}
 5739              	.LCFI257:
 5740              		.cfi_def_cfa_offset 4
 5741              		.cfi_offset 7, -4
 5742 0002 87B0     		sub	sp, sp, #28
 5743              	.LCFI258:
 5744              		.cfi_def_cfa_offset 32
 5745 0004 00AF     		add	r7, sp, #0
 5746              	.LCFI259:
 5747              		.cfi_def_cfa_register 7
 5748 0006 7860     		str	r0, [r7, #4]
 5749 0008 0B46     		mov	r3, r1
 5750 000a FB70     		strb	r3, [r7, #3]
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5751              		.loc 1 1845 0
 5752 000c 7B68     		ldr	r3, [r7, #4]
 5753 000e 3B61     		str	r3, [r7, #16]
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 5754              		.loc 1 1846 0
 5755 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5756 0012 FB60     		str	r3, [r7, #12]
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 5757              		.loc 1 1847 0
 5758 0014 0023     		movs	r3, #0
 5759 0016 7B61     		str	r3, [r7, #20]
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 5760              		.loc 1 1848 0
 5761 0018 FB68     		ldr	r3, [r7, #12]
 5762 001a 5A01     		lsls	r2, r3, #5
 5763 001c 3B69     		ldr	r3, [r7, #16]
 5764 001e 1344     		add	r3, r3, r2
 5765 0020 03F5A063 		add	r3, r3, #1280
 5766 0024 1B68     		ldr	r3, [r3]
 5767 0026 9B0C     		lsrs	r3, r3, #18
 5768 0028 03F00303 		and	r3, r3, #3
 5769 002c BB60     		str	r3, [r7, #8]
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 5770              		.loc 1 1851 0
 5771 002e BB68     		ldr	r3, [r7, #8]
 5772 0030 002B     		cmp	r3, #0
 5773 0032 02D0     		beq	.L279
 5774              		.loc 1 1851 0 is_stmt 0 discriminator 1
 5775 0034 BB68     		ldr	r3, [r7, #8]
 5776 0036 022B     		cmp	r3, #2
 5777 0038 6CD1     		bne	.L280
 5778              	.L279:
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
ARM GAS  /tmp/cchFjZSQ.s 			page 134


 5779              		.loc 1 1853 0 is_stmt 1
 5780 003a FB68     		ldr	r3, [r7, #12]
 5781 003c 5A01     		lsls	r2, r3, #5
 5782 003e 3B69     		ldr	r3, [r7, #16]
 5783 0040 1344     		add	r3, r3, r2
 5784 0042 03F5A063 		add	r3, r3, #1280
 5785 0046 1B68     		ldr	r3, [r3]
 5786 0048 FA68     		ldr	r2, [r7, #12]
 5787 004a 5101     		lsls	r1, r2, #5
 5788 004c 3A69     		ldr	r2, [r7, #16]
 5789 004e 0A44     		add	r2, r2, r1
 5790 0050 02F5A062 		add	r2, r2, #1280
 5791 0054 43F08043 		orr	r3, r3, #1073741824
 5792 0058 1360     		str	r3, [r2]
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
 5793              		.loc 1 1855 0
 5794 005a 7B68     		ldr	r3, [r7, #4]
 5795 005c DB6A     		ldr	r3, [r3, #44]
 5796 005e 03F47F03 		and	r3, r3, #16711680
 5797 0062 002B     		cmp	r3, #0
 5798 0064 43D1     		bne	.L281
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 5799              		.loc 1 1857 0
 5800 0066 FB68     		ldr	r3, [r7, #12]
 5801 0068 5A01     		lsls	r2, r3, #5
 5802 006a 3B69     		ldr	r3, [r7, #16]
 5803 006c 1344     		add	r3, r3, r2
 5804 006e 03F5A063 		add	r3, r3, #1280
 5805 0072 1B68     		ldr	r3, [r3]
 5806 0074 FA68     		ldr	r2, [r7, #12]
 5807 0076 5101     		lsls	r1, r2, #5
 5808 0078 3A69     		ldr	r2, [r7, #16]
 5809 007a 0A44     		add	r2, r2, r1
 5810 007c 02F5A062 		add	r2, r2, #1280
 5811 0080 23F00043 		bic	r3, r3, #-2147483648
 5812 0084 1360     		str	r3, [r2]
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 5813              		.loc 1 1858 0
 5814 0086 FB68     		ldr	r3, [r7, #12]
 5815 0088 5A01     		lsls	r2, r3, #5
 5816 008a 3B69     		ldr	r3, [r7, #16]
 5817 008c 1344     		add	r3, r3, r2
 5818 008e 03F5A063 		add	r3, r3, #1280
 5819 0092 1B68     		ldr	r3, [r3]
 5820 0094 FA68     		ldr	r2, [r7, #12]
 5821 0096 5101     		lsls	r1, r2, #5
 5822 0098 3A69     		ldr	r2, [r7, #16]
 5823 009a 0A44     		add	r2, r2, r1
 5824 009c 02F5A062 		add	r2, r2, #1280
 5825 00a0 43F00043 		orr	r3, r3, #-2147483648
 5826 00a4 1360     		str	r3, [r2]
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_EPDIR;
 5827              		.loc 1 1859 0
 5828 00a6 FB68     		ldr	r3, [r7, #12]
 5829 00a8 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/cchFjZSQ.s 			page 135


 5830 00aa 3B69     		ldr	r3, [r7, #16]
 5831 00ac 1344     		add	r3, r3, r2
 5832 00ae 03F5A063 		add	r3, r3, #1280
 5833 00b2 1B68     		ldr	r3, [r3]
 5834 00b4 FA68     		ldr	r2, [r7, #12]
 5835 00b6 5101     		lsls	r1, r2, #5
 5836 00b8 3A69     		ldr	r2, [r7, #16]
 5837 00ba 0A44     		add	r2, r2, r1
 5838 00bc 02F5A062 		add	r2, r2, #1280
 5839 00c0 23F40043 		bic	r3, r3, #32768
 5840 00c4 1360     		str	r3, [r2]
 5841              	.L284:
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U)
 5842              		.loc 1 1862 0
 5843 00c6 7B69     		ldr	r3, [r7, #20]
 5844 00c8 0133     		adds	r3, r3, #1
 5845 00ca 7B61     		str	r3, [r7, #20]
 5846 00cc 7B69     		ldr	r3, [r7, #20]
 5847 00ce B3F57A7F 		cmp	r3, #1000
 5848 00d2 1DD8     		bhi	.L293
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 5849              		.loc 1 1867 0
 5850 00d4 FB68     		ldr	r3, [r7, #12]
 5851 00d6 5A01     		lsls	r2, r3, #5
 5852 00d8 3B69     		ldr	r3, [r7, #16]
 5853 00da 1344     		add	r3, r3, r2
 5854 00dc 03F5A063 		add	r3, r3, #1280
 5855 00e0 1B68     		ldr	r3, [r3]
 5856 00e2 03F00043 		and	r3, r3, #-2147483648
 5857 00e6 B3F1004F 		cmp	r3, #-2147483648
 5858 00ea ECD0     		beq	.L284
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5859              		.loc 1 1855 0
 5860 00ec 80E0     		b	.L286
 5861              	.L281:
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 5862              		.loc 1 1871 0
 5863 00ee FB68     		ldr	r3, [r7, #12]
 5864 00f0 5A01     		lsls	r2, r3, #5
 5865 00f2 3B69     		ldr	r3, [r7, #16]
 5866 00f4 1344     		add	r3, r3, r2
 5867 00f6 03F5A063 		add	r3, r3, #1280
 5868 00fa 1B68     		ldr	r3, [r3]
 5869 00fc FA68     		ldr	r2, [r7, #12]
 5870 00fe 5101     		lsls	r1, r2, #5
 5871 0100 3A69     		ldr	r2, [r7, #16]
 5872 0102 0A44     		add	r2, r2, r1
 5873 0104 02F5A062 		add	r2, r2, #1280
ARM GAS  /tmp/cchFjZSQ.s 			page 136


 5874 0108 43F00043 		orr	r3, r3, #-2147483648
 5875 010c 1360     		str	r3, [r2]
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5876              		.loc 1 1855 0
 5877 010e 6FE0     		b	.L286
 5878              	.L293:
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5879              		.loc 1 1864 0
 5880 0110 00BF     		nop
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5881              		.loc 1 1855 0
 5882 0112 6DE0     		b	.L286
 5883              	.L280:
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 5884              		.loc 1 1876 0
 5885 0114 FB68     		ldr	r3, [r7, #12]
 5886 0116 5A01     		lsls	r2, r3, #5
 5887 0118 3B69     		ldr	r3, [r7, #16]
 5888 011a 1344     		add	r3, r3, r2
 5889 011c 03F5A063 		add	r3, r3, #1280
 5890 0120 1B68     		ldr	r3, [r3]
 5891 0122 FA68     		ldr	r2, [r7, #12]
 5892 0124 5101     		lsls	r1, r2, #5
 5893 0126 3A69     		ldr	r2, [r7, #16]
 5894 0128 0A44     		add	r2, r2, r1
 5895 012a 02F5A062 		add	r2, r2, #1280
 5896 012e 43F08043 		orr	r3, r3, #1073741824
 5897 0132 1360     		str	r3, [r2]
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
 5898              		.loc 1 1878 0
 5899 0134 3B69     		ldr	r3, [r7, #16]
 5900 0136 03F58063 		add	r3, r3, #1024
 5901 013a 1B69     		ldr	r3, [r3, #16]
 5902 013c 03F47F03 		and	r3, r3, #16711680
 5903 0140 002B     		cmp	r3, #0
 5904 0142 43D1     		bne	.L287
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 5905              		.loc 1 1880 0
 5906 0144 FB68     		ldr	r3, [r7, #12]
 5907 0146 5A01     		lsls	r2, r3, #5
 5908 0148 3B69     		ldr	r3, [r7, #16]
 5909 014a 1344     		add	r3, r3, r2
 5910 014c 03F5A063 		add	r3, r3, #1280
 5911 0150 1B68     		ldr	r3, [r3]
 5912 0152 FA68     		ldr	r2, [r7, #12]
 5913 0154 5101     		lsls	r1, r2, #5
 5914 0156 3A69     		ldr	r2, [r7, #16]
 5915 0158 0A44     		add	r2, r2, r1
 5916 015a 02F5A062 		add	r2, r2, #1280
 5917 015e 23F00043 		bic	r3, r3, #-2147483648
 5918 0162 1360     		str	r3, [r2]
ARM GAS  /tmp/cchFjZSQ.s 			page 137


1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 5919              		.loc 1 1881 0
 5920 0164 FB68     		ldr	r3, [r7, #12]
 5921 0166 5A01     		lsls	r2, r3, #5
 5922 0168 3B69     		ldr	r3, [r7, #16]
 5923 016a 1344     		add	r3, r3, r2
 5924 016c 03F5A063 		add	r3, r3, #1280
 5925 0170 1B68     		ldr	r3, [r3]
 5926 0172 FA68     		ldr	r2, [r7, #12]
 5927 0174 5101     		lsls	r1, r2, #5
 5928 0176 3A69     		ldr	r2, [r7, #16]
 5929 0178 0A44     		add	r2, r2, r1
 5930 017a 02F5A062 		add	r2, r2, #1280
 5931 017e 43F00043 		orr	r3, r3, #-2147483648
 5932 0182 1360     		str	r3, [r2]
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_EPDIR;
 5933              		.loc 1 1882 0
 5934 0184 FB68     		ldr	r3, [r7, #12]
 5935 0186 5A01     		lsls	r2, r3, #5
 5936 0188 3B69     		ldr	r3, [r7, #16]
 5937 018a 1344     		add	r3, r3, r2
 5938 018c 03F5A063 		add	r3, r3, #1280
 5939 0190 1B68     		ldr	r3, [r3]
 5940 0192 FA68     		ldr	r2, [r7, #12]
 5941 0194 5101     		lsls	r1, r2, #5
 5942 0196 3A69     		ldr	r2, [r7, #16]
 5943 0198 0A44     		add	r2, r2, r1
 5944 019a 02F5A062 		add	r2, r2, #1280
 5945 019e 23F40043 		bic	r3, r3, #32768
 5946 01a2 1360     		str	r3, [r2]
 5947              	.L290:
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U)
 5948              		.loc 1 1885 0
 5949 01a4 7B69     		ldr	r3, [r7, #20]
 5950 01a6 0133     		adds	r3, r3, #1
 5951 01a8 7B61     		str	r3, [r7, #20]
 5952 01aa 7B69     		ldr	r3, [r7, #20]
 5953 01ac B3F57A7F 		cmp	r3, #1000
 5954 01b0 1DD8     		bhi	.L294
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 5955              		.loc 1 1890 0
 5956 01b2 FB68     		ldr	r3, [r7, #12]
 5957 01b4 5A01     		lsls	r2, r3, #5
 5958 01b6 3B69     		ldr	r3, [r7, #16]
 5959 01b8 1344     		add	r3, r3, r2
 5960 01ba 03F5A063 		add	r3, r3, #1280
 5961 01be 1B68     		ldr	r3, [r3]
 5962 01c0 03F00043 		and	r3, r3, #-2147483648
 5963 01c4 B3F1004F 		cmp	r3, #-2147483648
 5964 01c8 ECD0     		beq	.L290
 5965 01ca 11E0     		b	.L286
ARM GAS  /tmp/cchFjZSQ.s 			page 138


 5966              	.L287:
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 5967              		.loc 1 1894 0
 5968 01cc FB68     		ldr	r3, [r7, #12]
 5969 01ce 5A01     		lsls	r2, r3, #5
 5970 01d0 3B69     		ldr	r3, [r7, #16]
 5971 01d2 1344     		add	r3, r3, r2
 5972 01d4 03F5A063 		add	r3, r3, #1280
 5973 01d8 1B68     		ldr	r3, [r3]
 5974 01da FA68     		ldr	r2, [r7, #12]
 5975 01dc 5101     		lsls	r1, r2, #5
 5976 01de 3A69     		ldr	r2, [r7, #16]
 5977 01e0 0A44     		add	r2, r2, r1
 5978 01e2 02F5A062 		add	r2, r2, #1280
 5979 01e6 43F00043 		orr	r3, r3, #-2147483648
 5980 01ea 1360     		str	r3, [r2]
 5981 01ec 00E0     		b	.L286
 5982              	.L294:
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5983              		.loc 1 1887 0
 5984 01ee 00BF     		nop
 5985              	.L286:
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5986              		.loc 1 1898 0
 5987 01f0 0023     		movs	r3, #0
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5988              		.loc 1 1899 0
 5989 01f2 1846     		mov	r0, r3
 5990 01f4 1C37     		adds	r7, r7, #28
 5991              	.LCFI260:
 5992              		.cfi_def_cfa_offset 4
 5993 01f6 BD46     		mov	sp, r7
 5994              	.LCFI261:
 5995              		.cfi_def_cfa_register 13
 5996              		@ sp needed
 5997 01f8 5DF8047B 		ldr	r7, [sp], #4
 5998              	.LCFI262:
 5999              		.cfi_restore 7
 6000              		.cfi_def_cfa_offset 0
 6001 01fc 7047     		bx	lr
 6002              		.cfi_endproc
 6003              	.LFE173:
 6005              		.section	.text.USB_DoPing,"ax",%progbits
 6006              		.align	1
 6007              		.global	USB_DoPing
 6008              		.syntax unified
 6009              		.thumb
 6010              		.thumb_func
 6011              		.fpu fpv4-sp-d16
 6013              	USB_DoPing:
 6014              	.LFB174:
ARM GAS  /tmp/cchFjZSQ.s 			page 139


1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6015              		.loc 1 1909 0
 6016              		.cfi_startproc
 6017              		@ args = 0, pretend = 0, frame = 24
 6018              		@ frame_needed = 1, uses_anonymous_args = 0
 6019              		@ link register save eliminated.
 6020 0000 80B4     		push	{r7}
 6021              	.LCFI263:
 6022              		.cfi_def_cfa_offset 4
 6023              		.cfi_offset 7, -4
 6024 0002 87B0     		sub	sp, sp, #28
 6025              	.LCFI264:
 6026              		.cfi_def_cfa_offset 32
 6027 0004 00AF     		add	r7, sp, #0
 6028              	.LCFI265:
 6029              		.cfi_def_cfa_register 7
 6030 0006 7860     		str	r0, [r7, #4]
 6031 0008 0B46     		mov	r3, r1
 6032 000a FB70     		strb	r3, [r7, #3]
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6033              		.loc 1 1910 0
 6034 000c 7B68     		ldr	r3, [r7, #4]
 6035 000e 7B61     		str	r3, [r7, #20]
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 6036              		.loc 1 1911 0
 6037 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6038 0012 3B61     		str	r3, [r7, #16]
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t num_packets = 1U;
 6039              		.loc 1 1912 0
 6040 0014 0123     		movs	r3, #1
 6041 0016 FB60     		str	r3, [r7, #12]
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6042              		.loc 1 1915 0
 6043 0018 FB68     		ldr	r3, [r7, #12]
 6044 001a DA04     		lsls	r2, r3, #19
 6045 001c 154B     		ldr	r3, .L297
 6046 001e 1340     		ands	r3, r3, r2
 6047 0020 3A69     		ldr	r2, [r7, #16]
 6048 0022 5101     		lsls	r1, r2, #5
 6049 0024 7A69     		ldr	r2, [r7, #20]
 6050 0026 0A44     		add	r2, r2, r1
 6051 0028 02F5A062 		add	r2, r2, #1280
 6052 002c 43F00043 		orr	r3, r3, #-2147483648
 6053 0030 1361     		str	r3, [r2, #16]
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/cchFjZSQ.s 			page 140


1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 6054              		.loc 1 1919 0
 6055 0032 3B69     		ldr	r3, [r7, #16]
 6056 0034 5A01     		lsls	r2, r3, #5
 6057 0036 7B69     		ldr	r3, [r7, #20]
 6058 0038 1344     		add	r3, r3, r2
 6059 003a 03F5A063 		add	r3, r3, #1280
 6060 003e 1B68     		ldr	r3, [r3]
 6061 0040 BB60     		str	r3, [r7, #8]
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 6062              		.loc 1 1920 0
 6063 0042 BB68     		ldr	r3, [r7, #8]
 6064 0044 23F08043 		bic	r3, r3, #1073741824
 6065 0048 BB60     		str	r3, [r7, #8]
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6066              		.loc 1 1921 0
 6067 004a BB68     		ldr	r3, [r7, #8]
 6068 004c 43F00043 		orr	r3, r3, #-2147483648
 6069 0050 BB60     		str	r3, [r7, #8]
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 6070              		.loc 1 1922 0
 6071 0052 3B69     		ldr	r3, [r7, #16]
 6072 0054 5A01     		lsls	r2, r3, #5
 6073 0056 7B69     		ldr	r3, [r7, #20]
 6074 0058 1344     		add	r3, r3, r2
 6075 005a 03F5A063 		add	r3, r3, #1280
 6076 005e 1A46     		mov	r2, r3
 6077 0060 BB68     		ldr	r3, [r7, #8]
 6078 0062 1360     		str	r3, [r2]
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6079              		.loc 1 1924 0
 6080 0064 0023     		movs	r3, #0
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6081              		.loc 1 1925 0
 6082 0066 1846     		mov	r0, r3
 6083 0068 1C37     		adds	r7, r7, #28
 6084              	.LCFI266:
 6085              		.cfi_def_cfa_offset 4
 6086 006a BD46     		mov	sp, r7
 6087              	.LCFI267:
 6088              		.cfi_def_cfa_register 13
 6089              		@ sp needed
 6090 006c 5DF8047B 		ldr	r7, [sp], #4
 6091              	.LCFI268:
 6092              		.cfi_restore 7
 6093              		.cfi_def_cfa_offset 0
 6094 0070 7047     		bx	lr
 6095              	.L298:
 6096 0072 00BF     		.align	2
 6097              	.L297:
 6098 0074 0000F81F 		.word	536346624
 6099              		.cfi_endproc
 6100              	.LFE174:
 6102              		.section	.text.USB_StopHost,"ax",%progbits
 6103              		.align	1
ARM GAS  /tmp/cchFjZSQ.s 			page 141


 6104              		.global	USB_StopHost
 6105              		.syntax unified
 6106              		.thumb
 6107              		.thumb_func
 6108              		.fpu fpv4-sp-d16
 6110              	USB_StopHost:
 6111              	.LFB175:
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6112              		.loc 1 1933 0
 6113              		.cfi_startproc
 6114              		@ args = 0, pretend = 0, frame = 24
 6115              		@ frame_needed = 1, uses_anonymous_args = 0
 6116 0000 80B5     		push	{r7, lr}
 6117              	.LCFI269:
 6118              		.cfi_def_cfa_offset 8
 6119              		.cfi_offset 7, -8
 6120              		.cfi_offset 14, -4
 6121 0002 86B0     		sub	sp, sp, #24
 6122              	.LCFI270:
 6123              		.cfi_def_cfa_offset 32
 6124 0004 00AF     		add	r7, sp, #0
 6125              	.LCFI271:
 6126              		.cfi_def_cfa_register 7
 6127 0006 7860     		str	r0, [r7, #4]
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6128              		.loc 1 1934 0
 6129 0008 7B68     		ldr	r3, [r7, #4]
 6130 000a FB60     		str	r3, [r7, #12]
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 6131              		.loc 1 1935 0
 6132 000c 0023     		movs	r3, #0
 6133 000e 7B61     		str	r3, [r7, #20]
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 6134              		.loc 1 1940 0
 6135 0010 7868     		ldr	r0, [r7, #4]
 6136 0012 FFF7FEFF 		bl	USB_DisableGlobalInt
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush FIFO */
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushTxFifo(USBx, 0x10U);
 6137              		.loc 1 1943 0
 6138 0016 1021     		movs	r1, #16
 6139 0018 7868     		ldr	r0, [r7, #4]
 6140 001a FFF7FEFF 		bl	USB_FlushTxFifo
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushRxFifo(USBx);
 6141              		.loc 1 1944 0
 6142 001e 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/cchFjZSQ.s 			page 142


 6143 0020 FFF7FEFF 		bl	USB_FlushRxFifo
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6144              		.loc 1 1947 0
 6145 0024 0023     		movs	r3, #0
 6146 0026 3B61     		str	r3, [r7, #16]
 6147 0028 1FE0     		b	.L300
 6148              	.L301:
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6149              		.loc 1 1949 0 discriminator 3
 6150 002a 3B69     		ldr	r3, [r7, #16]
 6151 002c 5A01     		lsls	r2, r3, #5
 6152 002e FB68     		ldr	r3, [r7, #12]
 6153 0030 1344     		add	r3, r3, r2
 6154 0032 03F5A063 		add	r3, r3, #1280
 6155 0036 1B68     		ldr	r3, [r3]
 6156 0038 BB60     		str	r3, [r7, #8]
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 6157              		.loc 1 1950 0 discriminator 3
 6158 003a BB68     		ldr	r3, [r7, #8]
 6159 003c 43F08043 		orr	r3, r3, #1073741824
 6160 0040 BB60     		str	r3, [r7, #8]
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 6161              		.loc 1 1951 0 discriminator 3
 6162 0042 BB68     		ldr	r3, [r7, #8]
 6163 0044 23F00043 		bic	r3, r3, #-2147483648
 6164 0048 BB60     		str	r3, [r7, #8]
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6165              		.loc 1 1952 0 discriminator 3
 6166 004a BB68     		ldr	r3, [r7, #8]
 6167 004c 23F40043 		bic	r3, r3, #32768
 6168 0050 BB60     		str	r3, [r7, #8]
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6169              		.loc 1 1953 0 discriminator 3
 6170 0052 3B69     		ldr	r3, [r7, #16]
 6171 0054 5A01     		lsls	r2, r3, #5
 6172 0056 FB68     		ldr	r3, [r7, #12]
 6173 0058 1344     		add	r3, r3, r2
 6174 005a 03F5A063 		add	r3, r3, #1280
 6175 005e 1A46     		mov	r2, r3
 6176 0060 BB68     		ldr	r3, [r7, #8]
 6177 0062 1360     		str	r3, [r2]
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6178              		.loc 1 1947 0 discriminator 3
 6179 0064 3B69     		ldr	r3, [r7, #16]
 6180 0066 0133     		adds	r3, r3, #1
 6181 0068 3B61     		str	r3, [r7, #16]
 6182              	.L300:
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6183              		.loc 1 1947 0 is_stmt 0 discriminator 1
 6184 006a 3B69     		ldr	r3, [r7, #16]
 6185 006c 0F2B     		cmp	r3, #15
 6186 006e DCD9     		bls	.L301
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/cchFjZSQ.s 			page 143


1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6187              		.loc 1 1957 0 is_stmt 1
 6188 0070 0023     		movs	r3, #0
 6189 0072 3B61     		str	r3, [r7, #16]
 6190 0074 34E0     		b	.L302
 6191              	.L306:
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6192              		.loc 1 1959 0
 6193 0076 3B69     		ldr	r3, [r7, #16]
 6194 0078 5A01     		lsls	r2, r3, #5
 6195 007a FB68     		ldr	r3, [r7, #12]
 6196 007c 1344     		add	r3, r3, r2
 6197 007e 03F5A063 		add	r3, r3, #1280
 6198 0082 1B68     		ldr	r3, [r3]
 6199 0084 BB60     		str	r3, [r7, #8]
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 6200              		.loc 1 1960 0
 6201 0086 BB68     		ldr	r3, [r7, #8]
 6202 0088 43F08043 		orr	r3, r3, #1073741824
 6203 008c BB60     		str	r3, [r7, #8]
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 6204              		.loc 1 1961 0
 6205 008e BB68     		ldr	r3, [r7, #8]
 6206 0090 43F00043 		orr	r3, r3, #-2147483648
 6207 0094 BB60     		str	r3, [r7, #8]
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6208              		.loc 1 1962 0
 6209 0096 BB68     		ldr	r3, [r7, #8]
 6210 0098 23F40043 		bic	r3, r3, #32768
 6211 009c BB60     		str	r3, [r7, #8]
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6212              		.loc 1 1963 0
 6213 009e 3B69     		ldr	r3, [r7, #16]
 6214 00a0 5A01     		lsls	r2, r3, #5
 6215 00a2 FB68     		ldr	r3, [r7, #12]
 6216 00a4 1344     		add	r3, r3, r2
 6217 00a6 03F5A063 		add	r3, r3, #1280
 6218 00aa 1A46     		mov	r2, r3
 6219 00ac BB68     		ldr	r3, [r7, #8]
 6220 00ae 1360     		str	r3, [r2]
 6221              	.L305:
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 1000U)
 6222              		.loc 1 1967 0
 6223 00b0 7B69     		ldr	r3, [r7, #20]
 6224 00b2 0133     		adds	r3, r3, #1
 6225 00b4 7B61     		str	r3, [r7, #20]
 6226 00b6 7B69     		ldr	r3, [r7, #20]
 6227 00b8 B3F57A7F 		cmp	r3, #1000
 6228 00bc 0CD8     		bhi	.L308
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
ARM GAS  /tmp/cchFjZSQ.s 			page 144


1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6229              		.loc 1 1972 0
 6230 00be 3B69     		ldr	r3, [r7, #16]
 6231 00c0 5A01     		lsls	r2, r3, #5
 6232 00c2 FB68     		ldr	r3, [r7, #12]
 6233 00c4 1344     		add	r3, r3, r2
 6234 00c6 03F5A063 		add	r3, r3, #1280
 6235 00ca 1B68     		ldr	r3, [r3]
 6236 00cc 03F00043 		and	r3, r3, #-2147483648
 6237 00d0 B3F1004F 		cmp	r3, #-2147483648
 6238 00d4 ECD0     		beq	.L305
 6239 00d6 00E0     		b	.L304
 6240              	.L308:
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 6241              		.loc 1 1969 0
 6242 00d8 00BF     		nop
 6243              	.L304:
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6244              		.loc 1 1957 0 discriminator 2
 6245 00da 3B69     		ldr	r3, [r7, #16]
 6246 00dc 0133     		adds	r3, r3, #1
 6247 00de 3B61     		str	r3, [r7, #16]
 6248              	.L302:
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6249              		.loc 1 1957 0 is_stmt 0 discriminator 1
 6250 00e0 3B69     		ldr	r3, [r7, #16]
 6251 00e2 0F2B     		cmp	r3, #15
 6252 00e4 C7D9     		bls	.L306
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 6253              		.loc 1 1976 0 is_stmt 1
 6254 00e6 FB68     		ldr	r3, [r7, #12]
 6255 00e8 03F58063 		add	r3, r3, #1024
 6256 00ec 1A46     		mov	r2, r3
 6257 00ee 4FF0FF33 		mov	r3, #-1
 6258 00f2 5361     		str	r3, [r2, #20]
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 6259              		.loc 1 1977 0
 6260 00f4 7B68     		ldr	r3, [r7, #4]
 6261 00f6 4FF0FF32 		mov	r2, #-1
 6262 00fa 5A61     		str	r2, [r3, #20]
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 6263              		.loc 1 1978 0
 6264 00fc 7868     		ldr	r0, [r7, #4]
 6265 00fe FFF7FEFF 		bl	USB_EnableGlobalInt
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6266              		.loc 1 1980 0
 6267 0102 0023     		movs	r3, #0
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6268              		.loc 1 1981 0
 6269 0104 1846     		mov	r0, r3
 6270 0106 1837     		adds	r7, r7, #24
 6271              	.LCFI272:
ARM GAS  /tmp/cchFjZSQ.s 			page 145


 6272              		.cfi_def_cfa_offset 8
 6273 0108 BD46     		mov	sp, r7
 6274              	.LCFI273:
 6275              		.cfi_def_cfa_register 13
 6276              		@ sp needed
 6277 010a 80BD     		pop	{r7, pc}
 6278              		.cfi_endproc
 6279              	.LFE175:
 6281              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 6282              		.align	1
 6283              		.global	USB_ActivateRemoteWakeup
 6284              		.syntax unified
 6285              		.thumb
 6286              		.thumb_func
 6287              		.fpu fpv4-sp-d16
 6289              	USB_ActivateRemoteWakeup:
 6290              	.LFB176:
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6291              		.loc 1 1989 0
 6292              		.cfi_startproc
 6293              		@ args = 0, pretend = 0, frame = 16
 6294              		@ frame_needed = 1, uses_anonymous_args = 0
 6295              		@ link register save eliminated.
 6296 0000 80B4     		push	{r7}
 6297              	.LCFI274:
 6298              		.cfi_def_cfa_offset 4
 6299              		.cfi_offset 7, -4
 6300 0002 85B0     		sub	sp, sp, #20
 6301              	.LCFI275:
 6302              		.cfi_def_cfa_offset 24
 6303 0004 00AF     		add	r7, sp, #0
 6304              	.LCFI276:
 6305              		.cfi_def_cfa_register 7
 6306 0006 7860     		str	r0, [r7, #4]
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6307              		.loc 1 1990 0
 6308 0008 7B68     		ldr	r3, [r7, #4]
 6309 000a FB60     		str	r3, [r7, #12]
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 6310              		.loc 1 1992 0
 6311 000c FB68     		ldr	r3, [r7, #12]
 6312 000e 03F50063 		add	r3, r3, #2048
 6313 0012 9B68     		ldr	r3, [r3, #8]
 6314 0014 03F00103 		and	r3, r3, #1
 6315 0018 012B     		cmp	r3, #1
 6316 001a 09D1     		bne	.L310
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* active Remote wakeup signalling */
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
ARM GAS  /tmp/cchFjZSQ.s 			page 146


 6317              		.loc 1 1995 0
 6318 001c FB68     		ldr	r3, [r7, #12]
 6319 001e 03F50063 		add	r3, r3, #2048
 6320 0022 5B68     		ldr	r3, [r3, #4]
 6321 0024 FA68     		ldr	r2, [r7, #12]
 6322 0026 02F50062 		add	r2, r2, #2048
 6323 002a 43F00103 		orr	r3, r3, #1
 6324 002e 5360     		str	r3, [r2, #4]
 6325              	.L310:
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6326              		.loc 1 1998 0
 6327 0030 0023     		movs	r3, #0
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6328              		.loc 1 1999 0
 6329 0032 1846     		mov	r0, r3
 6330 0034 1437     		adds	r7, r7, #20
 6331              	.LCFI277:
 6332              		.cfi_def_cfa_offset 4
 6333 0036 BD46     		mov	sp, r7
 6334              	.LCFI278:
 6335              		.cfi_def_cfa_register 13
 6336              		@ sp needed
 6337 0038 5DF8047B 		ldr	r7, [sp], #4
 6338              	.LCFI279:
 6339              		.cfi_restore 7
 6340              		.cfi_def_cfa_offset 0
 6341 003c 7047     		bx	lr
 6342              		.cfi_endproc
 6343              	.LFE176:
 6345              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 6346              		.align	1
 6347              		.global	USB_DeActivateRemoteWakeup
 6348              		.syntax unified
 6349              		.thumb
 6350              		.thumb_func
 6351              		.fpu fpv4-sp-d16
 6353              	USB_DeActivateRemoteWakeup:
 6354              	.LFB177:
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6355              		.loc 1 2007 0
 6356              		.cfi_startproc
 6357              		@ args = 0, pretend = 0, frame = 16
 6358              		@ frame_needed = 1, uses_anonymous_args = 0
 6359              		@ link register save eliminated.
 6360 0000 80B4     		push	{r7}
 6361              	.LCFI280:
 6362              		.cfi_def_cfa_offset 4
 6363              		.cfi_offset 7, -4
ARM GAS  /tmp/cchFjZSQ.s 			page 147


 6364 0002 85B0     		sub	sp, sp, #20
 6365              	.LCFI281:
 6366              		.cfi_def_cfa_offset 24
 6367 0004 00AF     		add	r7, sp, #0
 6368              	.LCFI282:
 6369              		.cfi_def_cfa_register 7
 6370 0006 7860     		str	r0, [r7, #4]
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6371              		.loc 1 2008 0
 6372 0008 7B68     		ldr	r3, [r7, #4]
 6373 000a FB60     		str	r3, [r7, #12]
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* active Remote wakeup signalling */
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 6374              		.loc 1 2011 0
 6375 000c FB68     		ldr	r3, [r7, #12]
 6376 000e 03F50063 		add	r3, r3, #2048
 6377 0012 5B68     		ldr	r3, [r3, #4]
 6378 0014 FA68     		ldr	r2, [r7, #12]
 6379 0016 02F50062 		add	r2, r2, #2048
 6380 001a 23F00103 		bic	r3, r3, #1
 6381 001e 5360     		str	r3, [r2, #4]
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6382              		.loc 1 2013 0
 6383 0020 0023     		movs	r3, #0
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6384              		.loc 1 2014 0
 6385 0022 1846     		mov	r0, r3
 6386 0024 1437     		adds	r7, r7, #20
 6387              	.LCFI283:
 6388              		.cfi_def_cfa_offset 4
 6389 0026 BD46     		mov	sp, r7
 6390              	.LCFI284:
 6391              		.cfi_def_cfa_register 13
 6392              		@ sp needed
 6393 0028 5DF8047B 		ldr	r7, [sp], #4
 6394              	.LCFI285:
 6395              		.cfi_restore 7
 6396              		.cfi_def_cfa_offset 0
 6397 002c 7047     		bx	lr
 6398              		.cfi_endproc
 6399              	.LFE177:
 6401              		.section	.bss.tmpreg.8004,"aw",%nobits
 6402              		.align	2
 6405              	tmpreg.8004:
 6406 0000 00000000 		.space	4
 6407              		.text
 6408              	.Letext0:
 6409              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 6410              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 6411              		.file 4 "Drivers/CMSIS/Include/cmsis_gcc.h"
 6412              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 6413              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6414              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 6415              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6416              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
ARM GAS  /tmp/cchFjZSQ.s 			page 148


 6417              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/cchFjZSQ.s 			page 149


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_ll_usb.c
     /tmp/cchFjZSQ.s:18     .text.USB_CoreInit:0000000000000000 $t
     /tmp/cchFjZSQ.s:25     .text.USB_CoreInit:0000000000000000 USB_CoreInit
     /tmp/cchFjZSQ.s:4272   .text.USB_CoreReset:0000000000000000 USB_CoreReset
     /tmp/cchFjZSQ.s:161    .text.USB_SetTurnaroundTime:0000000000000000 $t
     /tmp/cchFjZSQ.s:168    .text.USB_SetTurnaroundTime:0000000000000000 USB_SetTurnaroundTime
     /tmp/cchFjZSQ.s:380    .text.USB_SetTurnaroundTime:000000000000011c $d
     /tmp/cchFjZSQ.s:394    .text.USB_EnableGlobalInt:0000000000000000 $t
     /tmp/cchFjZSQ.s:401    .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
     /tmp/cchFjZSQ.s:445    .text.USB_DisableGlobalInt:0000000000000000 $t
     /tmp/cchFjZSQ.s:452    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
     /tmp/cchFjZSQ.s:496    .text.USB_SetCurrentMode:0000000000000000 $t
     /tmp/cchFjZSQ.s:503    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
     /tmp/cchFjZSQ.s:577    .text.USB_DevInit:0000000000000000 $t
     /tmp/cchFjZSQ.s:584    .text.USB_DevInit:0000000000000000 USB_DevInit
     /tmp/cchFjZSQ.s:1177   .text.USB_SetDevSpeed:0000000000000000 USB_SetDevSpeed
     /tmp/cchFjZSQ.s:1022   .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
     /tmp/cchFjZSQ.s:1101   .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
     /tmp/cchFjZSQ.s:1009   .text.USB_DevInit:00000000000002dc $d
     /tmp/cchFjZSQ.s:1015   .text.USB_FlushTxFifo:0000000000000000 $t
     /tmp/cchFjZSQ.s:1089   .text.USB_FlushTxFifo:0000000000000048 $d
     /tmp/cchFjZSQ.s:1094   .text.USB_FlushRxFifo:0000000000000000 $t
     /tmp/cchFjZSQ.s:1165   .text.USB_FlushRxFifo:0000000000000040 $d
     /tmp/cchFjZSQ.s:1170   .text.USB_SetDevSpeed:0000000000000000 $t
     /tmp/cchFjZSQ.s:1229   .text.USB_GetDevSpeed:0000000000000000 $t
     /tmp/cchFjZSQ.s:1236   .text.USB_GetDevSpeed:0000000000000000 USB_GetDevSpeed
     /tmp/cchFjZSQ.s:1310   .text.USB_ActivateEndpoint:0000000000000000 $t
     /tmp/cchFjZSQ.s:1317   .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
     /tmp/cchFjZSQ.s:1474   .text.USB_ActivateDedicatedEndpoint:0000000000000000 $t
     /tmp/cchFjZSQ.s:1481   .text.USB_ActivateDedicatedEndpoint:0000000000000000 USB_ActivateDedicatedEndpoint
     /tmp/cchFjZSQ.s:1644   .text.USB_DeactivateEndpoint:0000000000000000 $t
     /tmp/cchFjZSQ.s:1651   .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
     /tmp/cchFjZSQ.s:1796   .text.USB_DeactivateEndpoint:0000000000000100 $d
     /tmp/cchFjZSQ.s:1802   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 $t
     /tmp/cchFjZSQ.s:1809   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 USB_DeactivateDedicatedEndpoint
     /tmp/cchFjZSQ.s:1921   .text.USB_EPStartXfer:0000000000000000 $t
     /tmp/cchFjZSQ.s:1928   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
     /tmp/cchFjZSQ.s:2879   .text.USB_WritePacket:0000000000000000 USB_WritePacket
     /tmp/cchFjZSQ.s:2360   .text.USB_EPStartXfer:0000000000000370 $d
     /tmp/cchFjZSQ.s:2363   .text.USB_EPStartXfer:0000000000000374 $t
     /tmp/cchFjZSQ.s:2504   .text.USB_EPStartXfer:0000000000000484 $d
     /tmp/cchFjZSQ.s:2509   .text.USB_EP0StartXfer:0000000000000000 $t
     /tmp/cchFjZSQ.s:2516   .text.USB_EP0StartXfer:0000000000000000 USB_EP0StartXfer
     /tmp/cchFjZSQ.s:2872   .text.USB_WritePacket:0000000000000000 $t
     /tmp/cchFjZSQ.s:2969   .text.USB_ReadPacket:0000000000000000 $t
     /tmp/cchFjZSQ.s:2976   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
     /tmp/cchFjZSQ.s:3053   .text.USB_EPSetStall:0000000000000000 $t
     /tmp/cchFjZSQ.s:3060   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
     /tmp/cchFjZSQ.s:3198   .text.USB_EPClearStall:0000000000000000 $t
     /tmp/cchFjZSQ.s:3205   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
     /tmp/cchFjZSQ.s:3337   .text.USB_StopDevice:0000000000000000 $t
     /tmp/cchFjZSQ.s:3344   .text.USB_StopDevice:0000000000000000 USB_StopDevice
     /tmp/cchFjZSQ.s:3459   .text.USB_SetDevAddress:0000000000000000 $t
     /tmp/cchFjZSQ.s:3466   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
     /tmp/cchFjZSQ.s:3528   .text.USB_DevConnect:0000000000000000 $t
     /tmp/cchFjZSQ.s:3535   .text.USB_DevConnect:0000000000000000 USB_DevConnect
ARM GAS  /tmp/cchFjZSQ.s 			page 150


     /tmp/cchFjZSQ.s:3583   .text.USB_DevDisconnect:0000000000000000 $t
     /tmp/cchFjZSQ.s:3590   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
     /tmp/cchFjZSQ.s:3638   .text.USB_ReadInterrupts:0000000000000000 $t
     /tmp/cchFjZSQ.s:3645   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
     /tmp/cchFjZSQ.s:3693   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
     /tmp/cchFjZSQ.s:3700   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
     /tmp/cchFjZSQ.s:3754   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
     /tmp/cchFjZSQ.s:3761   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
     /tmp/cchFjZSQ.s:3815   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
     /tmp/cchFjZSQ.s:3822   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
     /tmp/cchFjZSQ.s:3880   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
     /tmp/cchFjZSQ.s:3887   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
     /tmp/cchFjZSQ.s:3960   .text.USB_ClearInterrupts:0000000000000000 $t
     /tmp/cchFjZSQ.s:3967   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
     /tmp/cchFjZSQ.s:4011   .text.USB_GetMode:0000000000000000 $t
     /tmp/cchFjZSQ.s:4018   .text.USB_GetMode:0000000000000000 USB_GetMode
     /tmp/cchFjZSQ.s:4058   .text.USB_ActivateSetup:0000000000000000 $t
     /tmp/cchFjZSQ.s:4065   .text.USB_ActivateSetup:0000000000000000 USB_ActivateSetup
     /tmp/cchFjZSQ.s:4139   .text.USB_EP0_OutStart:0000000000000000 $t
     /tmp/cchFjZSQ.s:4146   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
     /tmp/cchFjZSQ.s:4261   .text.USB_EP0_OutStart:00000000000000b8 $d
     /tmp/cchFjZSQ.s:4266   .text.USB_CoreReset:0000000000000000 $t
     /tmp/cchFjZSQ.s:4359   .text.USB_CoreReset:0000000000000064 $d
     /tmp/cchFjZSQ.s:4364   .text.USB_HostInit:0000000000000000 $t
     /tmp/cchFjZSQ.s:4371   .text.USB_HostInit:0000000000000000 USB_HostInit
     /tmp/cchFjZSQ.s:4770   .text.USB_DriveVbus:0000000000000000 USB_DriveVbus
     /tmp/cchFjZSQ.s:4589   .text.USB_HostInit:0000000000000164 $d
     /tmp/cchFjZSQ.s:4598   .text.USB_InitFSLSPClkSel:0000000000000000 $t
     /tmp/cchFjZSQ.s:4605   .text.USB_InitFSLSPClkSel:0000000000000000 USB_InitFSLSPClkSel
     /tmp/cchFjZSQ.s:4689   .text.USB_ResetPort:0000000000000000 $t
     /tmp/cchFjZSQ.s:4696   .text.USB_ResetPort:0000000000000000 USB_ResetPort
     /tmp/cchFjZSQ.s:4763   .text.USB_DriveVbus:0000000000000000 $t
     /tmp/cchFjZSQ.s:4857   .text.USB_GetHostSpeed:0000000000000000 $t
     /tmp/cchFjZSQ.s:4864   .text.USB_GetHostSpeed:0000000000000000 USB_GetHostSpeed
     /tmp/cchFjZSQ.s:4915   .text.USB_GetCurrentFrame:0000000000000000 $t
     /tmp/cchFjZSQ.s:4922   .text.USB_GetCurrentFrame:0000000000000000 USB_GetCurrentFrame
     /tmp/cchFjZSQ.s:4966   .text.USB_HC_Init:0000000000000000 $t
     /tmp/cchFjZSQ.s:4973   .text.USB_HC_Init:0000000000000000 USB_HC_Init
     /tmp/cchFjZSQ.s:5023   .text.USB_HC_Init:0000000000000044 $d
     /tmp/cchFjZSQ.s:5027   .text.USB_HC_Init:0000000000000054 $t
     /tmp/cchFjZSQ.s:5278   .text.USB_HC_StartXfer:0000000000000000 $t
     /tmp/cchFjZSQ.s:5285   .text.USB_HC_StartXfer:0000000000000000 USB_HC_StartXfer
     /tmp/cchFjZSQ.s:6013   .text.USB_DoPing:0000000000000000 USB_DoPing
     /tmp/cchFjZSQ.s:5575   .text.USB_HC_StartXfer:00000000000001f4 $d
     /tmp/cchFjZSQ.s:5579   .text.USB_HC_StartXfer:0000000000000204 $t
     /tmp/cchFjZSQ.s:5667   .text.USB_HC_StartXfer:0000000000000280 $d
     /tmp/cchFjZSQ.s:6405   .bss.tmpreg.8004:0000000000000000 tmpreg.8004
     /tmp/cchFjZSQ.s:5673   .text.USB_HC_ReadInterrupt:0000000000000000 $t
     /tmp/cchFjZSQ.s:5680   .text.USB_HC_ReadInterrupt:0000000000000000 USB_HC_ReadInterrupt
     /tmp/cchFjZSQ.s:5724   .text.USB_HC_Halt:0000000000000000 $t
     /tmp/cchFjZSQ.s:5731   .text.USB_HC_Halt:0000000000000000 USB_HC_Halt
     /tmp/cchFjZSQ.s:6006   .text.USB_DoPing:0000000000000000 $t
     /tmp/cchFjZSQ.s:6098   .text.USB_DoPing:0000000000000074 $d
     /tmp/cchFjZSQ.s:6103   .text.USB_StopHost:0000000000000000 $t
     /tmp/cchFjZSQ.s:6110   .text.USB_StopHost:0000000000000000 USB_StopHost
     /tmp/cchFjZSQ.s:6282   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
     /tmp/cchFjZSQ.s:6289   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
ARM GAS  /tmp/cchFjZSQ.s 			page 151


     /tmp/cchFjZSQ.s:6346   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/cchFjZSQ.s:6353   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup
     /tmp/cchFjZSQ.s:6402   .bss.tmpreg.8004:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_Delay
